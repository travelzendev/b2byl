(function($,undefined){var kendo=window.kendo=window.kendo||{},extend=$.extend,each=$.each,proxy=$.proxy,isArray=$.isArray,noop=$.noop,isFunction=$.isFunction,math=Math,Template,JSON=window.JSON||{},support={},percentRegExp=/%/,formatRegExp=/\{(\d+)(:[^\}]+)?\}/g,boxShadowRegExp=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,FUNCTION="function",STRING="string",NUMBER="number",OBJECT="object",NULL="null",BOOLEAN="boolean",UNDEFINED="undefined",getterCache={},setterCache={},slice=[].slice,globalize=window.Globalize;function Class(){}Class.extend=function(proto){var base=function(){},member,that=this,subclass=proto&&proto.init?proto.init:function(){that.apply(this,arguments)},fn;base.prototype=that.prototype;fn=subclass.fn=subclass.prototype=new base();for(member in proto){if(typeof proto[member]===OBJECT&&!(proto[member] instanceof Array)&&proto[member]!==null){fn[member]=extend(true,{},base.prototype[member],proto[member])}else{fn[member]=proto[member]}}fn.constructor=subclass;subclass.extend=that.extend;return subclass};var Observable=Class.extend({init:function(){this._events={}},bind:function(eventName,handlers,one){var that=this,idx,eventNames=typeof eventName===STRING?[eventName]:eventName,length,original,handler,handlersIsFunction=typeof handlers===FUNCTION,events;for(idx=0,length=eventNames.length;idx<length;idx++){eventName=eventNames[idx];handler=handlersIsFunction?handlers:handlers[eventName];if(handler){if(one){original=handler;handler=function(){that.unbind(eventName,handler);original.apply(that,arguments)}}events=that._events[eventName]=that._events[eventName]||[];events.push(handler)}}return that},one:function(eventNames,handlers){return this.bind(eventNames,handlers,true)},first:function(eventName,handlers){var that=this,idx,eventNames=typeof eventName===STRING?[eventName]:eventName,length,handler,handlersIsFunction=typeof handlers===FUNCTION,events;for(idx=0,length=eventNames.length;idx<length;idx++){eventName=eventNames[idx];handler=handlersIsFunction?handlers:handlers[eventName];if(handler){events=that._events[eventName]=that._events[eventName]||[];events.unshift(handler)}}return that},trigger:function(eventName,e){var that=this,events=that._events[eventName],idx,length,isDefaultPrevented=false;if(events){e=e||{};e.sender=that;e.preventDefault=function(){isDefaultPrevented=true};e.isDefaultPrevented=function(){return isDefaultPrevented};events=events.slice();for(idx=0,length=events.length;idx<length;idx++){events[idx].call(that,e)}}return isDefaultPrevented},unbind:function(eventName,handler){var that=this,events=that._events[eventName],idx,length;if(eventName===undefined){that._events={}}else{if(events){if(handler){for(idx=0,length=events.length;idx<length;idx++){if(events[idx]===handler){events.splice(idx,1)}}}else{that._events[eventName]=[]}}}return that}});function compilePart(part,stringPart){if(stringPart){return"'"+part.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}else{var first=part.charAt(0),rest=part.substring(1);if(first==="="){return"+("+rest+")+"}else{if(first===":"){return"+e("+rest+")+"}else{return";"+part+";o+="}}}}var argumentNameRegExp=/^\w+/,encodeRegExp=/\$\{([^}]*)\}/g,escapedCurlyRegExp=/\\\}/g,curlyRegExp=/__CURLY__/g,escapedSharpRegExp=/\\#/g,sharpRegExp=/__SHARP__/g,zeros=["","0","00","000","0000"];Template={paramName:"data",useWithBlock:true,render:function(template,data){var idx,length,html="";for(idx=0,length=data.length;idx<length;idx++){html+=template(data[idx])}return html},compile:function(template,options){var settings=extend({},this,options),paramName=settings.paramName,argumentName=paramName.match(argumentNameRegExp)[0],useWithBlock=settings.useWithBlock,functionBody="var o,e=kendo.htmlEncode;",parts,idx;if(isFunction(template)){if(template.length===2){return function(d){return template($,{data:d}).join("")}}return template}functionBody+=useWithBlock?"with("+paramName+"){":"";functionBody+="o=";parts=template.replace(escapedCurlyRegExp,"__CURLY__").replace(encodeRegExp,"#=e($1)#").replace(curlyRegExp,"}").replace(escapedSharpRegExp,"__SHARP__").split("#");for(idx=0;idx<parts.length;idx++){functionBody+=compilePart(parts[idx],idx%2===0)}functionBody+=useWithBlock?";}":";";functionBody+="return o;";functionBody=functionBody.replace(sharpRegExp,"#");try{return new Function(argumentName,functionBody)}catch(e){throw new Error(kendo.format("Invalid template:'{0}' Generated code:'{1}'",template,functionBody))}}};function pad(number,digits,end){number=number+"";digits=digits||2;end=digits-number.length;if(end){return zeros[digits].substring(0,end)+number}return number}(function(){var escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep,toString={}.toString;if(typeof Date.prototype.toJSON!==FUNCTION){Date.prototype.toJSON=function(key){var that=this;return isFinite(that.valueOf())?pad(that.getUTCFullYear(),4)+"-"+pad(that.getUTCMonth()+1)+"-"+pad(that.getUTCDate())+"T"+pad(that.getUTCHours())+":"+pad(that.getUTCMinutes())+":"+pad(that.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c===STRING?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key],type;if(value&&typeof value===OBJECT&&typeof value.toJSON===FUNCTION){value=value.toJSON(key)}if(typeof rep===FUNCTION){value=rep.call(holder,key,value)}type=typeof value;if(type===STRING){return quote(value)}else{if(type===NUMBER){return isFinite(value)?String(value):NULL}else{if(type===BOOLEAN||type===NULL){return String(value)}else{if(type===OBJECT){if(!value){return NULL}gap+=indent;partial=[];if(toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i++){partial[i]=str(i,value)||NULL}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep===OBJECT){length=rep.length;for(i=0;i<length;i++){if(typeof rep[i]===STRING){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}}}}if(typeof JSON.stringify!==FUNCTION){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space===NUMBER){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space===STRING){indent=space}}rep=replacer;if(replacer&&typeof replacer!==FUNCTION&&(typeof replacer!==OBJECT||typeof replacer.length!==NUMBER)){throw new Error("JSON.stringify")}return str("",{"":value})}}})();(function(){var dateFormatRegExp=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,standardFormatRegExp=/^(n|c|p|e)(\d*)$/i,literalRegExp=/["'].*?["']/g,commaRegExp=/\,/g,EMPTY="",POINT=".",COMMA=",",SHARP="#",ZERO="0",PLACEHOLDER="??",EN="en-US";kendo.cultures={"en-US":{name:EN,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0}}}};function findCulture(culture){if(culture){if(culture.numberFormat){return culture}if(typeof culture===STRING){var cultures=kendo.cultures;return cultures[culture]||cultures[culture.split("-")[0]]||null}return null}return null}function getCulture(culture){if(culture){culture=findCulture(culture)}return culture||kendo.cultures.current}kendo.culture=function(cultureName){var cultures=kendo.cultures,culture;if(cultureName!==undefined){culture=findCulture(cultureName)||cultures[EN];culture.calendar=culture.calendars.standard;cultures.current=culture}else{return cultures.current}};kendo.findCulture=findCulture;kendo.getCulture=getCulture;kendo.culture(EN);function formatDate(date,format,culture){culture=getCulture(culture);var calendar=culture.calendars.standard,days=calendar.days,months=calendar.months;format=calendar.patterns[format]||format;return format.replace(dateFormatRegExp,function(match){var result;if(match==="d"){result=date.getDate()}else{if(match==="dd"){result=pad(date.getDate())}else{if(match==="ddd"){result=days.namesAbbr[date.getDay()]}else{if(match==="dddd"){result=days.names[date.getDay()]}else{if(match==="M"){result=date.getMonth()+1}else{if(match==="MM"){result=pad(date.getMonth()+1)}else{if(match==="MMM"){result=months.namesAbbr[date.getMonth()]}else{if(match==="MMMM"){result=months.names[date.getMonth()]}else{if(match==="yy"){result=pad(date.getFullYear()%100)}else{if(match==="yyyy"){result=pad(date.getFullYear(),4)}else{if(match==="h"){result=date.getHours()%12||12}else{if(match==="hh"){result=pad(date.getHours()%12||12)}else{if(match==="H"){result=date.getHours()}else{if(match==="HH"){result=pad(date.getHours())}else{if(match==="m"){result=date.getMinutes()}else{if(match==="mm"){result=pad(date.getMinutes())}else{if(match==="s"){result=date.getSeconds()}else{if(match==="ss"){result=pad(date.getSeconds())}else{if(match==="f"){result=math.floor(date.getMilliseconds()/100)}else{if(match==="ff"){result=math.floor(date.getMilliseconds()/10)}else{if(match==="fff"){result=date.getMilliseconds()}else{if(match==="tt"){result=date.getHours()<12?calendar.AM[0]:calendar.PM[0]}}}}}}}}}}}}}}}}}}}}}}return result!==undefined?result:match.slice(1,match.length-1)})}function formatNumber(number,format,culture){culture=getCulture(culture);var numberFormat=culture.numberFormat,groupSize=numberFormat.groupSize[0],groupSeparator=numberFormat[COMMA],decimal=numberFormat[POINT],precision=numberFormat.decimals,pattern=numberFormat.pattern[0],literals=[],symbol,isCurrency,isPercent,customPrecision,formatAndPrecision,negative=number<0,integer,fraction,integerLength,fractionLength,replacement=EMPTY,value=EMPTY,idx,length,ch,hasGroup,hasNegativeFormat,decimalIndex,sharpIndex,zeroIndex,percentIndex,startZeroIndex,start=-1,end;if(number===undefined){return EMPTY}if(!isFinite(number)){return number}if(!format){return culture.name.length?number.toLocaleString():number.toString()}formatAndPrecision=standardFormatRegExp.exec(format);if(formatAndPrecision){format=formatAndPrecision[1].toLowerCase();isCurrency=format==="c";isPercent=format==="p";if(isCurrency||isPercent){numberFormat=isCurrency?numberFormat.currency:numberFormat.percent;groupSize=numberFormat.groupSize[0];groupSeparator=numberFormat[COMMA];decimal=numberFormat[POINT];precision=numberFormat.decimals;symbol=numberFormat.symbol;pattern=numberFormat.pattern[negative?0:1]}customPrecision=formatAndPrecision[2];if(customPrecision){precision=+customPrecision}if(format==="e"){return customPrecision?number.toExponential(precision):number.toExponential()}if(isPercent){number*=100}number=number.toFixed(precision);number=number.split(POINT);integer=number[0];fraction=number[1];if(negative){integer=integer.substring(1)}value=integer;integerLength=integer.length;if(integerLength>=groupSize){value=EMPTY;for(idx=0;idx<integerLength;idx++){if(idx>0&&(integerLength-idx)%groupSize===0){value+=groupSeparator}value+=integer.charAt(idx)}}if(fraction){value+=decimal+fraction}if(format==="n"&&!negative){return value}number=EMPTY;for(idx=0,length=pattern.length;idx<length;idx++){ch=pattern.charAt(idx);if(ch==="n"){number+=value}else{if(ch==="$"||ch==="%"){number+=symbol}else{number+=ch}}}return number}if(negative){number=-number}format=format.split(";");if(negative&&format[1]){format=format[1];hasNegativeFormat=true}else{if(number===0){format=format[2]||format[0];if(format.indexOf(SHARP)==-1&&format.indexOf(ZERO)==-1){return format}}else{format=format[0]}}if(format.indexOf("'")>-1||format.indexOf('"')>-1){format=format.replace(literalRegExp,function(match){literals.push(match);return PLACEHOLDER})}percentIndex=format.indexOf("%");isPercent=percentIndex!=-1;isCurrency=format.indexOf("$")!=-1;if(isPercent){if(format[percentIndex-1]!=="\\"){number*=100}else{format=format.split("\\").join("")}}if(isCurrency||isPercent){numberFormat=isCurrency?numberFormat.currency:numberFormat.percent;groupSize=numberFormat.groupSize[0];groupSeparator=numberFormat[COMMA];decimal=numberFormat[POINT];precision=numberFormat.decimals;symbol=numberFormat.symbol}hasGroup=format.indexOf(COMMA)>-1;if(hasGroup){format=format.replace(commaRegExp,EMPTY)}decimalIndex=format.indexOf(POINT);length=format.length;if(decimalIndex!=-1){zeroIndex=format.lastIndexOf(ZERO);sharpIndex=format.lastIndexOf(SHARP);fraction=number.toString().split(POINT)[1]||EMPTY;if(sharpIndex>zeroIndex&&fraction.length>(sharpIndex-zeroIndex)){idx=sharpIndex}else{if(zeroIndex!=-1&&zeroIndex>=decimalIndex){idx=zeroIndex}}if(idx){number=number.toFixed(idx-decimalIndex)}}else{number=number.toFixed(0)}sharpIndex=format.indexOf(SHARP);startZeroIndex=zeroIndex=format.indexOf(ZERO);if(sharpIndex==-1&&zeroIndex!=-1){start=zeroIndex}else{if(sharpIndex!=-1&&zeroIndex==-1){start=sharpIndex}else{start=sharpIndex>zeroIndex?zeroIndex:sharpIndex}}sharpIndex=format.lastIndexOf(SHARP);zeroIndex=format.lastIndexOf(ZERO);if(sharpIndex==-1&&zeroIndex!=-1){end=zeroIndex}else{if(sharpIndex!=-1&&zeroIndex==-1){end=sharpIndex}else{end=sharpIndex>zeroIndex?sharpIndex:zeroIndex}}if(start==length){end=start}if(start!=-1){value=number.toString().split(POINT);integer=value[0];fraction=value[1]||EMPTY;integerLength=integer.length;fractionLength=fraction.length;if(hasGroup){if(integerLength===groupSize&&integerLength<decimalIndex-startZeroIndex){integer=groupSeparator+integer}else{if(integerLength>groupSize){value=EMPTY;for(idx=0;idx<integerLength;idx++){if(idx>0&&(integerLength-idx)%groupSize===0){value+=groupSeparator}value+=integer.charAt(idx)}integer=value}}}number=format.substring(0,start);if(negative&&!hasNegativeFormat){number+="-"}for(idx=start;idx<length;idx++){ch=format.charAt(idx);if(decimalIndex==-1){if(end-idx<integerLength){number+=integer;break}}else{if(zeroIndex!=-1&&zeroIndex<idx){replacement=EMPTY}if((decimalIndex-idx)<=integerLength&&decimalIndex-idx>-1){number+=integer;idx=decimalIndex}if(decimalIndex===idx){number+=(fraction?decimal:EMPTY)+fraction;idx+=end-decimalIndex+1;continue}}if(ch===ZERO){number+=ch;replacement=ch}else{if(ch===SHARP){number+=replacement}}}if(end>=start){number+=format.substring(end+1)}if(isCurrency||isPercent){value=EMPTY;for(idx=0,length=number.length;idx<length;idx++){ch=number.charAt(idx);value+=(ch==="$"||ch==="%")?symbol:ch}number=value}if(literals[0]){length=literals.length;for(idx=0;idx<length;idx++){number=number.replace(PLACEHOLDER,literals[idx])}}}return number}var toString=function(value,fmt,culture){if(fmt){if(value instanceof Date){return formatDate(value,fmt,culture)}else{if(typeof value===NUMBER){return formatNumber(value,fmt,culture)}}}return value!==undefined?value:""};if(globalize){toString=proxy(globalize.format,globalize)}kendo.format=function(fmt){var values=arguments;return fmt.replace(formatRegExp,function(match,index,placeholderFormat){var value=values[parseInt(index,10)+1];return toString(value,placeholderFormat?placeholderFormat.substring(1):"")})};kendo._extractFormat=function(format){if(format.slice(0,3)==="{0:"){format=format.slice(3,format.length-1)}return format};kendo.toString=toString})();(function(){var nonBreakingSpaceRegExp=/\u00A0/g,exponentRegExp=/[eE][\-+]?[0-9]+/,shortTimeZoneRegExp=/[+|\-]\d{1,2}/,longTimeZoneRegExp=/[+|\-]\d{1,2}:\d{2}/,dateRegExp=/^\/Date\((.*?)\)\/$/,formatsSequence=["G","g","d","F","D","y","m","T","t"],numberRegExp={2:/^\d{1,2}/,4:/^\d{4}/};function outOfRange(value,start,end){return !(value>=start&&value<=end)}function designatorPredicate(designator){return designator.charAt(0)}function mapDesignators(designators){return $.map(designators,designatorPredicate)}function adjustDate(date,hours){if(!hours&&date.getHours()===23){date.setHours(date.getHours()+2)}}function parseExact(value,format,culture){if(!value){return null}var lookAhead=function(match){var i=0;while(format[idx]===match){i++;idx++}if(i>0){idx-=1}return i},getNumber=function(size){var rg=numberRegExp[size]||new RegExp("^\\d{1,"+size+"}"),match=value.substr(valueIdx,size).match(rg);if(match){match=match[0];valueIdx+=match.length;return parseInt(match,10)}return null},getIndexByName=function(names){var i=0,length=names.length,name,nameLength;for(;i<length;i++){name=names[i];nameLength=name.length;if(value.substr(valueIdx,nameLength)==name){valueIdx+=nameLength;return i+1}}return null},checkLiteral=function(){var result=false;if(value.charAt(valueIdx)===format[idx]){valueIdx++;result=true}return result},calendar=culture.calendars.standard,year=null,month=null,day=null,hours=null,minutes=null,seconds=null,milliseconds=null,idx=0,valueIdx=0,literal=false,date=new Date(),shortYearCutOff=30,defaultYear=date.getFullYear(),ch,count,length,pattern,pmHour,UTC,ISO8601,matches,amDesignators,pmDesignators,hoursOffset,minutesOffset,century;if(!format){format="d"}pattern=calendar.patterns[format];if(pattern){format=pattern}format=format.split("");length=format.length;for(;idx<length;idx++){ch=format[idx];if(literal){if(ch==="'"){literal=false}else{checkLiteral()}}else{if(ch==="d"){count=lookAhead("d");day=count<3?getNumber(2):getIndexByName(calendar.days[count==3?"namesAbbr":"names"]);if(day===null||outOfRange(day,1,31)){return null}}else{if(ch==="M"){count=lookAhead("M");month=count<3?getNumber(2):getIndexByName(calendar.months[count==3?"namesAbbr":"names"]);if(month===null||outOfRange(month,1,12)){return null}month-=1}else{if(ch==="y"){count=lookAhead("y");year=getNumber(count);if(year===null){return null}if(count==2){century=defaultYear-defaultYear%100;if(shortYearCutOff<year){century-=100}year=century+year}}else{if(ch==="h"){lookAhead("h");hours=getNumber(2);if(hours==12){hours=0}if(hours===null||outOfRange(hours,0,11)){return null}}else{if(ch==="H"){lookAhead("H");hours=getNumber(2);if(hours===null||outOfRange(hours,0,23)){return null}}else{if(ch==="m"){lookAhead("m");minutes=getNumber(2);if(minutes===null||outOfRange(minutes,0,59)){return null}}else{if(ch==="s"){lookAhead("s");seconds=getNumber(2);if(seconds===null||outOfRange(seconds,0,59)){return null}}else{if(ch==="f"){count=lookAhead("f");milliseconds=getNumber(count);if(milliseconds!==null&&count>3){milliseconds=parseInt(milliseconds.toString().substring(0,3),10)}if(milliseconds===null||outOfRange(milliseconds,0,999)){return null}}else{if(ch==="t"){count=lookAhead("t");amDesignators=calendar.AM;pmDesignators=calendar.PM;if(count===1){amDesignators=mapDesignators(amDesignators);pmDesignators=mapDesignators(pmDesignators)}pmHour=getIndexByName(pmDesignators);if(!pmHour&&!getIndexByName(amDesignators)){return null}}else{if(ch==="z"){UTC=true;count=lookAhead("z");if(value.substr(valueIdx,1)==="Z"){if(!ISO8601){return null}checkLiteral();continue}matches=value.substr(valueIdx,6).match(count>2?longTimeZoneRegExp:shortTimeZoneRegExp);if(!matches){return null}matches=matches[0];valueIdx=matches.length;matches=matches.split(":");hoursOffset=parseInt(matches[0],10);if(outOfRange(hoursOffset,-12,13)){return null}if(count>2){minutesOffset=parseInt(matches[1],10);if(isNaN(minutesOffset)||outOfRange(minutesOffset,0,59)){return null}}}else{if(ch==="T"){ISO8601=checkLiteral()}else{if(ch==="'"){literal=true;checkLiteral()}else{if(!checkLiteral()){return null}}}}}}}}}}}}}}}if(year===null){year=defaultYear}if(pmHour&&hours<12){hours+=12}if(day===null){day=1}if(UTC){if(hoursOffset){hours+=-hoursOffset}if(minutesOffset){minutes+=-minutesOffset}value=new Date(Date.UTC(year,month,day,hours,minutes,seconds,milliseconds))}else{value=new Date(year,month,day,hours,minutes,seconds,milliseconds);adjustDate(value,hours)}if(year<100){value.setFullYear(year)}return value}kendo._adjustDate=adjustDate;kendo.parseDate=function(value,formats,culture){if(value instanceof Date){return value}var idx=0,date=null,length,patterns;if(value&&value.indexOf("/D")===0){date=dateRegExp.exec(value);if(date){return new Date(parseInt(date[1],10))}}culture=kendo.getCulture(culture);if(!formats){formats=[];patterns=culture.calendar.patterns;length=formatsSequence.length;for(;idx<length;idx++){formats[idx]=patterns[formatsSequence[idx]]}formats[idx]="ddd MMM dd yyyy HH:mm:ss";formats[++idx]="yyyy-MM-ddTHH:mm:ss.fffffffzzz";formats[++idx]="yyyy-MM-ddTHH:mm:ss.fffzzz";formats[++idx]="yyyy-MM-ddTHH:mm:sszzz";formats[++idx]="yyyy-MM-ddTHH:mmzzz";formats[++idx]="yyyy-MM-ddTHH:mmzz";formats[++idx]="yyyy-MM-dd";idx=0}formats=isArray(formats)?formats:[formats];length=formats.length;for(;idx<length;idx++){date=parseExact(value,formats[idx],culture);if(date){return date}}return date};kendo.parseInt=function(value,culture){var result=kendo.parseFloat(value,culture);if(result){result=result|0}return result};kendo.parseFloat=function(value,culture,format){if(!value&&value!==0){return null}if(typeof value===NUMBER){return value}value=value.toString();culture=kendo.getCulture(culture);var number=culture.numberFormat,percent=number.percent,currency=number.currency,symbol=currency.symbol,percentSymbol=percent.symbol,negative=value.indexOf("-")>-1,parts,isPercent;if(exponentRegExp.test(value)){value=parseFloat(value);if(isNaN(value)){value=null}return value}if(value.indexOf(symbol)>-1||(format&&format.toLowerCase().indexOf("c")>-1)){number=currency;parts=number.pattern[0].replace("$",symbol).split("n");if(value.indexOf(parts[0])>-1&&value.indexOf(parts[1])>-1){value=value.replace(parts[0],"").replace(parts[1],"");negative=true}}else{if(value.indexOf(percentSymbol)>-1){isPercent=true;number=percent;symbol=percentSymbol}}value=value.replace("-","").replace(symbol,"").replace(nonBreakingSpaceRegExp," ").split(number[","].replace(nonBreakingSpaceRegExp," ")).join("").replace(number["."],".");value=parseFloat(value);if(isNaN(value)){value=null}else{if(negative){value*=-1}}if(value&&isPercent){value/=100}return value};if(globalize){kendo.parseDate=function(value,format,culture){if(value instanceof Date){return value}return globalize.parseDate(value,format,culture)};kendo.parseFloat=function(value,culture,format){if(typeof value===NUMBER){return value}return globalize.parseFloat(value,culture)}}})();function wrap(element){var browser=support.browser,percentage,isRtl=element.css("direction")=="rtl";if(!element.parent().hasClass("k-animation-container")){var shadow=element.css(kendo.support.transitions.css+"box-shadow")||element.css("box-shadow"),radius=shadow?shadow.match(boxShadowRegExp)||[0,0,0,0,0]:[0,0,0,0,0],blur=math.max((+radius[3]),+(radius[4]||0)),left=(-radius[1])+blur,right=(+radius[1])+blur,bottom=(+radius[2])+blur,width=element[0].style.width,height=element[0].style.height,percentWidth=percentRegExp.test(width),percentHeight=percentRegExp.test(height);if(browser.opera){left=right=bottom=5}percentage=percentWidth||percentHeight;if(!percentWidth){width=element.outerWidth()}if(!percentHeight){height=element.outerHeight()}element.wrap($("<div/>").addClass("k-animation-container").css({width:width,height:height,marginLeft:left*(isRtl?1:-1),paddingLeft:left,paddingRight:right,paddingBottom:bottom}));if(percentage){element.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}}else{var wrapper=element.parent(".k-animation-container"),wrapperStyle=wrapper[0].style;if(wrapper.is(":hidden")){wrapper.show()}percentage=percentRegExp.test(wrapperStyle.width)||percentRegExp.test(wrapperStyle.height);if(!percentage){wrapper.css({width:element.outerWidth(),height:element.outerHeight()})}}if(browser.msie&&math.floor(browser.version)<=7){element.css({zoom:1})}return element.parent()}function deepExtend(destination){var i=1,length=arguments.length;for(i=1;i<length;i++){deepExtendOne(destination,arguments[i])}return destination}function deepExtendOne(destination,source){var ObservableArray=kendo.data.ObservableArray,property,propValue,propType,destProp;for(property in source){propValue=source[property];propType=typeof propValue;if(propType===OBJECT&&propValue!==null&&propValue.constructor!==Array&&propValue.constructor!==ObservableArray){if(propValue instanceof Date){destination[property]=new Date(propValue.getTime())}else{destProp=destination[property];if(typeof(destProp)===OBJECT){destination[property]=destProp||{}}else{destination[property]={}}deepExtendOne(destination[property],propValue)}}else{if(propType!==UNDEFINED){destination[property]=propValue}}}return destination}function testRx(agent,rxs,dflt){for(var rx in rxs){if(rxs.hasOwnProperty(rx)&&rxs[rx].test(agent)){return rx}}return dflt!==undefined?dflt:agent}function getComputedStyles(element,properties){var styles={},computedStyle;if(document.defaultView&&document.defaultView.getComputedStyle){computedStyle=document.defaultView.getComputedStyle(element,"");if(properties){$.each(properties,function(idx,value){styles[value]=computedStyle.getPropertyValue(value)})}}else{computedStyle=element.currentStyle;if(properties){$.each(properties,function(idx,value){styles[value]=computedStyle[value.replace(/\-(\w)/g,function(strMatch,g1){return g1.toUpperCase()})]})}}if(!kendo.size(styles)){styles=computedStyle}return styles}(function(){support.scrollbar=function(){var div=document.createElement("div"),result;div.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both";div.innerHTML="&nbsp;";document.body.appendChild(div);result=div.offsetWidth-div.scrollWidth;document.body.removeChild(div);return result};support.isRtl=function(element){return $(element).closest(".k-rtl").length>0};var table=document.createElement("table");try{table.innerHTML="<tr><td></td></tr>";support.tbodyInnerHtml=true}catch(e){support.tbodyInnerHtml=false}support.touch="ontouchstart" in window;support.pointers=navigator.msPointerEnabled;var transitions=support.transitions=false,transforms=support.transforms=false,elementProto="HTMLElement" in window?HTMLElement.prototype:[];support.hasHW3D=("WebKitCSSMatrix" in window&&"m11" in new window.WebKitCSSMatrix())||"MozPerspective" in document.documentElement.style||"msPerspective" in document.documentElement.style;support.hasNativeScrolling=typeof document.documentElement.style.webkitOverflowScrolling=="string";each(["Moz","webkit","O","ms"],function(){var prefix=this.toString(),hasTransitions=typeof table.style[prefix+"Transition"]===STRING;if(hasTransitions||typeof table.style[prefix+"Transform"]===STRING){var lowPrefix=prefix.toLowerCase();transforms={css:"-"+lowPrefix+"-",prefix:prefix,event:(lowPrefix==="o"||lowPrefix==="webkit")?lowPrefix:lowPrefix==="ms"?"MS":""};if(hasTransitions){transitions=transforms;transitions.event=transitions.event?transitions.event+"TransitionEnd":"transitionend"}return false}});support.transforms=transforms;support.transitions=transitions;support.devicePixelRatio=window.devicePixelRatio===undefined?1:window.devicePixelRatio;support.detectOS=function(ua){var os=false,minorVersion,match=[],agentRxs={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,winphone:/(IEMobile)\/(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/},osRxs={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows|winphone/},formFactorRxs={tablet:/playbook|ipad|fire/i},browserRxs={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var agent in agentRxs){if(agentRxs.hasOwnProperty(agent)){match=ua.match(agentRxs[agent]);if(match){if(agent=="windows"&&"plugins" in navigator){return false}os={};os.device=agent;os.tablet=testRx(agent,formFactorRxs,false);os.browser=testRx(ua,browserRxs,"default");os.name=testRx(agent,osRxs);os[os.name]=true;os.majorVersion=match[2];os.minorVersion=match[3].replace("_",".");minorVersion=os.minorVersion.replace(".","").substr(0,2);os.flatVersion=os.majorVersion+minorVersion+(new Array(3-(minorVersion.length<3?minorVersion.length:2)).join("0"));os.appMode=window.navigator.standalone||(/file|local/).test(window.location.protocol)||typeof window.PhoneGap!==UNDEFINED||typeof window.cordova!==UNDEFINED;if(os.android&&support.devicePixelRatio<1.5&&(window.outerWidth>800||window.outerHeight>800||(window.screen&&(window.screen.availWidth>800||window.screen.availHeight>800)))){os.tablet=agent}break}}}return os};support.mobileOS=support.detectOS(navigator.userAgent);support.kineticScrollNeeded=support.mobileOS&&support.touch;function detectBrowser(ua){var browser=false,match=[],browserRxs={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var agent in browserRxs){if(browserRxs.hasOwnProperty(agent)){match=ua.match(browserRxs[agent]);if(match){browser={};browser[agent]=true;browser[match[1].toLowerCase()]=true;browser.version=match[2];break}}}return browser}support.browser=detectBrowser(navigator.userAgent);support.zoomLevel=function(){return support.touch?(document.documentElement.clientWidth/window.innerWidth):1};support.eventCapture=document.documentElement.addEventListener;support.placeholder="placeholder" in document.createElement("input");support.stableSort=(function(){var sorted=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return sorted[0]===0&&sorted[1]===1&&sorted[2]===2&&sorted[3]===3&&sorted[4]===4&&sorted[5]===5&&sorted[6]===6&&sorted[7]===7&&sorted[8]===8&&sorted[9]===9&&sorted[10]===10&&sorted[11]===11&&sorted[12]===12})();support.matchesSelector=elementProto.webkitMatchesSelector||elementProto.mozMatchesSelector||elementProto.msMatchesSelector||elementProto.oMatchesSelector||elementProto.matchesSelector||function(selector){var nodeList=document.querySelectorAll?(this.parentNode||document).querySelectorAll(selector)||[]:$(selector),i=nodeList.length;while(i--){if(nodeList[i]==this){return true}}return false}})();function size(obj){var result=0,key;for(key in obj){if(obj.hasOwnProperty(key)&&key!="toJSON"){result++}}return result}function isNodeEmpty(element){return $.trim($(element).contents().filter(function(){return this.nodeType!=8}).html())===""}function getOffset(element,type){if(!type){type="offset"}var result=element[type](),mobileOS=support.mobileOS;if(support.touch&&mobileOS.ios&&mobileOS.flatVersion<410){var offset=type=="offset"?result:element.offset(),positioned=(result.left==offset.left&&result.top==offset.top);if(positioned){return{top:result.top-window.scrollY,left:result.left-window.scrollX}}}return result}var directions={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};function parseEffects(input){var effects={};each((typeof input==="string"?input.split(" "):input),function(idx){effects[idx]=this});return effects}function fx(element){return new kendo.fx.Element(element)}$.extend(fx,{Element:function(element){this.element=$(element)},promise:function(element,options){if(!element.is(":visible")){element.css({display:element.data("olddisplay")||"block"}).css("display")}if(options.hide){element.data("olddisplay",element.css("display")).hide()}if(options.init){options.init()}if(options.completeCallback){options.completeCallback(element)}element.dequeue()},transitionPromise:function(element,destination,options){var container=kendo.wrap(element);container.append(destination);element.hide();destination.show();if(options.completeCallback){options.completeCallback(element)}return element}});function prepareAnimationOptions(options,duration,reverse,complete){if(typeof options===STRING){if(isFunction(duration)){complete=duration;duration=400;reverse=false}if(isFunction(reverse)){complete=reverse;reverse=false}if(typeof duration===BOOLEAN){reverse=duration;duration=400}options={effects:options,duration:duration,reverse:reverse,complete:complete}}return extend({effects:{},duration:400,reverse:false,init:noop,teardown:noop,hide:false},options,{completeCallback:options.complete,complete:noop})}function animate(element,options,duration,reverse,complete){var idx=0,length=element.length,instance;for(;idx<length;idx++){instance=$(element[idx]);instance.queue(function(){fx.promise(instance,prepareAnimationOptions(options,duration,reverse,complete))})}return element}function animateTo(element,destination,options,duration,reverse,complete){return fx.transitionPromise(element,destination,prepareAnimationOptions(options,duration,reverse,complete))}function toggleClass(element,classes,options,add){if(classes){classes=classes.split(" ");each(classes,function(idx,value){element.toggleClass(value,add)})}return element}if(!("kendoAnimate" in $.fn)){extend($.fn,{kendoStop:function(clearQueue,gotoEnd){return this.stop(clearQueue,gotoEnd)},kendoAnimate:function(options,duration,reverse,complete){return animate(this,options,duration,reverse,complete)},kendoAnimateTo:function(destination,options,duration,reverse,complete){return animateTo(this,destination,options,duration,reverse,complete)},kendoAddClass:function(classes,options){return kendo.toggleClass(this,classes,options,true)},kendoRemoveClass:function(classes,options){return kendo.toggleClass(this,classes,options,false)},kendoToggleClass:function(classes,options,toggle){return kendo.toggleClass(this,classes,options,toggle)}})}var ampRegExp=/&/g,ltRegExp=/</g,gtRegExp=/>/g;function htmlEncode(value){return(""+value).replace(ampRegExp,"&amp;").replace(ltRegExp,"&lt;").replace(gtRegExp,"&gt;")}var touchLocation=function(e){var originalEvent=typeof e.pageX==UNDEFINED?e.originalEvent:e;return{idx:support.pointers?originalEvent.pointerId:0,x:originalEvent.pageX,y:originalEvent.pageY}};var eventTarget=function(e){return e.target};if(support.touch){var mobileChrome=(support.mobileOS.browser=="chrome"&&!support.mobileOS.ios);touchLocation=function(e,id){var changedTouches=e.changedTouches||e.originalEvent.changedTouches;if(id){var output=null;each(changedTouches,function(idx,value){if(id==value.identifier){output={idx:value.identifier,x:value.pageX,y:value.pageY}}});return output}else{return{idx:changedTouches[0].identifier,x:changedTouches[0].pageX,y:changedTouches[0].pageY}}};eventTarget=function(e){var touches="originalEvent" in e?e.originalEvent.changedTouches:"changedTouches" in e?e.changedTouches:null,property=mobileChrome?"screen":"client";return touches?document.elementFromPoint(touches[0][property+"X"],touches[0][property+"Y"]):e.target};each(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(m,value){$.fn[value]=function(callback){return this.bind(value,callback)}})}if(support.touch){if(!support.mobileOS){support.mousedown="mousedown touchstart";support.mouseup="mouseup touchend";support.mousemove="mousemove touchmove";support.mousecancel="mouseleave touchcancel";support.click="click touchend";support.resize="resize"}else{support.mousedown="touchstart";support.mouseup="touchend";support.mousemove="touchmove";support.mousecancel="touchcancel";support.click="touchend";support.resize="orientationchange"}}else{if(support.pointers){support.mousemove="MSPointerMove";support.mousedown="MSPointerDown";support.mouseup="MSPointerUp";support.mousecancel="MSPointerCancel";support.click="MSPointerUp";support.resize="orientationchange resize"}else{support.mousemove="mousemove";support.mousedown="mousedown";support.mouseup="mouseup";support.mousecancel="mouseleave";support.click="click";support.resize="resize"}}var wrapExpression=function(members){var result="d",index,idx,length,member,count=1;for(idx=0,length=members.length;idx<length;idx++){member=members[idx];if(member!==""){index=member.indexOf("[");if(index!==0){if(index==-1){member="."+member}else{count++;member="."+member.substring(0,index)+" || {})"+member.substring(index)}}count++;result+=member+((idx<length-1)?" || {})":")")}}return new Array(count).join("(")+result},localUrlRe=/^([a-z]+:)?\/\//i;extend(kendo,{ui:kendo.ui||{},fx:kendo.fx||fx,mobile:kendo.mobile||{},data:kendo.data||{},dataviz:kendo.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:kendo.support||support,animate:kendo.animate||animate,ns:"",attr:function(value){return"data-"+kendo.ns+value},wrap:wrap,deepExtend:deepExtend,getComputedStyles:getComputedStyles,size:size,isNodeEmpty:isNodeEmpty,getOffset:kendo.getOffset||getOffset,parseEffects:kendo.parseEffects||parseEffects,toggleClass:kendo.toggleClass||toggleClass,directions:kendo.directions||directions,Observable:Observable,Class:Class,Template:Template,template:proxy(Template.compile,Template),render:proxy(Template.render,Template),stringify:proxy(JSON.stringify,JSON),touchLocation:touchLocation,eventTarget:eventTarget,htmlEncode:htmlEncode,isLocalUrl:function(url){return url&&!localUrlRe.test(url)},expr:function(expression,safe){expression=expression||"";if(expression&&expression.charAt(0)!=="["){expression="."+expression}if(safe){expression=wrapExpression(expression.split("."))}else{expression="d"+expression}return expression},getter:function(expression,safe){return getterCache[expression]=getterCache[expression]||new Function("d","return "+kendo.expr(expression,safe))},setter:function(expression){return setterCache[expression]=setterCache[expression]||new Function("d,value","d."+expression+"=value")},accessor:function(expression){return{get:kendo.getter(expression),set:kendo.setter(expression)}},guid:function(){var id="",i,random;for(i=0;i<32;i++){random=math.random()*16|0;if(i==8||i==12||i==16||i==20){id+="-"}id+=(i==12?4:(i==16?(random&3|8):random)).toString(16)}return id},roleSelector:function(role){return role.replace(/(\S+)/g,"["+kendo.attr("role")+"=$1],").slice(0,-1)},logToConsole:function(message){var console=window.console;if(typeof(console)!="undefined"&&console.log){console.log(message)}}});var Widget=Observable.extend({init:function(element,options){var that=this;that.element=kendo.jQuery(element).handler(that);Observable.fn.init.call(that);options=that.options=extend(true,{},that.options,options);if(!that.element.attr(kendo.attr("role"))){that.element.attr(kendo.attr("role"),(options.name||"").toLowerCase())}that.element.data("kendo"+options.prefix+options.name,that);that.bind(that.events,options)},events:[],options:{prefix:""},_tabindex:function(target){target=target||this.wrapper;var element=this.element,TABINDEX="tabindex",tabindex=target.attr(TABINDEX)||element.attr(TABINDEX);element.removeAttr(TABINDEX);target.attr(TABINDEX,!isNaN(tabindex)?tabindex:0)},setOptions:function(options){var that=this,idx=0,length=that.events.length,e;for(;idx<length;idx++){e=that.events[idx];if(that.options[e]&&options[e]){that.unbind(e,that.options[e])}}$.extend(that.options,options);that.bind(that.events,options)},destroy:function(){var that=this;that.element.removeData("kendo"+that.options.prefix+that.options.name);that.unbind()}});kendo.notify=noop;var templateRegExp=/template$/i,jsonRegExp=/^\s*(?:\{(?:.|\n)*\}|\[(?:.|\n)*\])\s*$/,jsonFormatRegExp=/^\{(\d+)(:[^\}]+)?\}/,dashRegExp=/([A-Z])/g;function parseOption(element,option){var value;if(option.indexOf("data")===0){option=option.substring(4);option=option.charAt(0).toLowerCase()+option.substring(1)}option=option.replace(dashRegExp,"-$1");value=element.getAttribute("data-"+kendo.ns+option);if(value===null){value=undefined}else{if(value==="null"){value=null}else{if(value==="true"){value=true}else{if(value==="false"){value=false}else{if(!isNaN(parseFloat(value))){value=parseFloat(value)}else{if(jsonRegExp.test(value)&&!jsonFormatRegExp.test(value)){value=eval("("+value+")")}}}}}}return value}function parseOptions(element,options){var result={},option,value;for(option in options){value=parseOption(element,option);if(value!==undefined){if(templateRegExp.test(option)){value=kendo.template($("#"+value).html())}result[option]=value}}return result}kendo.initWidget=function(element,options,roles){var result,option,widget,idx,length,role,value,dataSource;if(!roles){roles=kendo.ui.roles}else{if(roles.roles){roles=roles.roles}}element=element.nodeType?element:element[0];role=element.getAttribute("data-"+kendo.ns+"role");if(!role){return}if(role.indexOf(".")===-1){widget=roles[role]}else{widget=kendo.getter(role)(window)}if(!widget){return}dataSource=parseOption(element,"dataSource");options=$.extend({},parseOptions(element,widget.fn.options),options);if(dataSource){if(typeof dataSource===STRING){options.dataSource=kendo.getter(dataSource)(window)}else{options.dataSource=dataSource}}for(idx=0,length=widget.fn.events.length;idx<length;idx++){option=widget.fn.events[idx];value=parseOption(element,option);if(value!==undefined){options[option]=kendo.getter(value)(window)}}result=$(element).data("kendo"+widget.fn.options.prefix+widget.fn.options.name);if(!result){result=new widget(element,options)}else{result.setOptions(options)}return result};kendo.rolesFromNamespaces=function(namespaces){var roles;if(!namespaces[0]){namespaces=[kendo.ui,kendo.dataviz.ui]}roles=$.map(namespaces,function(namespace){return namespace.roles}).reverse();return extend.apply(null,[{}].concat(roles))};kendo.init=function(element){var roles=kendo.rolesFromNamespaces(slice.call(arguments,1));$(element).find("[data-"+kendo.ns+"role]").andSelf().each(function(){kendo.initWidget(this,{},roles)})};kendo.destroy=function(element){$(element).find("[data-"+kendo.ns+"role]").andSelf().each(function(){var element=$(this),widget=kendo.widgetInstance(element,kendo.ui)||kendo.widgetInstance(element,kendo.mobile.ui)||kendo.widgetInstance(element,kendo.dataviz.ui);if(widget){widget.destroy()}})};kendo.parseOptions=parseOptions;extend(kendo.ui,{Widget:Widget,roles:{},progress:function(container,toggle){var mask=container.find(".k-loading-mask");if(toggle){if(!mask.length){mask=$("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").prependTo(container).css({top:container.scrollTop(),left:container.scrollLeft()})}}else{if(mask){mask.remove()}}},plugin:function(widget,register,prefix){var name=widget.fn.options.name,getter;register=register||kendo.ui;prefix=prefix||"";register[name]=widget;register.roles[name.toLowerCase()]=widget;getter="getKendo"+prefix+name;name="kendo"+prefix+name;$.fn[name]=function(options){var value=this,args;if(typeof options===STRING){args=slice.call(arguments,1);this.each(function(){var widget=$.data(this,name),method,result;if(!widget){throw new Error(kendo.format("Cannot call method '{0}' of {1} before it is initialized",options,name))}method=widget[options];if(typeof method!==FUNCTION){throw new Error(kendo.format("Cannot find method '{0}' of {1}",options,name))}result=method.apply(widget,args);if(result!==undefined){value=result;return false}})}else{this.each(function(){new widget(this,options)})}return value};$.fn[getter]=function(){return this.data(name)}}});var MobileWidget=Widget.extend({init:function(element,options){Widget.fn.init.call(this,element,options);this.element.autoApplyNS();this.wrapper=this.element},destroy:function(){Widget.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],viewShow:$.noop,view:function(){var viewElement=this.element.closest(kendo.roleSelector("view")+","+kendo.roleSelector("splitview"));return viewElement.data("kendoMobileView")||viewElement.data("kendoMobileSplitView")}});extend(kendo.mobile,{init:function(element){kendo.init(element,kendo.mobile.ui,kendo.ui,kendo.dataviz.ui)},ui:{Widget:MobileWidget,roles:{},plugin:function(widget){kendo.ui.plugin(widget,kendo.mobile.ui,"Mobile")}}});kendo.touchScroller=function(elements,options){return $(elements).map(function(idx,element){element=$(element);if(support.kineticScrollNeeded&&kendo.mobile.ui.Scroller&&!element.data("kendoMobileScroller")){element.kendoMobileScroller(options);return element.data("kendoMobileScroller")}else{return false}})[0]};kendo.preventDefault=function(e){e.preventDefault()};kendo.widgetInstance=function(element,suite){var widget=suite.roles[element.data(kendo.ns+"role")];if(widget){return element.data("kendo"+widget.fn.options.prefix+widget.fn.options.name)}};kendo.onResize=function(callback){var handler=callback;if(support.mobileOS.android){handler=function(){setTimeout(callback,200)}}$(window).on(support.resize,handler)};kendo.attrValue=function(element,key){return element.data(kendo.ns+key)};kendo.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return !$(element).parents().andSelf().filter(function(){return $.css(this,"visibility")==="hidden"||$.expr.filters.hidden(this)}).length}$.extend($.expr[":"],{focusable:function(element){var idx=$.attr(element,"tabindex");return focusable(element,!isNaN(idx)&&idx>-1)}});var MOUSE_EVENTS=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];$.extend(kendo,{setupMouseMute:function(){var idx=0,length=MOUSE_EVENTS.length,element=document.documentElement;if(kendo.mouseTrap||!support.eventCapture){return}kendo.mouseTrap=true;kendo.captureMouseEvents=false;var handler=function(e){if(kendo.captureMouse){e.stopPropagation();if(e.type==="click"){e.preventDefault()}}};for(;idx<length;idx++){element.addEventListener(MOUSE_EVENTS[idx],handler,true)}},muteMouse:function(){kendo.captureMouse=true;clearTimeout(kendo.mouseTrapTimeoutID)},unMuteMouse:function(){kendo.mouseTrapTimeoutID=setTimeout(function(){kendo.captureMouse=false},400)}});var eventMap={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(support.pointers){eventMap={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel"}}function applyEventMap(e){return(eventMap[e]||e)}var on=$.fn.on;var kendoJQuery=$.sub();extend(kendoJQuery.fn,{handler:function(handler){this.data("handler",handler);return this},autoApplyNS:function(){this.data("kendoNS","."+kendo.guid());return this},on:function(){var that=this,ns=that.data("kendoNS");if(arguments.length===1){return on.call(that,arguments[0])}var context=that,args=slice.call(arguments);if(typeof args[args.length-1]===UNDEFINED){args.pop()}var callback=args[args.length-1],events=args[0].replace(/([^ ]+)/g,applyEventMap);if(ns){events=events.replace(/( |$)/g,ns+" ")}if(support.touch&&events.indexOf("mouse")>-1&&this[0]!==document.documentElement){kendo.setupMouseMute();on.call(this,{touchstart:kendo.muteMouse,touchend:kendo.unMuteMouse})}if(typeof callback===STRING){context=that.data("handler");callback=context[callback];args[args.length-1]=function(e){callback.call(context,e)}}args[0]=events;on.apply(that,args);return that},kendoDestroy:function(){var ns=this.data("kendoNS");if(ns){this.off(ns)}return this}});kendo.jQuery=kendoJQuery;kendo.eventMap=eventMap})(jQuery);(function(P,o){var U=window.kendo,y=U.fx,ac=P.each,m=P.extend,af=P.proxy,Z=U.support,e=Z.browser,G=Z.transforms,i=Z.transitions,k={scale:0,scalex:0,scaley:0,scale3d:0},g={translate:0,translatex:0,translatey:0,translate3d:0},L=(typeof document.documentElement.style.zoom!=="undefined")&&!G,K=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,aj=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,C=/translatex?$/i,W=/(zoom|fade|expand)(\w+)/,a=/(zoom|fade|expand)/,p=/[xy]$/i,X=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],T=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],al={rotate:"deg",scale:"",skew:"px",translate:"px"},V=G.css,ab={},ag=Math.round,t="",ak="px",Y="none",N="auto",h="width",O="height",ae="hidden",x="origin",E="abortId",aa="overflow",w="translate",ai=V+"transition",ah=V+"transform",u=V+"perspective",am=V+"backface-visibility",j={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};U.directions=j;m(P.fn,{kendoStop:function(ao,an){if(i){return U.fx.stopQueue(this,ao||false,an||false)}else{return this.stop(ao,an)}}});if(G&&!i){ac(T,function(an,ao){P.fn[ao]=function(ar){if(typeof ar=="undefined"){return z(this,ao)}else{var aq=P(this)[0],ap=ao+"("+ar+al[ao.replace(p,"")]+")";if(aq.style.cssText.indexOf(ah)==-1){P(this).css(ah,ap)}else{aq.style.cssText=aq.style.cssText.replace(new RegExp(ao+"\\(.*?\\)","i"),ap)}}return this};P.fx.step[ao]=function(ap){P(ap.elem)[ao](ap.now)}});var B=P.fx.prototype.cur;P.fx.prototype.cur=function(){if(T.indexOf(this.prop)!=-1){return parseFloat(P(this.elem)[this.prop]())}return B.apply(this,arguments)}}U.toggleClass=function(ap,ao,an,aq){if(ao){ao=ao.split(" ");if(i){an=m({exclusive:"all",duration:400,ease:"ease-out"},an);ap.css(ai,an.exclusive+" "+an.duration+"ms "+an.ease);setTimeout(function(){ap.css(ai,"").css(O)},an.duration)}ac(ao,function(ar,at){ap.toggleClass(at,aq)})}return ap};U.parseEffects=function(an,ap){var ao={};if(typeof an==="string"){ac(an.split(" "),function(aq,av){var au=!a.test(av),ar=av.replace(W,function(az,ay,aA){return ay+":"+aA.toLowerCase()}),at=ar.split(":"),ax=at[1],aw={};if(at.length>1){aw.direction=(ap&&au?j[ax].reverse:ax)}ao[at[0]]=aw})}else{ac(an,function(aq){var ar=this.direction;if(ar&&ap&&!a.test(aq)){this.direction=j[ar].reverse}ao[aq]=this})}return ao};function ad(an){return parseInt(an,10)}function f(an,ao){return ad(an.css(ao))}function n(an){var ao=an.effects;if(ao==="zoom"){ao="zoom:in fade:in"}if(ao==="fade"){ao="fade:in"}if(ao==="slide"){ao="tile:left"}if(/^slide:(.+)$/.test(ao)){ao="tile:"+RegExp.$1}if(ao==="overlay"){ao="slideIn:left"}if(/^overlay:(.+)$/.test(ao)){ao="slideIn:"+RegExp.$1}an.effects=U.parseEffects(ao);return an}function D(ap){var ao=[];for(var an in ap){ao.push(an)}return ao}function b(ao){for(var an in ao){if(X.indexOf(an)!=-1&&T.indexOf(an)==-1){delete ao[an]}}return ao}function l(aq,ap){var at=[],ar={},an,ao,au,av;for(ao in ap){an=ao.toLowerCase();av=G&&X.indexOf(an)!=-1;if(!Z.hasHW3D&&av&&T.indexOf(an)==-1){delete ap[ao]}else{au=ap[ao];if(av){at.push(ao+"("+au+")")}else{ar[ao]=au}}}if(at.length){ar[ah]=at.join(" ")}return ar}if(i){m(U.fx,{transition:function(ar,aq,ao){var ap,an=0,au=ar.data("keys")||[],at;ao=m({duration:200,ease:"ease-out",complete:null,exclusive:"all"},ao);var av=function(){if(at){clearTimeout(at);at=null;ar.removeData(E).dequeue().css(ai,"").css(ai);ao.complete.call(ar)}};ao.duration=P.fx?P.fx.speeds[ao.duration]||ao.duration:ao.duration;ap=l(ar,aq);P.merge(au,D(ap));ar.data("keys",P.unique(au)).height();ar.css(ai,ao.exclusive+" "+ao.duration+"ms "+ao.ease).css(ai);ar.css(ap).css(ah);if(e.mozilla){ar.one(i.event,av);an=50}at=setTimeout(av,ao.duration+an);ar.data(E,at)},stopQueue:function(ap,ar,ao){if(ap.data(E)){clearTimeout(ap.data(E));ap.removeData(E)}var at=this,aq,an=ap.data("keys"),au=(ao===false&&an);if(au){aq=U.getComputedStyles(ap[0],an)}ap.css(ai,"").css(ai);if(au){ap.css(aq)}ap.removeData("keys");if(at.complete){at.complete.call(ap)}ap.stop(ar);return ap}})}function z(ap,ar){if(G){var ao=ap.css(ah);if(ao==Y){return ar=="scale"?1:0}var an=ao.match(new RegExp(ar+"\\s*\\(([\\d\\w\\.]+)")),aq=0;if(an){aq=ad(an[1])}else{an=ao.match(K)||[0,0,0,0,0];ar=ar.toLowerCase();if(C.test(ar)){aq=parseFloat(an[3]/an[2])}else{if(ar=="translatey"){aq=parseFloat(an[4]/an[2])}else{if(ar=="scale"){aq=parseFloat(an[2])}else{if(ar=="rotate"){aq=parseFloat(Math.atan2(an[2],an[1]))}}}}}return aq}else{return parseFloat(ap.css(ar))}}var A=U.Class.extend({init:function(ao,an){var ap=this;ap.element=ao;ap.effects=[];ap.options=an;ap.restore=[]},run:function(ap){var aw=this,aB,az,an,ar=ap.length,av=aw.element,aC=aw.options,aA=P.Deferred(),ao={},au={},ax,aq,at;aw.effects=ap;aA.then(P.proxy(aw,"complete"));av.data("animating",true);for(az=0;az<ar;az++){aB=ap[az];aB.setReverse(aC.reverse);aB.setOptions(aC);aw.addRestoreProperties(aB.restore);aB.prepare(ao,au);aq=aB.children();for(an=0,at=aq.length;an<at;an++){aq[an].duration(aC.duration).run()}}for(var ay in aC.effects){m(au,aC.effects[ay].properties)}if(!av.is(":visible")){m(ao,{display:av.data("olddisplay")||"block"})}if(G&&!aC.reset){ax=av.data("targetTransform");if(ax){ao=m(ax,ao)}}ao=l(av,ao);if(G&&!i){ao=b(ao)}av.css(ao).css(ah);for(az=0;az<ar;az++){ap[az].setup()}if(aC.init){aC.init()}av.data("targetTransform",au);U.fx.animate(av,au,m({},aC,{complete:aA.resolve}));return aA.promise()},stop:function(){P(this.element).kendoStop()},addRestoreProperties:function(ap){var ao=this.element,ar,an=0,aq=ap.length;for(;an<aq;an++){ar=ap[an];this.restore.push(ar);if(!ao.data(ar)){ao.data(ar,ao.css(ar))}}},restoreCallback:function(){var ao=this.element;for(var an=0,ap=this.restore.length;an<ap;an++){var aq=this.restore[an];ao.css(aq,ao.data(aq))}},complete:function(){var at=this,an=0,ap=at.element,ao=at.options,ar=at.effects,aq=ar.length;ap.removeData("animating").dequeue();if(ao.hide){ap.data("olddisplay",ap.css("display")).hide()}this.restoreCallback();if(L&&!G){setTimeout(P.proxy(this,"restoreCallback"),0)}for(;an<aq;an++){ar[an].teardown()}if(ao.completeCallback){ao.completeCallback(ap)}}});U.fx.promise=function(ar,ao){var av=[],au,aq=new A(ar,ao),ap=U.parseEffects(ao.effects),at;ao.effects=ap;for(var an in ap){au=ab[an];if(au){at=new au(ar,ap[an].direction);av.push(at)}}if(av[0]){aq.run(av)}else{if(!ar.is(":visible")){ar.css({display:ar.data("olddisplay")||"block"}).css("display")}if(ao.init){ao.init()}ar.dequeue();aq.complete()}};U.fx.transitionPromise=function(ap,an,ao){U.fx.animateTo(ap,an,ao);return ap};m(U.fx,{animate:function(aq,ao,an){var ap=an.transition!==false;delete an.transition;if(i&&"transition" in y&&ap){y.transition(aq,ao,an)}else{if(G){aq.animate(b(ao),{queue:false,show:false,hide:false,duration:an.duration,complete:an.complete})}else{aq.each(function(){var at=P(this),ar={};ac(X,function(aB,aA){var aw,aD=ao?ao[aA]+" ":null;if(aD){var aC=ao;if(aA in k&&ao[aA]!==o){aw=aD.match(aj);if(G){m(aC,{scale:+aw[0]})}}else{if(aA in g&&ao[aA]!==o){var az=at.css("position"),au=(az=="absolute"||az=="fixed");if(!at.data(w)){if(au){at.data(w,{top:f(at,"top")||0,left:f(at,"left")||0,bottom:f(at,"bottom"),right:f(at,"right")})}else{at.data(w,{top:f(at,"marginTop")||0,left:f(at,"marginLeft")||0})}}var ay=at.data(w);aw=aD.match(aj);if(aw){var ax=aA==w+"y"?+null:+aw[1],av=aA==w+"y"?+aw[1]:+aw[2];if(au){if(!isNaN(ay.right)){if(!isNaN(ax)){m(aC,{right:ay.right-ax})}}else{if(!isNaN(ax)){m(aC,{left:ay.left+ax})}}if(!isNaN(ay.bottom)){if(!isNaN(av)){m(aC,{bottom:ay.bottom-av})}}else{if(!isNaN(av)){m(aC,{top:ay.top+av})}}}else{if(!isNaN(ax)){m(aC,{marginLeft:ay.left+ax})}if(!isNaN(av)){m(aC,{marginTop:ay.top+av})}}}}}if(!G&&aA!="scale"&&aA in aC){delete aC[aA]}if(aC){m(ar,aC)}}});if(e.msie){delete ar.scale}at.animate(ar,{queue:false,show:false,hide:false,duration:an.duration,complete:an.complete})})}}},animateTo:function(ar,an,ap){var at,au=ar.parents().filter(an.parents()).first(),aq;ap=n(ap);if(!Z.mobileOS.android){aq=au.css(aa);au.css(aa,"hidden")}P.each(ap.effects,function(av,aw){at=at||aw.direction});function ao(av){an[0].style.cssText="";ar[0].style.cssText="";if(!Z.mobileOS.android){au.css(aa,aq)}if(ap.completeCallback){ap.completeCallback.call(ar,av)}}ap.complete=e.msie?function(){setTimeout(ao,0)}:ao;ap.previous=(ap.reverse?an:ar);ap.reset=true;(ap.reverse?ar:an).each(function(){P(this).kendoAnimate(m(true,{},ap));ap.complete=null;ap.previous=null})}});var q=U.Class.extend({init:function(an,ap){var ao=this;ao.element=an;ao._direction=ap;ao.options={};ao._additionalEffects=[];if(!ao.restore){ao.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(an){this._additionalEffects.push(an);return this},direction:function(an){this._direction=an;return this},duration:function(an){this._duration=an;return this},compositeRun:function(){var ap=this,an=new A(ap.element,{reverse:ap._reverse,duration:ap._duration}),ao=ap._additionalEffects.concat([ap]);return an.run(ao)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var au=this,at=au.element,ay=0,aw=au.restore,ap=aw.length,ax,az=P.Deferred(),an={},ar={},av,ao=au.children(),aq=ao.length;az.then(P.proxy(au,"_complete"));at.data("animating",true);for(ay=0;ay<ap;ay++){ax=aw[ay];if(!at.data(ax)){at.data(ax,at.css(ax))}}for(ay=0;ay<aq;ay++){ao[ay].duration(au._duration).run()}au.prepare(an,ar);if(!at.is(":visible")){m(an,{display:at.data("olddisplay")||"block"})}if(G){av=at.data("targetTransform");if(av){an=m(av,an)}}an=l(at,an);if(G&&!i){an=b(an)}at.css(an).css(ah);au.setup();at.data("targetTransform",ar);U.fx.animate(at,ar,{duration:au._duration,complete:az.resolve});return az.promise()},stop:function(){var an=0,ao=this.children(),ap=ao.length;for(an=0;an<ap;an++){ao[an].stop()}P(this.element).kendoStop();return this},restoreCallback:function(){var ao=this.element;for(var an=0,ap=this.restore.length;an<ap;an++){var aq=this.restore[an];ao.css(aq,ao.data(aq))}},_complete:function(){var ao=this,an=ao.element;an.removeData("animating").dequeue();ao.restoreCallback();if(ao.shouldHide()){an.data("olddisplay",an.css("display")).hide()}if(L&&!G){setTimeout(P.proxy(ao,"restoreCallback"),0)}ao.teardown()},setOptions:function(an){m(true,this.options,an)},children:function(){return[]},shouldHide:P.noop,setup:P.noop,prepare:P.noop,teardown:P.noop,directions:[],setReverse:function(an){this._reverse=an;return this}});function J(an){return an.toUpperCase()}function F(an){return an.replace(/^./,J)}function d(an,ao){var ap=q.extend(ao),aq=ap.prototype.directions;ab[an]=ap;y.Element.prototype[an]=function(av,au,at,ar){return new ap(this.element,av,au,at,ar)};ac(aq,function(ar,at){y.Element.prototype[an+F(at)]=function(aw,av,au){return new ap(this.element,at,aw,av,au)}})}var I=["left","right","up","down"],H=["in","out"];d("slideIn",{directions:I,prepare:function(an,ap){var au=this,ar,at=au.element,aw=j[au._direction],aq=-aw.modifier*(aw.vertical?at.outerHeight():at.outerWidth()),ao=aq/(au.options&&au.options.divisor||1)+ak,av="0px";if(au._reverse){ar=an;an=ap;ap=ar}if(G){an[aw.transition]=ao;ap[aw.transition]=av}else{an[aw.property]=ao;ap[aw.property]=av}}});d("tile",{directions:I,init:function(an,ap,ao){q.prototype.init.call(this,an,ap);this.options={previous:ao}},children:function(){var ar=this,ao=ar._reverse,aq=ar.options.previous,an=ar._direction;var ap=[y(ar.element).slideIn(an).setReverse(ao)];if(aq){ap.push(y(aq).slideIn(j[an].reverse).setReverse(!ao))}return ap}});function c(ao,ap,an){d(ao,{directions:H,restore:[ap],startValue:function(aq){this._startValue=aq;return this},endValue:function(aq){this._endValue=aq;return this},shouldHide:function(){return(this._direction==="out"&&this._end()===an)?!this._reverse:this._reverse},_end:function(){return this._endValue||an},_start:function(){return this._startValue||1},prepare:function(aw,aq){var au=this,at=au.element.data(ap),ar=au.shouldHide(),av=isNaN(at)?au._start():at;aw[ap]=aq[ap]=au._end();if(ar){aw[ap]=av}else{aq[ap]=av}}})}c("fade","opacity",0);c("zoom","scale",0.01);d("slideMargin",{prepare:function(an,ap){var at=this,ar=at.element,aw=at.options,av=ar.data(x),aq=aw.offset,ao,au=at._reverse;if(!au&&av===null){ar.data(x,parseFloat(ar.css("margin-"+aw.axis)))}ao=(ar.data(x)||0);ap["margin-"+aw.axis]=!au?ao+aq:ao}});d("slideTo",{prepare:function(au,an){var ar=this,aq=ar.element,ap=ar.options,at=ap.offset.split(","),ao=ar._reverse;if(G){an.translatex=!ao?at[0]:0;an.translatey=!ao?at[1]:0}else{an.left=!ao?at[0]:0;an.top=!ao?at[1]:0}aq.css("left")}});d("expand",{directions:["horizontal","vertical"],restore:[aa],prepare:function(an,aq){var at=this,ar=at.element,ay=at.options,au=at._reverse,av=at._direction==="vertical"?O:h,ax=ar[0].style[av],ap=ar.data(av),ao=parseFloat(ap||ax),aw=ag(ar.css(av,N)[av]());an.overflow=ae;ao=(ay&&ay.reset)?aw||ao:ao||aw;aq[av]=(au?0:ao)+ak;an[av]=(au?ao:0)+ak;if(ap===o){ar.data(av,ax)}},shouldHide:function(){return this._reverse},teardown:function(){var ap=this,an=ap.element,aq=ap._direction==="vertical"?O:h,ao=an.data(aq);if(ao==N||ao===t){setTimeout(function(){an.css(aq,N).css(aq)},0)}}});var S={position:"absolute",marginLeft:0,marginTop:0,scale:1};d("transfer",{init:function(an,ao){this.element=an;this.options={target:ao};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(ax,aw){var az=this,aq=az.element,av=az.options,aA=az._reverse,aJ=av.target,ay,aD=z(aq,"scale"),aI=aJ.offset(),aK=aJ.outerHeight()/aq.outerHeight();m(ax,S);aw.scale=1;aq.css(ah,"scale(1)").css(ah);ay=aq.offset();aq.css(ah,"scale("+aD+")");var aH=0,au=0,aG=aI.left-ay.left,at=aI.top-ay.top,aF=aH+aq.outerWidth(),ap=au,aE=aG+aJ.outerWidth(),an=at,aC=(at-au)/(aG-aH),aB=(an-ap)/(aE-aF),ar=(au-ap-aC*aH+aB*aF)/(aB-aC),ao=au+aC*(ar-aH);ax.top=ay.top;ax.left=ay.left;ax.transformOrigin=ar+ak+" "+ao+ak;if(aA){ax.scale=aK}else{aw.scale=aK}}});var v={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var s={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function R(an,aq){var ao=U.directions[aq].vertical,ap=(an[ao?O:h]()/2)+"px";return v[aq].replace("$size",ap)}d("turningPage",{directions:I,init:function(ao,ap,an){q.prototype.init.call(this,ao,ap);this._container=an},prepare:function(at,an){var aq=this,ao=aq._reverse,ar=ao?j[aq._direction].reverse:aq._direction,ap=s[ar];at.zIndex=1;if(aq._clipInHalf){at.clip=R(aq._container,U.directions[ar].reverse)}at[am]=ae;an[ah]=ao?ap.start:ap.end;at[ah]=ao?ap.end:ap.start},setup:function(){this._container.append(this.element)},face:function(an){this._face=an;return this},shouldHide:function(){var ao=this,an=ao._reverse,ap=ao._face;return(an&&!ap)||(!an&&ap)},clipInHalf:function(an){this._clipInHalf=an;return this},temporary:function(an){this._temporary=an;return this},teardown:function(){if(this._temporary){this.element.remove()}}});d("staticPage",{directions:I,init:function(ao,ap,an){q.prototype.init.call(this,ao,ap);this._container=an},restore:["clip"],prepare:function(aq,an){var ao=this,ap=ao._reverse?j[ao._direction].reverse:ao._direction;aq.clip=R(ao._container,ap)},shouldHide:function(){var ao=this,an=ao._reverse,ap=ao._face;return(an&&!ap)||(!an&&ap)},face:function(an){this._face=an;return this}});d("pageturn",{directions:["horizontal","vertical"],init:function(ao,aq,ap,an){q.prototype.init.call(this,ao,aq);this.options={};this.options.face=ap;this.options.back=an},children:function(){var ap=this,aw=ap.options,ar=ap._direction==="horizontal"?"left":"top",an=U.directions[ar].reverse,aq=ap._reverse,at,av=aw.face.clone(true).removeAttr("id"),au=aw.back.clone(true).removeAttr("id"),ao=ap.element;if(aq){at=ar;ar=an;an=at}return[y(aw.face).staticPage(ar,ao).face(true).setReverse(aq),y(aw.back).staticPage(an,ao).setReverse(aq),y(av).turningPage(ar,ao).face(true).clipInHalf(true).temporary(true).setReverse(aq),y(au).turningPage(an,ao).clipInHalf(true).temporary(true).setReverse(aq)]},prepare:function(ao,an){ao[u]=1000;ao.transformStyle="preserve-3d"},teardown:function(){this.element.find(".temp-pages").remove()}});d("flip",{directions:["horizontal","vertical"],init:function(ao,aq,ap,an){q.prototype.init.call(this,ao,aq);this.options={};this.options.face=ap;this.options.back=an},children:function(){var at=this,aq=at.options,au=at._direction==="horizontal"?"left":"top",ao=U.directions[au].reverse,ap=at._reverse,an,ar=at.element;if(ap){an=au;au=ao;ao=an}return[y(aq.face).turningPage(au,ar).face(true).setReverse(ap),y(aq.back).turningPage(ao,ar).setReverse(ap)]},prepare:function(ao,an){ao[u]=1000;ao.transformStyle="preserve-3d"}});var Q=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(an){setTimeout(an,1000/60)};var r=U.Class.extend({init:function(){var an=this;an._tickProxy=af(an._tick,an);an._started=false},tick:P.noop,done:P.noop,onEnd:P.noop,onCancel:P.noop,start:function(){if(!this.done()){this._started=true;Q(this._tickProxy)}},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var an=this;if(!an._started){return}an.tick();if(!an.done()){Q(an._tickProxy)}else{an._started=false;an.onEnd()}}});var M=r.extend({init:function(an){var ao=this;m(ao,an);r.fn.init.call(ao)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,(+new Date())-this.startDate)},moveTo:function(an){var ao=this,ap=ao.movable;ao.initial=ap[ao.axis];ao.delta=an.location-ao.initial;ao.duration=an.duration||300;ao.tick=ao._easeProxy(an.ease);ao.startDate=+new Date();ao.start()},_easeProxy:function(ao){var an=this;return function(){an.movable.moveAxis(an.axis,ao(an.timePassed(),an.initial,an.delta,an.duration))}}});m(M,{easeOutExpo:function(ao,an,aq,ap){return(ao==ap)?an+aq:aq*(-Math.pow(2,-10*ao/ap)+1)+an},easeOutBack:function(ao,an,ar,aq,ap){ap=1.70158;return ar*((ao=ao/aq-1)*ao*((ap+1)*ao+ap)+1)+an}});y.Animation=r;y.Transition=M;y.createEffect=d;y.Effects=ab})(window.kendo.jQuery);(function(d,g){var f=window.kendo,h=d.extend,e={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",endswith:"endswith",startswith:"startswith"},c={pageSize:d.noop,page:d.noop,filter:function(j,i){if(i){j.$filter=a(i)}},sort:function(k,i){var j=d.map(i,function(m){var l=m.field.replace(/\./g,"/");if(m.dir==="desc"){l+=" desc"}return l}).join(",");if(j){k.$orderby=j}},skip:function(j,i){if(i){j.$skip=i}},take:function(j,i){if(i){j.$top=i}}},b={read:{dataType:"jsonp"}};function a(i){var t=[],m=i.logic||"and",s,l,p,o,r,k,q,n,j=i.filters;for(s=0,l=j.length;s<l;s++){i=j[s];p=i.field;q=i.value;k=i.operator;if(i.filters){i=a(i)}else{n=i.ignoreCase;p=p.replace(/\./g,"/");i=e[k];if(i&&q!==g){o=d.type(q);if(o==="string"){r="'{1}'";q=q.replace(/'/g,"''");if(n===true){p="tolower("+p+")"}}else{if(o==="date"){r="datetime'{1:yyyy-MM-ddTHH:mm:ss}'"}else{r="{1}"}}if(i.length>3){if(i!=="substringof"){r="{0}({2},"+r+")"}else{r="{0}("+r+",{2})"}}else{r="{2} {0} "+r}i=f.format(r,i,q,p)}}t.push(i)}i=t.join(" "+m+" ");if(t.length>1){i="("+i+")"}return i}h(true,f.data,{schemas:{odata:{type:"json",data:function(i){return i.d.results||[i.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(j,l){var n,m,k,i;j=j||{};l=l||"read";i=(this.options||b)[l];i=i?i.dataType:"json";if(l==="read"){n={$inlinecount:"allpages"};if(i!="json"){n.$format="json"}for(k in j){if(c[k]){c[k](n,j[k])}else{n[k]=j[k]}}}else{if(i!=="json"){throw new Error("Only json dataType can be used for "+l+" operation.")}if(l!=="destroy"){for(k in j){m=j[k];if(typeof m==="number"){j[k]=m+""}}n=f.stringify(j)}}return n}}}})})(window.kendo.jQuery);(function(d,c){var h=window.kendo,f=d.isArray,k=d.isPlainObject,b=d.map,j=d.each,g=d.extend,i=h.getter,a=h.Class;var e=a.extend({init:function(n){var p=this,o=n.total,m=n.model,q=n.data;if(m){if(k(m)){if(m.fields){j(m.fields,function(t,s){if(k(s)&&s.field){s=g(s,{field:p.getter(s.field)})}else{s={field:p.getter(s)}}m.fields[t]=s})}var r=m.id;if(r){var l={};l[p.xpathToMember(r,true)]={field:p.getter(r)};m.fields=g(l,m.fields);m.id=p.xpathToMember(r)}m=h.data.Model.define(m)}p.model=m}if(o){o=p.getter(o);p.total=function(s){return parseInt(o(s),10)}}if(q){q=p.xpathToMember(q);p.data=function(u){var s=p.evaluate(u,q),t;s=f(s)?s:[s];if(p.model&&m.fields){t=new p.model();return b(s,function(w){if(w){var v={},x;for(x in m.fields){v[x]=t._parse(x,m.fields[x].field(w))}return v}})}return s}}},total:function(l){return this.data(l).length},errors:function(l){return l?l.errors:null},parseDOM:function(r){var v={},t,n,p,s,q,m,o=r.attributes,l=o.length,u;for(u=0;u<l;u++){m=o[u];v["@"+m.nodeName]=m.nodeValue}for(n=r.firstChild;n;n=n.nextSibling){p=n.nodeType;if(p===3||p===4){v["#text"]=n.nodeValue}else{if(p===1){t=this.parseDOM(n);s=n.nodeName;q=v[s];if(f(q)){q.push(t)}else{if(q!==c){q=[q,t]}else{q=t}}v[s]=q}}}return v},evaluate:function(p,r){var n=r.split("."),s,m,o,q,l;while(s=n.shift()){p=p[s];if(f(p)){m=[];r=n.join(".");for(l=0,o=p.length;l<o;l++){q=this.evaluate(p[l],r);q=f(q)?q:[q];m.push.apply(m,q)}return m}}return p},parse:function(n){var o,m,l={};o=n.documentElement||d.parseXML(n).documentElement;m=this.parseDOM(o);l[o.nodeName]=m;return l},xpathToMember:function(m,l){if(!m){return""}m=m.replace(/^\//,"").replace(/\//g,".");if(m.indexOf("@")>=0){return m.replace(/\.?(@.*)/,l?"$1":'["$1"]')}if(m.indexOf("text()")>=0){return m.replace(/(\.?text\(\))/,l?"#text":'["#text"]')}return m},getter:function(l){return i(this.xpathToMember(l),true)}});d.extend(true,h.data,{XmlDataReader:e,readers:{xml:e}})})(window.kendo.jQuery);(function(ar,s){var af=ar.extend,x=ar.proxy,aw=ar.isFunction,C=ar.isPlainObject,an=ar.isEmptyObject,b=ar.isArray,l=ar.grep,av=ar.ajax,u,aK=ar.each,ap=ar.noop,o=window.kendo,H=o.Observable,aB=o.Class,aE="string",al="function",au="create",g="read",aC="update",z="destroy",E="change",J="sync",j="get",D="error",at="requestStart",T="requestEnd",V=[au,g,aC,z],W=function(aL){return aL},P=o.getter,ab=o.stringify,Q=Math,d=[].push,ak=[].join,az=[].pop,ao=[].splice,Y=[].shift,w=[].slice,aD=[].unshift,am={}.toString,I=o.support.stableSort,aj=/^\/Date\((.*?)\)\/$/,ax=/(?=['\\])/g;var aa=H.extend({init:function(aN,aL){var aM=this;aM.type=aL||X;H.fn.init.call(aM);aM.length=aN.length;aM.wrapAll(aN,aM)},toJSON:function(){var aL,aN=this.length,aO,aM=new Array(aN);for(aL=0;aL<aN;aL++){aO=this[aL];if(aO instanceof X){aO=aO.toJSON()}aM[aL]=aO}return aM},parent:ap,wrapAll:function(aP,aQ){var aO=this,aL,aN,aM=function(){return aO};aQ=aQ||[];for(aL=0,aN=aP.length;aL<aN;aL++){aQ[aL]=aO.wrap(aP[aL],aM)}return aQ},wrap:function(aL,aM){var aN=this,aO;if(aL!==null&&am.call(aL)==="[object Object]"){aO=aL instanceof aN.type||aL instanceof A;if(!aO){aL=aL instanceof X?aL.toJSON():aL;aL=new aN.type(aL)}aL.parent=aM;aL.bind(E,function(aP){aN.trigger(E,{field:aP.field,node:aP.node,index:aP.index,items:aP.items||[this],action:aP.node?(aP.action||"itemchange"):"itemchange"})})}return aL},push:function(){var aN=this.length,aM=this.wrapAll(arguments),aL;aL=d.apply(this,aM);this.trigger(E,{action:"add",index:aN,items:aM});return aL},slice:w,join:ak,pop:function(){var aM=this.length,aL=az.apply(this);if(aM){this.trigger(E,{action:"remove",index:aM-1,items:[aL]})}return aL},splice:function(aO,aQ,aR){var aN=this.wrapAll(w.call(arguments,2)),aM,aP,aL;aM=ao.apply(this,[aO,aQ].concat(aN));if(aM.length){this.trigger(E,{action:"remove",index:aO,items:aM});for(aP=0,aL=aM.length;aP<aL;aP++){if(aM[aP].children){aM[aP].unbind(E)}}}if(aR){this.trigger(E,{action:"add",index:aO,items:aN})}return aM},shift:function(){var aM=this.length,aL=Y.apply(this);if(aM){this.trigger(E,{action:"remove",index:0,items:[aL]})}return aL},unshift:function(){var aM=this.wrapAll(arguments),aL;aL=aD.apply(this,aM);this.trigger(E,{action:"add",index:0,items:aM});return aL},indexOf:function(aO){var aN=this,aL,aM;for(aL=0,aM=aN.length;aL<aM;aL++){if(aN[aL]===aO){return aL}}return -1}});var X=H.extend({init:function(aO){var aN=this,aQ,aP,aM=function(){return aN},aL;H.fn.init.call(this);for(aP in aO){aQ=aO[aP];if(aP.charAt(0)!="_"){aL=am.call(aQ);aQ=aN.wrap(aQ,aP,aM)}aN[aP]=aQ}aN.uid=o.guid()},shouldSerialize:function(aL){return this.hasOwnProperty(aL)&&aL!=="_events"&&typeof this[aL]!==al&&aL!=="uid"},toJSON:function(){var aL={},aM,aN;for(aN in this){if(this.shouldSerialize(aN)){aM=this[aN];if(aM instanceof X||aM instanceof aa){aM=aM.toJSON()}aL[aN]=aM}}return aL},get:function(aN){var aM=this,aL;aM.trigger(j,{field:aN});if(aN==="this"){aL=aM}else{aL=o.getter(aN,true)(aM)}return aL},_set:function(aP,aM){var aL=this;if(aP.indexOf(".")){var aQ=aP.split("."),aO="";while(aQ.length>1){aO+=aQ.shift();var aN=o.getter(aO,true)(aL);if(aN instanceof X){aN.set(aQ.join("."),aM);return}aO+="."}}o.setter(aP)(aL,aM)},set:function(aP,aN){var aM=this,aO=o.getter(aP,true)(aM),aL=function(){return aM};if(aO!==aN){if(!aM.trigger("set",{field:aP,value:aN})){aM._set(aP,aM.wrap(aN,aP,aL));aM.trigger(E,{field:aP})}}},parent:ap,wrap:function(aM,aQ,aO){var aP=this,aN=am.call(aM),aL=aM instanceof aa;if(aM!==null&&aM!==s&&aN==="[object Object]"&&!(aM instanceof n)&&!aL){if(!(aM instanceof X)){aM=new X(aM)}aM.parent=aO;(function(aR){aM.bind(j,function(aS){aS.field=aR+"."+aS.field;aP.trigger(j,aS)});aM.bind(E,function(aS){aS.field=aR+"."+aS.field;aP.trigger(E,aS)})})(aQ)}else{if(aM!==null&&(aN==="[object Array]"||aL)){if(!aL){aM=new aa(aM)}aM.parent=aO;(function(aR){aM.bind(E,function(aS){aP.trigger(E,{field:aR,index:aS.index,items:aS.items,action:aS.action})})})(aQ)}else{if(aM!==null&&aM instanceof n){aM._parent=aO}}}return aM}});function aG(aL,aP){if(aL===aP){return true}var aO=ar.type(aL),aM=ar.type(aP),aN;if(aO!==aM){return false}if(aO==="date"){return aL.getTime()===aP.getTime()}if(aO!=="object"&&aO!=="array"){return false}for(aN in aL){if(!aG(aL[aN],aP[aN])){return false}}return true}var N={number:function(aL){return o.parseFloat(aL)},date:function(aL){return o.parseDate(aL)},"boolean":function(aL){if(typeof aL===aE){return aL.toLowerCase()==="true"}return aL!=null?!!aL:aL},string:function(aL){return aL!=null?(aL+""):aL},"default":function(aL){return aL}};var aF={string:"",number:0,date:new Date(),"boolean":false,"default":""};function ah(aN,aL){var aM,aO;for(aO in aN){aM=aN[aO];if(C(aM)&&aM.field&&aM.field===aL){return aM}else{if(aM===aL){return aM}}}return null}var A=X.extend({init:function(aM){var aL=this;if(!aM||ar.isEmptyObject(aM)){aM=ar.extend({},aL.defaults,aM)}X.fn.init.call(aL,aM);aL.dirty=false;if(aL.idField){aL.id=aL.get(aL.idField);if(aL.id===s){aL.id=aL._defaultId}}},shouldSerialize:function(aL){return X.fn.shouldSerialize.call(this,aL)&&aL!=="uid"&&!(this.idField!=="id"&&aL==="id")&&aL!=="dirty"&&aL!=="_accessors"},_parse:function(aO,aN){var aM=this,aQ=aO,aL=(aM.fields||{}),aP;aO=aL[aO];if(!aO){aO=ah(aL,aQ)}if(aO){aP=aO.parse;if(!aP&&aO.type){aP=N[aO.type.toLowerCase()]}}return aP?aP(aN):aN},editable:function(aL){aL=(this.fields||{})[aL];return aL?aL.editable!==false:true},set:function(aO,aN,aM){var aL=this;if(aL.editable(aO)){aN=aL._parse(aO,aN);if(!aG(aN,aL.get(aO))){aL.dirty=true;X.fn.set.call(aL,aO,aN,aM)}}},accept:function(aN){var aM=this,aL=function(){return aM},aO;for(aO in aN){aM._set(aO,aM.wrap(aN[aO],aO,aL))}if(aM.idField){aM.id=aM.get(aM.idField)}aM.dirty=false},isNew:function(){return this.id===this._defaultId}});A.define=function(aN,aT){if(aT===s){aT=aN;aN=A}var aP,aO=af({defaults:{}},aT),aL,aR,aQ,aS,aM=aO.id;if(aM){aO.idField=aM}if(aO.id){delete aO.id}if(aM){aO.defaults[aM]=aO._defaultId=""}for(aL in aO.fields){aR=aO.fields[aL];aQ=aR.type||"default";aS=null;aL=typeof(aR.field)===aE?aR.field:aL;if(!aR.nullable){aS=aO.defaults[aL]=aR.defaultValue!==s?aR.defaultValue:aF[aQ.toLowerCase()]}if(aT.id===aL){aO._defaultId=aS}aO.defaults[aL]=aS;aR.parse=aR.parse||N[aQ]}aP=aN.extend(aO);aP.define=function(aU){return A.define(aP,aU)};if(aO.fields){aP.fields=aO.fields;aP.idField=aO.idField}return aP};var G={selector:function(aL){return aw(aL)?aL:P(aL)},asc:function(aM){var aL=this.selector(aM);return function(aO,aN){aO=aL(aO);aN=aL(aN);if(aO==null&&aN==null){return 0}if((aO&&!aN)||aN==null){return 1}if(aN&&!aO){return -1}return aO>aN?1:(aO<aN?-1:0)}},desc:function(aM){var aL=this.selector(aM);return function(aO,aN){aO=aL(aO);aN=aL(aN);if(aO==null&&aN==null){return 0}if((aO&&!aN)||aN==null){return -1}if((aN&&!aO)||aO==null){return 1}return aO<aN?1:(aO>aN?-1:0)}},create:function(aL){return this[aL.dir.toLowerCase()](aL.field)},combine:function(aL){return function(aP,aO){var aN=aL[0](aP,aO),aM,aQ;for(aM=1,aQ=aL.length;aM<aQ;aM++){aN=aN||aL[aM](aP,aO)}return aN}}};var v=af({},G,{asc:function(aM){var aL=this.selector(aM);return function(aO,aN){var aQ=aL(aO);var aP=aL(aN);if(aQ&&aQ.getTime&&aP&&aP.getTime){aQ=aQ.getTime();aP=aP.getTime()}if(aQ===aP){return aO.__position-aN.__position}if(aP==null){return 1}return aQ>aP?1:(aQ<aP?-1:0)}},desc:function(aM){var aL=this.selector(aM);return function(aO,aN){var aQ=aL(aO);var aP=aL(aN);if(aQ&&aQ.getTime&&aP&&aP.getTime){aQ=aQ.getTime();aP=aP.getTime()}if(aQ===aP){return aO.__position-aN.__position}return aQ<aP?1:(aQ>aP?-1:0)}}});u=function(aP,aO){var aM,aN=aP.length,aL=new Array(aN);for(aM=0;aM<aN;aM++){aL[aM]=aO(aP[aM],aM,aP)}return aL};var t=(function(){function aM(aN){return aN.replace(ax,"\\")}function aL(aR,aO,aN,aQ){var aP;if(aN!=null){if(typeof aN===aE){aN=aM(aN);aP=aj.exec(aN);if(aP){aN=new Date(+aP[1])}else{if(aQ){aN="'"+aN.toLowerCase()+"'";aO="("+aO+" || '').toLowerCase()"}else{aN="'"+aN+"'"}}}if(aN.getTime){aO="("+aO+"?"+aO+".getTime():"+aO+")";aN=aN.getTime()}}return aO+" "+aR+" "+aN}return{eq:function(aO,aN,aP){return aL("==",aO,aN,aP)},neq:function(aO,aN,aP){return aL("!=",aO,aN,aP)},gt:function(aO,aN,aP){return aL(">",aO,aN,aP)},gte:function(aO,aN,aP){return aL(">=",aO,aN,aP)},lt:function(aO,aN,aP){return aL("<",aO,aN,aP)},lte:function(aO,aN,aP){return aL("<=",aO,aN,aP)},startswith:function(aO,aN,aP){if(aP){aO=aO+".toLowerCase()";if(aN){aN=aN.toLowerCase()}}if(aN){aN=aM(aN)}return aO+".lastIndexOf('"+aN+"', 0) == 0"},endswith:function(aO,aN,aP){if(aP){aO=aO+".toLowerCase()";if(aN){aN=aN.toLowerCase()}}if(aN){aN=aM(aN)}return aO+".indexOf('"+aN+"', "+aO+".length - "+(aN||"").length+") >= 0"},contains:function(aO,aN,aP){if(aP){aO="("+aO+" || '').toLowerCase()";if(aN){aN=aN.toLowerCase()}}if(aN){aN=aM(aN)}return aO+".indexOf('"+aN+"') >= 0"},doesnotcontain:function(aO,aN,aP){if(aP){aO="("+aO+" || '').toLowerCase()";if(aN){aN=aN.toLowerCase()}}if(aN){aN=aM(aN)}return aO+".indexOf('"+aN+"') == -1"}}})();function U(aL){this.data=aL||[]}U.filterExpr=function(aT){var aS=[],aQ={and:" && ",or:" || "},aW,aP,aM,aV,aL=[],aR=[],aU,aO,aN=aT.filters;for(aW=0,aP=aN.length;aW<aP;aW++){aM=aN[aW];aU=aM.field;aO=aM.operator;if(aM.filters){aV=U.filterExpr(aM);aM=aV.expression.replace(/__o\[(\d+)\]/g,function(aY,aX){aX=+aX;return"__o["+(aR.length+aX)+"]"}).replace(/__f\[(\d+)\]/g,function(aY,aX){aX=+aX;return"__f["+(aL.length+aX)+"]"});aR.push.apply(aR,aV.operators);aL.push.apply(aL,aV.fields)}else{if(typeof aU===al){aV="__f["+aL.length+"](d)";aL.push(aU)}else{aV=o.expr(aU)}if(typeof aO===al){aM="__o["+aR.length+"]("+aV+", "+aM.value+")";aR.push(aO)}else{aM=t[(aO||"eq").toLowerCase()](aV,aM.value,aM.ignoreCase!==s?aM.ignoreCase:true)}}aS.push(aM)}return{expression:"("+aS.join(aQ[aT.logic])+")",fields:aL,operators:aR}};function K(aO,aL){if(aO){var aN=typeof aO===aE?{field:aO,dir:aL}:aO,aM=b(aN)?aN:(aN!==s?[aN]:[]);return l(aM,function(aP){return !!aP.dir})}}var ai={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};function aH(aQ){var aL,aP,aN,aM,aO=aQ.filters;if(aO){for(aL=0,aP=aO.length;aL<aP;aL++){aN=aO[aL];aM=aN.operator;if(aM&&typeof aM===aE){aN.operator=ai[aM.toLowerCase()]||aM}aH(aN)}}}function ae(aL){if(aL&&!an(aL)){if(b(aL)||!aL.filters){aL={logic:"and",filters:b(aL)?aL:[aL]}}aH(aL);return aL}}U.normalizeFilter=ae;function Z(aL){return b(aL)?aL:[aL]}function q(aO,aL){var aN=typeof aO===aE?{field:aO,dir:aL}:aO,aM=b(aN)?aN:(aN!==s?[aN]:[]);return u(aM,function(aP){return{field:aP.field,dir:aP.dir||"asc",aggregates:aP.aggregates}})}U.prototype={toArray:function(){return this.data},range:function(aL,aM){return new U(this.data.slice(aL,aL+aM))},skip:function(aL){return new U(this.data.slice(aL))},take:function(aL){return new U(this.data.slice(0,aL))},select:function(aL){return new U(u(this.data,aL))},orderBy:function(aM){var aL=this.data.slice(0),aN=aw(aM)||!aM?G.asc(aM):aM.compare;return new U(aL.sort(aN))},orderByDescending:function(aL){return new U(this.data.slice(0).sort(G.desc(aL)))},sort:function(aR,aM,aP){var aL,aQ,aO=K(aR,aM),aN=[];aP=aP||G;if(aO.length){for(aL=0,aQ=aO.length;aL<aQ;aL++){aN.push(aP.create(aO[aL]))}return this.orderBy({compare:aP.combine(aN)})}return this},filter:function(aP){var aT,aR,aM,aS,aU,aO=this.data,aQ,aN,aV=[],aL;aP=ae(aP);if(!aP||aP.filters.length===0){return this}aS=U.filterExpr(aP);aQ=aS.fields;aN=aS.operators;aU=aL=new Function("d, __f, __o","return "+aS.expression);if(aQ.length||aN.length){aL=function(aW){return aU(aW,aQ,aN)}}for(aT=0,aM=aO.length;aT<aM;aT++){aR=aO[aT];if(aL(aR)){aV.push(aR)}}return new U(aV)},group:function(aM,aO){aM=q(aM||[]);aO=aO||this.data;var aN=this,aL=new U(aN.data),aP;if(aM.length>0){aP=aM[0];aL=aL.groupBy(aP).select(function(aR){var aQ=new U(aO).filter([{field:aR.field,operator:"eq",value:aR.value}]);return{field:aR.field,value:aR.value,items:aM.length>1?new U(aR.items).group(aM.slice(1),aQ.toArray()).toArray():aR.items,hasSubgroups:aM.length>1,aggregates:aQ.aggregate(aP.aggregates)}})}return aL},groupBy:function(aL){if(an(aL)||!this.data.length){return new U([])}var aQ=aL.field,aP=this._sortForGrouping(aQ,aL.dir||"asc"),aN=o.accessor(aQ),aU,aM=aN.get(aP[0],aQ),aS={field:aQ,value:aM,items:[]},aT,aR,aO,aV=[aS];for(aR=0,aO=aP.length;aR<aO;aR++){aU=aP[aR];aT=aN.get(aU,aQ);if(!B(aM,aT)){aM=aT;aS={field:aQ,value:aM,items:[]};aV.push(aS)}aS.items.push(aU)}return new U(aV)},_sortForGrouping:function(aP,aM){var aL,aN,aO=this.data;if(!I){for(aL=0,aN=aO.length;aL<aN;aL++){aO[aL].__position=aL}aO=new U(aO).sort(aP,aM,v).toArray();for(aL=0,aN=aO.length;aL<aN;aL++){delete aO[aL].__position}return aO}return this.sort(aP,aM).toArray()},aggregate:function(aO){var aN,aM,aL={};if(aO&&aO.length){for(aN=0,aM=this.data.length;aN<aM;aN++){h(aL,aO,this.data[aN],aN,aM)}}return aL}};function B(aM,aL){if(aM&&aM.getTime&&aL&&aL.getTime){return aM.getTime()===aL.getTime()}return aM===aL}function h(aM,aP,aU,aQ,aL){aP=aP||[];var aT,aN,aR,aO=aP.length;for(aT=0;aT<aO;aT++){aN=aP[aT];aR=aN.aggregate;var aS=aN.field;aM[aS]=aM[aS]||{};aM[aS][aR]=p[aR.toLowerCase()](aM[aS][aR],aU,o.accessor(aS),aQ,aL)}}var p={sum:function(aM,aN,aL){return(aM||0)+aL.get(aN)},count:function(aM,aN,aL){return(aM||0)+1},average:function(aM,aP,aL,aN,aO){aM=(aM||0)+aL.get(aP);if(aN==aO-1){aM=aM/aO}return aM},max:function(aM,aN,aL){var aO=aL.get(aN);aM=aM||0;if(aM<aO){aM=aO}return aM},min:function(aM,aN,aL){var aO=aL.get(aN);aM=(aM||aO);if(aM>aO){aM=aO}return aM}};function y(aO){var aM,aN=aO.length,aL=new Array(aN);for(aM=0;aM<aN;aM++){aL[aM]=aO[aM].toJSON()}return aL}function f(aN,aT){aT=aT||{};var aP=new U(aN),aR=aT.group,aO=q(aR||[]).concat(K(aT.sort||[])),aQ,aL=aT.filter,aS=aT.skip,aM=aT.take;if(aL){aP=aP.filter(aL);aQ=aP.toArray().length}if(aO){aP=aP.sort(aO);if(aR){aN=aP.toArray()}}if(aS!==s&&aM!==s){aP=aP.range(aS,aM)}if(aR){aP=aP.group(aR,aN)}return{total:aQ,data:aP.toArray()}}function aJ(aO,aL){aL=aL||{};var aN=new U(aO),aP=aL.aggregate,aM=aL.filter;if(aM){aN=aN.filter(aM)}return aN.aggregate(aP)}var ad=aB.extend({init:function(aL){this.data=aL.data},read:function(aL){aL.success(this.data)},update:function(aL){aL.success(aL.data)},create:function(aL){aL.success(aL.data)},destroy:function(aL){aL.success(aL.data)}});var aI=aB.extend({init:function(aM){var aN=this,aL;aM=aN.options=af({},aN.options,aM);aK(V,function(aO,aP){if(typeof aM[aP]===aE){aM[aP]={url:aM[aP]}}});aN.cache=aM.cache?M.create(aM.cache):{find:ap,add:ap};aL=aM.parameterMap;aN.parameterMap=aw(aL)?aL:function(aP){var aO={};aK(aP,function(aQ,aR){if(aQ in aL){aQ=aL[aQ];if(C(aQ)){aR=aQ.value(aR);aQ=aQ.key}}aO[aQ]=aR});return aO}},options:{parameterMap:W},create:function(aL){return av(this.setup(aL,au))},read:function(aO){var aP=this,aQ,aN,aL,aM=aP.cache;aO=aP.setup(aO,g);aQ=aO.success||ap;aN=aO.error||ap;aL=aM.find(aO.data);if(aL!==s){aQ(aL)}else{aO.success=function(aR){aM.add(aO.data,aR);aQ(aR)};ar.ajax(aO)}},update:function(aL){return av(this.setup(aL,aC))},destroy:function(aL){return av(this.setup(aL,z))},setup:function(aM,aN){aM=aM||{};var aP=this,aO,aL=aP.options[aN],aQ=aw(aL.data)?aL.data(aM.data):aL.data;aM=af(true,{},aL,aM);aO=af(true,{},aQ,aM.data);aM.data=aP.parameterMap(aO,aN);if(aw(aM.url)){aM.url=aM.url(aO)}return aM}});var M=aB.extend({init:function(){this._store={}},add:function(aL,aM){if(aL!==s){this._store[ab(aL)]=aM}},find:function(aL){return this._store[ab(aL)]},clear:function(){this._store={}},remove:function(aL){delete this._store[ab(aL)]}});M.create=function(aM){var aL={inmemory:function(){return new M()}};if(C(aM)&&aw(aM.find)){return aM}if(aM===true){return new M()}return aL[aM]()};function r(aR,aP,aO){var aN,aM,aL,aQ;for(aL=0,aQ=aR.length;aL<aQ;aL++){aN=aR[aL];for(aM in aP){aN[aM]=aO._parse(aM,aP[aM](aN))}}}function L(aQ,aO,aN){var aM,aL,aP;for(aL=0,aP=aQ.length;aL<aP;aL++){aM=aQ[aL];aM.value=aN._parse(aM.field,aM.value);if(aM.hasSubgroups){L(aM.items,aO,aN)}else{r(aM.items,aO,aN)}}}function R(aO,aL,aN,aM){return function(aP){aP=aO(aP);if(aP&&!an(aM)){if(am.call(aP)!=="[object Array]"&&!(aP instanceof aa)){aP=[aP]}aN(aP,aM,new aL())}return aP||[]}}var O=aB.extend({init:function(aO){var aS=this,aQ,aN,aR,aM;aO=aO||{};for(aQ in aO){aN=aO[aQ];aS[aQ]=typeof aN===aE?P(aN):aN}aM=aO.modelBase||A;if(C(aS.model)){aS.model=aR=aM.define(aS.model)}if(aS.model){var aL=x(aS.data,aS),aP=x(aS.groups,aS),aT={};aR=aS.model;if(aR.fields){aK(aR.fields,function(aV,aU){if(C(aU)&&aU.field){aT[aU.field]=P(aU.field)}else{aT[aV]=P(aV)}})}aS.data=R(aL,aR,r,aT);aS.groups=R(aP,aR,L,aT)}},errors:function(aL){return aL?aL.errors:null},parse:W,data:W,total:function(aL){return aL.length},groups:W,status:function(aL){return aL.status},aggregates:function(){return{}}});function ac(aO){var aM,aN,aL=[];for(aM=0,aN=aO.length;aM<aN;aM++){if(aO[aM].hasSubgroups){aL=aL.concat(ac(aO[aM].items))}else{aL=aL.concat(aO[aM].items.slice())}}return aL}function ag(aP,aN){var aL,aO,aQ,aM;if(aN){for(aL=0,aO=aP.length;aL<aO;aL++){aQ=aP[aL];aM=aQ.items;if(aQ.hasSubgroups){ag(aM,aN)}else{if(aM.length&&!(aM[0] instanceof aN)){aM.type=aN;aM.wrapAll(aM,aM)}}}}}function m(aO,aN){var aL,aM;for(aL=0,aM=aO.length;aL<aM;aL++){if(aO[aL].hasSubgroups){if(m(aO[aL].items,aN)){return true}}else{if(aN(aO[aL].items,aO[aL])){return true}}}}function F(aO,aM){var aL,aN;for(aL=0,aN=aO.length;aL<aN;aL++){if(aO[aL].uid==aM.uid){aM=aO[aL];aO.splice(aL,1);return aM}}}function a(aM,aN){var aO,aQ,aL,aP;for(aL=aM.length-1,aP=0;aL>=aP;aL--){aQ=aM[aL];aO={value:aN.get(aQ.field),field:aQ.field,items:aO?[aO]:[aN],hasSubgroups:!!aO,aggregates:{}}}return aO}function ay(aM,aL){if(aL){return k(aM,function(aN){return aN[aL.idField]===aL.id})}return -1}function aA(aM,aL){if(aL){return k(aM,function(aN){return aN.uid==aL.uid})}return -1}function k(aO,aM){var aL,aN;for(aL=0,aN=aO.length;aL<aN;aL++){if(aM(aO[aL])){return aL}}return -1}var n=H.extend({init:function(aM){var aN=this,aL,aP,aO;if(aM){aO=aM.data}aM=aN.options=af({},aN.options,aM);af(aN,{_map:{},_prefetch:{},_data:[],_ranges:[],_view:[],_pristine:[],_destroyed:[],_pageSize:aM.pageSize,_page:aM.page||(aM.pageSize?1:s),_sort:K(aM.sort),_filter:ae(aM.filter),_group:q(aM.group),_aggregate:aM.aggregate,_total:aM.total});H.fn.init.call(aN);aP=aM.transport;if(aP){aP.read=typeof aP.read===aE?{url:aP.read}:aP.read;if(aM.type){if(o.data.transports[aM.type]&&!C(o.data.transports[aM.type])){aN.transport=new o.data.transports[aM.type](af(aP,{data:aO}))}else{aP=af(true,{},o.data.transports[aM.type],aP)}aM.schema=af(true,{},o.data.schemas[aM.type],aM.schema)}if(!aN.transport){aN.transport=aw(aP.read)?aP:new aI(aP)}}else{aN.transport=new ad({data:aM.data})}aN.reader=new o.data.readers[aM.schema.type||"json"](aM.schema);aL=aN.reader.model||{};aN._data=aN._observe(aN._data);aN.bind([D,E,at,J,T],aM)},options:{data:[],schema:{modelBase:A},serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,sendAllFields:true,batch:false},_flatData:function(aL){if(this.options.serverGrouping&&this.group().length){return ac(aL)}return aL},get:function(aO){var aL,aM,aN=this._flatData(this._data);for(aL=0,aM=aN.length;aL<aM;aL++){if(aN[aL].id==aO){return aN[aL]}}},getByUid:function(aO){var aL,aM,aN=this._flatData(this._data);if(!aN){return}for(aL=0,aM=aN.length;aL<aM;aL++){if(aN[aL].uid==aO){return aN[aL]}}},sync:function(){var aQ=this,aL,aP,aS=[],aM=[],aO=aQ._destroyed,aR=aQ._flatData(aQ._data);if(!aQ.reader.model){return}for(aL=0,aP=aR.length;aL<aP;aL++){if(aR[aL].isNew()){aS.push(aR[aL])}else{if(aR[aL].dirty){aM.push(aR[aL])}}}var aN=aQ._send("create",aS);aN.push.apply(aN,aQ._send("update",aM));aN.push.apply(aN,aQ._send("destroy",aO));ar.when.apply(null,aN).then(function(){var aT,aU;for(aT=0,aU=arguments.length;aT<aU;aT++){aQ._accept(arguments[aT])}aQ._change({action:"sync"});aQ.trigger(J)})},_accept:function(aT){var aO=this,aL=aT.models,aN=aT.response,aQ=0,aS=aO.options.serverGrouping&&aO.group()&&aO.group().length,aR=aO.reader.data(aO._pristine),aP=aT.type,aM;aO.trigger(T,{response:aN,type:aP});if(aN){aN=aO.reader.parse(aN);if(aO._handleCustomErrors(aN)){return}aN=aO.reader.data(aN);if(!ar.isArray(aN)){aN=[aN]}}else{aN=ar.map(aL,function(aU){return aU.toJSON()})}if(aP==="destroy"){aO._destroyed=[]}for(aQ=0,aM=aL.length;aQ<aM;aQ++){if(aP!=="destroy"){aL[aQ].accept(aN[aQ]);if(aP==="create"){aR.push(aS?a(aO.group(),aL[aQ]):aN[aQ])}else{if(aP==="update"){if(aS){aO._updatePristineGroupModel(aL[aQ],aN[aQ])}else{af(aR[aO._pristineIndex(aL[aQ])],aN[aQ])}}}}else{if(aS){aO._removePristineGroupModel(aL[aQ])}else{aR.splice(aO._pristineIndex(aL[aQ]),1)}}}},_pristineIndex:function(aM){var aO=this,aL,aN,aP=aO.reader.data(aO._pristine);for(aL=0,aN=aP.length;aL<aN;aL++){if(aP[aL][aM.idField]===aM.id){return aL}}return -1},_updatePristineGroupModel:function(aN,aL){var aO=this.reader.groups(this._pristine),aM;m(aO,function(aP,aQ){aM=ay(aP,aN);if(aM>-1){af(true,aP[aM],aL);return true}})},_removePristineGroupModel:function(aM){var aN=this.reader.groups(this._pristine),aL;m(aN,function(aO,aP){aL=ay(aO,aM);if(aL>-1){aO.splice(aL,1);return true}})},_promise:function(aN,aP,aL){var aM=this,aO=aM.transport;return ar.Deferred(function(aQ){aO[aL].call(aO,af({success:function(aR){aQ.resolve({response:aR,models:aP,type:aL})},error:function(aS,aR,aT){aQ.reject(aS);aM.error(aS,aR,aT)}},aN))}).promise()},_send:function(aQ,aP){var aO=this,aL,aN,aM=[];if(aO.options.batch){if(aP.length){aM.push(aO._promise({data:{models:y(aP)}},aP,aQ))}}else{for(aL=0,aN=aP.length;aL<aN;aL++){aM.push(aO._promise({data:aP[aL].toJSON()},[aP[aL]],aQ))}}return aM},add:function(aL){return this.insert(this._data.length,aL)},insert:function(aM,aL){if(!aL){aL=aM;aM=0}if(!(aL instanceof A)){if(this.reader.model){aL=new this.reader.model(aL)}else{aL=new X(aL)}}if(this.options.serverGrouping&&this.group()&&this.group().length){this._data.splice(aM,0,a(this.group(),aL))}else{this._data.splice(aM,0,aL)}return aL},cancelChanges:function(aN){var aO=this,aR,aL=aO.options.serverGrouping&&aO.group()&&aO.group().length,aP=!aL?aO.reader.data:aO.reader.groups,aQ=aP(aO._pristine),aM;if(aN instanceof o.data.Model){if(aL){aO._cancelGroupModel(aN)}else{aM=aO.indexOf(aN);aR=aO._pristineIndex(aN);if(aM!=-1){if(aR!=-1&&!aN.isNew()){aO._data[aM].accept(aQ[aR])}else{aO._data.splice(aM,1)}}}}else{aO._destroyed=[];aO._data=aO._observe(aQ);aO._change()}},read:function(aM){var aL=this,aN=aL._params(aM);aL._queueRequest(aN,function(){aL.trigger(at);aL._ranges=[];aL.transport.read({data:aN,success:x(aL.success,aL),error:x(aL.error,aL)})})},_cancelGroupModel:function(aM){var aN=this.reader.groups(this._pristine),aO,aL;m(aN,function(aP,aQ){aL=ay(aP,aM);if(aL>-1){aO=aP[aL];return true}});if(aL>-1){m(this._data,function(aP,aQ){aL=aA(aP,aM);if(aL>-1){if(!aM.isNew()){af(true,aP[aL],aO)}else{aP.splice(aL,1)}}})}},indexOf:function(aL){return aA(this._data,aL)},_params:function(aN){var aM=this,aL=af({take:aM.take(),skip:aM.skip(),page:aM.page(),pageSize:aM.pageSize(),sort:aM._sort,filter:aM._filter,group:aM._group,aggregate:aM._aggregate},aN);if(!aM.options.serverPaging){delete aL.take;delete aL.skip;delete aL.page;delete aL.pageSize}if(!aM.options.serverGrouping){delete aL.group}if(!aM.options.serverFiltering){delete aL.filter}if(!aM.options.serverSorting){delete aL.sort}if(!aM.options.serverAggregates){delete aL.aggregate}return aL},_queueRequest:function(aL,aN){var aM=this;if(!aM._requestInProgress){aM._requestInProgress=true;aM._pending=s;aN()}else{aM._pending={callback:x(aN,aM),options:aL}}},_dequeueRequest:function(){var aL=this;aL._requestInProgress=false;if(aL._pending){aL._queueRequest(aL._pending.options,aL._pending.callback)}},remove:function(aL){var aM=this._data;if(this.options.serverGrouping&&this.group()&&this.group().length){return this._removeGroupItem(aM,aL)}return F(aM,aL)},_removeGroupItem:function(aO,aM){var aL,aN=this;m(aO,function(aP,aQ){aL=F(aP,aM);if(aL){if(!aL.isNew||!aL.isNew()){aN._destroyed.push(aL)}return true}});return aM},error:function(aN,aL,aM){this._dequeueRequest();this.trigger(T,{});this.trigger(D,{xhr:aN,status:aL,errorThrown:aM})},_handleCustomErrors:function(aL){if(this.reader.errors){var aM=this.reader.errors(aL);if(aM){this.trigger(D,{xhr:null,status:"customerror",errorThrown:"custom error",errors:aM});return true}}return false},_parent:ap,success:function(aP){var aO=this,aM=aO.options,aN=aM.serverGrouping===true&&aO._group&&aO._group.length>0;aO.trigger(T,{response:aP,type:"read"});aP=aO.reader.parse(aP);if(aO._handleCustomErrors(aP)){aO._dequeueRequest();return}aO._pristine=C(aP)?ar.extend(true,{},aP):aP.slice?aP.slice(0):aP;aO._total=aO.reader.total(aP);if(aO._aggregate&&aM.serverAggregates){aO._aggregateResult=aO.reader.aggregates(aP)}if(aN){aP=aO.reader.groups(aP)}else{aP=aO.reader.data(aP)}aO._data=aO._observe(aP);var aQ=aO._skip||0,aL=aQ+aO._data.length;aO._ranges.push({start:aQ,end:aL,data:aO._data});aO._ranges.sort(function(aR,aS){return aR.start-aS.start});aO._dequeueRequest();aO._process(aO._data)},_observe:function(aO){var aN=this,aL=aN.reader.model,aM=false;if(aL&&aO.length){aM=!(aO[0] instanceof aL)}if(aO instanceof aa){if(aM){aO.type=aN.reader.model;aO.wrapAll(aO,aO)}}else{aO=new aa(aO,aN.reader.model);aO.parent=function(){return aN._parent()}}if(aN.group()&&aN.group().length&&aN.options.serverGrouping){ag(aO,aL)}return aO.bind(E,x(aN._change,aN))},_change:function(aQ){var aO=this,aL,aN,aP=aQ?aQ.action:"";if(aP==="remove"){for(aL=0,aN=aQ.items.length;aL<aN;aL++){if(!aQ.items[aL].isNew||!aQ.items[aL].isNew()){aO._destroyed.push(aQ.items[aL])}}}if(aO.options.autoSync&&(aP==="add"||aP==="remove"||aP==="itemchange")){aO.sync()}else{var aM=aO._total||aO.reader.total(aO._pristine);if(aP==="add"){aM++}else{if(aP==="remove"){aM--}else{if(aP!=="itemchange"&&!aO.options.serverPaging){aM=aO.reader.total(aO._pristine)}}}aO._total=aM;aO._process(aO._data,aQ)}},_process:function(aO,aP){var aN=this,aM={},aL;if(aN.options.serverPaging!==true){aM.skip=aN._skip;aM.take=aN._take||aN._pageSize;if(aM.skip===s&&aN._page!==s&&aN._pageSize!==s){aM.skip=(aN._page-1)*aN._pageSize}}if(aN.options.serverSorting!==true){aM.sort=aN._sort}if(aN.options.serverFiltering!==true){aM.filter=aN._filter}if(aN.options.serverGrouping!==true){aM.group=aN._group}if(aN.options.serverAggregates!==true){aM.aggregate=aN._aggregate;aN._aggregateResult=aJ(aO,aM)}aL=f(aO,aM);aN._view=aL.data;if(aL.total!==s&&!aN.options.serverFiltering){aN._total=aL.total}aP=aP||{};aP.items=aP.items||aN._view;aN.trigger(E,aP)},at:function(aL){return this._data[aL]},data:function(aM){var aL=this;if(aM!==s){aL._data=this._observe(aM);aL._total=aL._data.length;aL._process(aL._data)}else{return aL._data}},view:function(){return this._view},query:function(aM){var aN=this,aL,aO=aN.options.serverSorting||aN.options.serverPaging||aN.options.serverFiltering||aN.options.serverGrouping||aN.options.serverAggregates;if(aM!==s){aN._pageSize=aM.pageSize;aN._page=aM.page;aN._sort=aM.sort;aN._filter=aM.filter;aN._group=aM.group;aN._aggregate=aM.aggregate;aN._skip=aM.skip;aN._take=aM.take;if(aN._skip===s){aN._skip=aN.skip();aM.skip=aN.skip()}if(aN._take===s&&aN._pageSize!==s){aN._take=aN._pageSize;aM.take=aN._take}if(aM.sort){aN._sort=aM.sort=K(aM.sort)}if(aM.filter){aN._filter=aM.filter=ae(aM.filter)}if(aM.group){aN._group=aM.group=q(aM.group)}if(aM.aggregate){aN._aggregate=aM.aggregate=Z(aM.aggregate)}}if(aO||(aN._data===s||aN._data.length===0)){aN.read(aM)}else{aN.trigger(at);aL=f(aN._data,aM);if(!aN.options.serverFiltering){if(aL.total!==s){aN._total=aL.total}else{aN._total=aN._data.length}}aN._view=aL.data;aN._aggregateResult=aJ(aN._data,aM);aN.trigger(E,{items:aL.data})}},fetch:function(aM){var aL=this;if(aM&&aw(aM)){aL.one(E,aM)}aL._query()},_query:function(aL){var aM=this;aM.query(af({},{page:aM.page(),pageSize:aM.pageSize(),sort:aM.sort(),filter:aM.filter(),group:aM.group(),aggregate:aM.aggregate()},aL))},next:function(aL){var aN=this,aO=aN.page(),aM=aN.total();aL=aL||{};if(!aO||(aM&&aO+1>aN.totalPages())){return}aN._skip=aO*aN.take();aO+=1;aL.page=aO;aN._query(aL);return aO},prev:function(aL){var aM=this,aN=aM.page();aL=aL||{};if(!aN||aN===1){return}aM._skip=aM._skip-aM.take();aN-=1;aL.page=aN;aM._query(aL);return aN},page:function(aN){var aM=this,aL;if(aN!==s){aN=Q.max(Q.min(Q.max(aN,1),aM.totalPages()),1);aM._query({page:aN});return}aL=aM.skip();return aL!==s?Q.round((aL||0)/(aM.take()||1))+1:s},pageSize:function(aM){var aL=this;if(aM!==s){aL._query({pageSize:aM,page:1});return}return aL.take()},sort:function(aM){var aL=this;if(aM!==s){aL._query({sort:aM});return}return aL._sort},filter:function(aM){var aL=this;if(aM===s){return aL._filter}aL._query({filter:aM,page:1})},group:function(aM){var aL=this;if(aM!==s){aL._query({group:aM});return}return aL._group},total:function(){return this._total||0},aggregate:function(aM){var aL=this;if(aM!==s){aL._query({aggregate:aM});return}return aL._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var aM=this,aL=aM.pageSize()||aM.total();return Q.ceil((aM.total()||0)/aL)},inRange:function(aO,aM){var aN=this,aL=Q.min(aO+aM,aN.total());if(!aN.options.serverPaging&&aN.data.length>0){return true}return aN._findRange(aO,aL).length>0},range:function(aR,aM){aR=Q.min(aR||0,this.total());var aP=this,aQ=Q.max(Q.floor(aR/aM),0)*aM,aT=Q.min(aQ+aM,aP.total()),aN;aN=aP._findRange(aR,Q.min(aR+aM,aP.total()));if(aN.length){aP._skip=aR>aP.skip()?Q.min(aT,(aP.totalPages()-1)*aP.take()):aQ;aP._take=aM;var aL=aP.options.serverPaging;var aO=aP.options.serverSorting;var aS=aP.options.serverFiltering;try{aP.options.serverPaging=true;aP.options.serverSorting=true;aP.options.serverFiltering=true;if(aL){aP._data=aN=aP._observe(aN)}aP._process(aN)}finally{aP.options.serverPaging=aL;aP.options.serverSorting=aO;aP.options.serverFiltering=aS}return}if(aM!==s){if(!aP._rangeExists(aQ,aT)){aP.prefetch(aQ,aM,function(){if(aR>aQ&&aT<aP.total()&&!aP._rangeExists(aT,Q.min(aT+aM,aP.total()))){aP.prefetch(aT,aM,function(){aP.range(aR,aM)})}else{aP.range(aR,aM)}})}else{if(aQ<aR){aP.prefetch(aT,aM,function(){aP.range(aR,aM)})}}}},_findRange:function(aP,aS){var aX=this,aM=aX._ranges,aV,aT=[],aY,a0,aZ,aU,aO,aL,aR,a1=aX.options,aN=a1.serverSorting||a1.serverPaging||a1.serverFiltering||a1.serverGrouping||a1.serverAggregates,aQ;for(aY=0,aQ=aM.length;aY<aQ;aY++){aV=aM[aY];if(aP>=aV.start&&aP<=aV.end){var aW=0;for(a0=aY;a0<aQ;a0++){aV=aM[a0];if(aV.data.length&&aP+aW>=aV.start){aO=aV.data;aL=aV.end;if(!aN){aR=f(aV.data,{sort:aX.sort(),filter:aX.filter()});aO=aR.data;if(aR.total!==s){aL=aR.total}}aZ=0;if(aP+aW>aV.start){aZ=(aP+aW)-aV.start}aU=aO.length;if(aL>aS){aU=aU-(aL-aS)}aW+=aU-aZ;aT=aT.concat(aO.slice(aZ,aU));if(aS<=aV.end&&aW==aS-aP){return aT}}}break}}return[]},skip:function(){var aL=this;if(aL._skip===s){return(aL._page!==s?(aL._page-1)*(aL.take()||1):s)}return aL._skip},take:function(){var aL=this;return aL._take||aL._pageSize},prefetch:function(aQ,aN,aR){var aP=this,aO=Q.min(aQ+aN,aP.total()),aL={start:aQ,end:aO,data:[]},aM={take:aN,skip:aQ,page:aQ/aN+1,pageSize:aN,sort:aP._sort,filter:aP._filter,group:aP._group,aggregate:aP._aggregate};if(!aP._rangeExists(aQ,aO)){clearTimeout(aP._timeout);aP._timeout=setTimeout(function(){aP._queueRequest(aM,function(){aP.transport.read({data:aM,success:function(aV){aP._dequeueRequest();var aU=false;for(var aT=0,aS=aP._ranges.length;aT<aS;aT++){if(aP._ranges[aT].start===aQ){aU=true;aL=aP._ranges[aT];break}}if(!aU){aP._ranges.push(aL)}aV=aP.reader.parse(aV);aL.data=aP._observe(aP.reader.data(aV));aL.end=aL.start+aL.data.length;aP._ranges.sort(function(aW,aX){return aW.start-aX.start});aP._total=aP.reader.total(aV);if(aR){aR()}}})})},100)}else{if(aR){aR()}}},_rangeExists:function(aQ,aN){var aP=this,aM=aP._ranges,aL,aO;for(aL=0,aO=aM.length;aL<aO;aL++){if(aM[aL].start<=aQ&&aM[aL].end>=aN){return true}}return false}});n.create=function(aU){aU=aU&&aU.push?{data:aU}:aU;var aL=aU||{},aN=aL.data,aP=aL.fields,aT=aL.table,aR=aL.select,aS,aM,aO={},aQ;if(!aN&&aP&&!aL.transport){if(aT){aN=e(aT,aP)}else{if(aR){aN=i(aR,aP)}}}if(o.data.Model&&aP&&(!aL.schema||!aL.schema.model)){for(aS=0,aM=aP.length;aS<aM;aS++){aQ=aP[aS];if(aQ.type){aO[aQ.field]=aQ}}if(!an(aO)){aL.schema=af(true,aL.schema,{model:{fields:aO}})}}aL.data=aN;return aL instanceof n?aL:new n(aL)};function i(aS,aR){var aV=ar(aS)[0].children,aU,aL,aO=[],aQ,aN=aR[0],aM=aR[1],aT,aP;for(aU=0,aL=aV.length;aU<aL;aU++){aQ={};aP=aV[aU];aQ[aN.field]=aP.text;aT=aP.attributes.value;if(aT&&aT.specified){aT=aP.value}else{aT=aP.text}aQ[aM.field]=aT;aO.push(aQ)}return aO}function e(aW,aQ){var aN=ar(aW)[0].tBodies[0],aX=aN?aN.rows:[],aR,aL,aU,aT=aQ.length,aM=[],aV,aO,aS,aP;for(aR=0,aL=aX.length;aR<aL;aR++){aO={};aP=true;aV=aX[aR].cells;for(aU=0;aU<aT;aU++){aS=aV[aU];if(aS.nodeName.toLowerCase()!=="th"){aP=false;aO[aQ[aU].field]=aS.innerHTML}}if(!aP){aM.push(aO)}}return aM}var aq=A.define({init:function(aP){var aO=this,aL=aO.hasChildren||aP&&aP.hasChildren,aN="items",aM={};o.data.Model.fn.init.call(aO,aP);if(typeof aO.children===aE){aN=aO.children}aM={schema:{data:aN,model:{hasChildren:aL,id:aO.idField}}};if(typeof aO.children!==aE){af(aM,aO.children)}aM.data=aP;if(!aL){aL=aM.schema.data}if(typeof aL===aE){aL=o.getter(aL)}if(aw(aL)){aO.hasChildren=!!aL.call(aO,aO)}aO._childrenOptions=aM;if(aO.hasChildren){aO._initChildren()}aO._loaded=!!(aP&&aP[aN])},_initChildren:function(){var aM=this,aL=aM._childrenOptions.schema.data;if(!(aM.children instanceof S)){aM.children=new S(aM._childrenOptions);aM.children._parent=function(){return aM};aM.children.bind(E,function(aN){aN.node=aN.node||aM;aM.trigger(E,aN)});if(aL){aM[aL]=aM.children.data()}}},append:function(aL){this._initChildren();this.loaded(true);this.children.add(aL)},hasChildren:false,level:function(){var aL=this.parentNode(),aM=0;while(aL&&aL.parentNode){aM++;aL=aL.parentNode?aL.parentNode():null}return aM},load:function(){var aM=this,aL={};aM._initChildren();if(!aM._loaded||aM.hasChildren){aL[aM.idField||"id"]=aM.id;if(!aM._loaded){aM.children._data=s}aM.children.one(E,function(){aM._loaded=true})._query(aL)}},parentNode:function(){var aL=this.parent();return aL.parent()},loaded:function(aL){if(aL!==s){this._loaded=aL}else{return this._loaded}},shouldSerialize:function(aL){return A.fn.shouldSerialize.call(this,aL)&&aL!=="children"&&aL!=="_loaded"&&aL!=="hasChildren"&&aL!=="_childrenOptions"}});var S=n.extend({init:function(aL){var aM=aq.define({children:aL});n.fn.init.call(this,af(true,{},{schema:{modelBase:aM,model:aM}},aL))},remove:function(aN){var aM=aN.parentNode(),aO=this,aL;if(aM){aO=aM.children}aL=n.fn.remove.call(aO,aN);if(aM&&!aO.data().length){aM.hasChildren=false}return aL},insert:function(aN,aM){var aL=this._parent();if(aL){aL.hasChildren=true;aL._initChildren()}return n.fn.insert.call(this,aN,aM)},_find:function(aR,aQ){var aL,aO,aN,aP,aM;aN=n.fn[aR].call(this,aQ);if(aN){return aN}aP=this._flatData(this.data());if(!aP){return}for(aL=0,aO=aP.length;aL<aO;aL++){aM=aP[aL].children;if(!(aM instanceof S)){continue}aN=aM[aR](aQ);if(aN){return aN}}},get:function(aL){return this._find("get",aL)},getByUid:function(aL){return this._find("getByUid",aL)}});function c(aT,aS){var aW=ar(aT).children(),aY,aN,aP=[],aQ,aO=aS[0].field,aR=aS[1]&&aS[1].field,aV=aS[2]&&aS[2].field,a0=aS[3]&&aS[3].field,aZ,aL,aX,aU,aM;for(aY=0,aN=aW.length;aY<aN;aY++){aQ={};aZ=aW.eq(aY);aX=aZ[0].firstChild;aM=aZ.children();aT=aM.filter("ul");aM=aM.filter(":not(ul)");aL=aZ.attr("data-id");if(aL){aQ.id=aL}if(aX){aQ[aO]=aX.nodeType==3?aX.nodeValue:aM.text()}if(aR){aQ[aR]=aM.find("a").attr("href")}if(a0){aQ[a0]=aM.find("img").attr("src")}if(aV){aU=aM.find(".k-sprite").prop("className");aQ[aV]=aU&&ar.trim(aU.replace("k-sprite",""))}if(aT.length){aQ.items=c(aT.eq(0),aS)}if(aZ.attr("data-hasChildren")=="true"){aQ.hasChildren=true}aP.push(aQ)}return aP}S.create=function(aM){aM=aM&&aM.push?{data:aM}:aM;var aP=aM||{},aO=aP.data,aL=aP.fields,aN=aP.list;if(aO&&aO._dataSource){return aO._dataSource}if(!aO&&aL&&!aP.transport){if(aN){aO=c(aN,aL)}}aP.data=aO;return aP instanceof S?aP:new S(aP)};af(true,o.data,{readers:{json:O},Query:U,DataSource:n,HierarchicalDataSource:S,Node:aq,ObservableObject:X,ObservableArray:aa,LocalTransport:ad,RemoteTransport:aI,Cache:M,DataReader:O,Model:A})})(window.kendo.jQuery);(function(g,A){var u=window.kendo,p=u.Observable,e=u.data.ObservableObject,j=u.data.ObservableArray,v={}.toString,t={},y=u.Class,l,x=g.proxy,i="value",d="source",c="events",B="checked",r="change";(function(){var I=document.createElement("a");if(I.innerText!==undefined){l="innerText"}else{if(I.textContent!==undefined){l="textContent"}}})();var f=p.extend({init:function(J,K){var I=this;p.fn.init.call(I);I.source=J;I.path=K;I.dependencies={};I.dependencies[K]=true;I.observable=I.source instanceof p;I._access=function(L){I.dependencies[L.field]=true};if(I.observable){I._change=function(L){I.change(L)};I.source.bind(r,I._change)}},change:function(M){var J,I,K,L=this;if(L.path==="this"){L.trigger(r,M)}else{for(J in L.dependencies){I=J.indexOf(M.field);if(I===0){K=J.charAt(M.field.length);if(!K||K==="."||K==="["){L.trigger(r,M);break}}}}},start:function(){if(this.observable){this.source.bind("get",this._access)}},stop:function(){if(this.observable){this.source.unbind("get",this._access)}},get:function(){var K=this,L=K.source,J,M=K.path,I=L;K.start();if(K.observable){I=L.get(M);while(I===undefined&&L){L=L.parent();if(L instanceof e){I=L.get(M)}}if(typeof I==="function"){J=M.lastIndexOf(".");if(J>0){L=L.get(M.substring(0,J))}I=x(I,L);I=I(K.source)}if(L&&L!==K.source){K.currentSource=L;L.unbind(r,K._change).bind(r,K._change)}}K.stop();return I},set:function(K){var I=this,J=I.currentSource||I.source;J.set(I.path,K)},destroy:function(){if(this.observable){this.source.unbind(r,this._change)}}});var o=f.extend({get:function(){var J=this.source,K=this.path,I;I=J.get(K);while(!I&&J){J=J.parent();if(J instanceof e){I=J.get(K)}}return x(I,J)}});var a=f.extend({init:function(K,L,I){var J=this;f.fn.init.call(J,K,L);J.template=I},render:function(J){var I;this.start();I=u.render(this.template,J);this.stop();return I}});var z=y.extend({init:function(J,K,I){this.element=J;this.bindings=K;this.options=I},bind:function(K,J){var I=this;K=J?K[J]:K;K.bind(r,function(L){I.refresh(J||L)});I.refresh(J)},destroy:function(){}});t.attr=z.extend({refresh:function(I){this.element.setAttribute(I,this.bindings.attr[I].get())}});t.style=z.extend({refresh:function(I){this.element.style[I]=this.bindings.style[I].get()}});t.enabled=z.extend({refresh:function(){if(this.bindings.enabled.get()){this.element.removeAttribute("disabled")}else{this.element.setAttribute("disabled","disabled")}}});t.readonly=z.extend({refresh:function(){if(this.bindings.readonly.get()){this.element.setAttribute("readonly","readonly")}else{this.element.removeAttribute("readonly")}}});t.disabled=z.extend({refresh:function(){if(this.bindings.disabled.get()){this.element.setAttribute("disabled","disabled")}else{this.element.removeAttribute("disabled")}}});t.events=z.extend({init:function(J,K,I){z.fn.init.call(this,J,K,I);this.handlers={}},refresh:function(J){var I=g(this.element),L=this.bindings.events[J],K=this.handlers[J];if(K){I.off(J,K)}K=this.handlers[J]=L.get();I.on(J,L.source,K)},destroy:function(){var I=g(this.element),J;for(J in this.handlers){I.off(J,this.handlers[J])}}});t.text=z.extend({refresh:function(){var I=this.bindings.text.get();if(I==null){I=""}this.element[l]=I}});t.visible=z.extend({refresh:function(){if(this.bindings.visible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});t.invisible=z.extend({refresh:function(){if(!this.bindings.invisible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});t.html=z.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});t.value=z.extend({init:function(J,K,I){z.fn.init.call(this,J,K,I);this._change=x(this.change,this);this.eventName=I.valueUpdate||r;g(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=r;this.bindings[i].set(this.element.value);this._initChange=false},refresh:function(){if(!this._initChange){var I=this.bindings[i].get();if(I==null){I=""}this.element.value=I}this._initChange=false},destroy:function(){g(this.element).off(this.eventName,this._change)}});t.source=z.extend({init:function(J,K,I){z.fn.init.call(this,J,K,I)},refresh:function(K){var I=this,J=I.bindings.source.get();if(J instanceof j){K=K||{};if(K.action=="add"){I.add(K.index,K.items)}else{if(K.action=="remove"){I.remove(K.index,K.items)}else{if(K.action!="itemchange"){I.render()}}}}else{I.render()}},container:function(){var I=this.element;if(I.nodeName.toLowerCase()=="table"){if(!I.tBodies[0]){I.appendChild(document.createElement("tbody"))}I=I.tBodies[0]}return I},template:function(){var I=this.options,J=I.template,K=this.container().nodeName.toLowerCase();if(!J){if(K=="select"){if(I.valueField||I.textField){J=u.format('<option value="#:{0}#">#:{1}#</option>',I.valueField||I.textField,I.textField||I.valueField)}else{J="<option>#:data#</option>"}}else{if(K=="tbody"){J="<tr><td>#:data#</td></tr>"}else{if(K=="ul"||K=="ol"){J="<li>#:data#</li>"}else{J="#:data#"}}}J=u.template(J)}return J},destroy:function(){var I=this.bindings.source.get();I.unbind(r,this._change)},add:function(L,K){var M=this.container(),J,N,P,O=M.cloneNode(false),I=M.children[L];g(O).html(u.render(this.template(),K));if(O.children.length){for(J=0,N=K.length;J<N;J++){P=O.children[0];M.insertBefore(P,I||null);n(P,K[J],this.options.roles)}}},remove:function(K,J){var I,L=this.container();for(I=0;I<J.length;I++){L.removeChild(L.children[K])}},render:function(){var N=this.bindings.source.get(),I,M,J=this.container(),L=this.template(),K;if(!(N instanceof j)&&v.call(N)!=="[object Array]"){if(N.parent){K=N.parent}N=new j([N]);if(N.parent){N.parent=K}}if(this.bindings.template){g(J).html(this.bindings.template.render(N));if(J.children.length){for(I=0,M=N.length;I<M;I++){n(J.children[I],N[I],this.options.roles)}}}else{g(J).html(u.render(L,N))}}});t.input={checked:z.extend({init:function(J,K,I){z.fn.init.call(this,J,K,I);this._change=x(this.change,this);g(this.element).change(this._change)},change:function(){var J=this.element;var L=this.value();if(J.type=="radio"){this.bindings[B].set(L)}else{if(J.type=="checkbox"){var K=this.bindings[B].get();var I;if(K instanceof j){L=this.element.value;if(L!=="on"&&L!=="off"){I=K.indexOf(L);if(I>-1){K.splice(I,1)}else{K.push(L)}}}else{this.bindings[B].set(L)}}}},refresh:function(){var K=this.bindings[B].get(),J=K,I=this.element;if(I.type=="checkbox"){if(J instanceof j){K=this.element.value;if(J.indexOf(K)>=0){K=true}}I.checked=K===true}else{if(I.type=="radio"&&K!=null){if(I.value===K.toString()){I.checked=true}}}},value:function(){var I=this.element,J=I.value;if(I.type=="checkbox"){J=I.checked}return J},destroy:function(){g(this.element).off(r,this._change)}})};t.select={value:z.extend({init:function(J,K,I){z.fn.init.call(this,J,K,I);this._change=x(this.change,this);g(this.element).change(this._change)},change:function(){var Q=[],K=this.element,I,N=this.options.valueField||this.options.textField,L,M,O,P,J;for(P=0,J=K.options.length;P<J;P++){L=K.options[P];if(L.selected){O=L.attributes.value;if(O&&O.specified){O=L.value}else{O=L.text}Q.push(O)}}if(N){I=this.bindings.source.get();for(M=0;M<Q.length;M++){for(P=0,J=I.length;P<J;P++){if(I[P].get(N)==Q[M]){Q[M]=I[P];break}}}}O=this.bindings[i].get();if(O instanceof j){O.splice.apply(O,[0,O.length].concat(Q))}else{if(O instanceof e||!N){this.bindings[i].set(Q[0])}else{this.bindings[i].set(Q[0].get(N))}}},refresh:function(){var L,K=this.element,J=K.options,M=this.bindings[i].get(),I=M,N=this.options.valueField||this.options.textField,P;if(!(I instanceof j)){I=new j([M])}for(var O=0;O<I.length;O++){M=I[O];if(N&&M instanceof e){M=M.get(N)}for(L=0;L<J.length;L++){P=J[L].value;if(P===""&&M!==""){P=J[L].text}if(P==M){J[L].selected=true}}}},destroy:function(){g(this.element).off(r,this._change)}})};t.widget={events:z.extend({init:function(J,K,I){z.fn.init.call(this,J.element[0],K,I);this.widget=J;this.handlers={}},refresh:function(I){var K=this.bindings.events[I],J=this.handlers[I];if(J){this.widget.unbind(I,J)}J=K.get();this.handlers[I]=function(L){L.data=K.source;J(L);if(L.data===K.source){delete L.data}};this.widget.bind(I,this.handlers[I])},destroy:function(){var I;for(I in this.handlers){this.widget.unbind(I,this.handlers[I])}}}),checked:z.extend({init:function(J,K,I){z.fn.init.call(this,J.element[0],K,I);this.widget=J;this._change=x(this.change,this);this.widget.bind(r,this._change)},change:function(){this.bindings[B].set(this.value())},refresh:function(){this.widget.check(this.bindings[B].get()===true)},value:function(){var I=this.element,J=I.value;if(J=="on"||J=="off"){J=I.checked}return J},destroy:function(){this.widget.unbind(r,this._change)}}),visible:z.extend({init:function(J,K,I){z.fn.init.call(this,J.element[0],K,I);this.widget=J},refresh:function(){var I=this.bindings.visible.get();this.widget.wrapper[0].style.display=I?"":"none"}}),invisible:z.extend({init:function(J,K,I){z.fn.init.call(this,J.element[0],K,I);this.widget=J},refresh:function(){var I=this.bindings.invisible.get();this.widget.wrapper[0].style.display=I?"none":""}}),enabled:z.extend({init:function(J,K,I){z.fn.init.call(this,J.element[0],K,I);this.widget=J},refresh:function(){if(this.widget.enable){this.widget.enable(this.bindings.enabled.get())}}}),disabled:z.extend({init:function(J,K,I){z.fn.init.call(this,J.element[0],K,I);this.widget=J},refresh:function(){if(this.widget.enable){this.widget.enable(!this.bindings.disabled.get())}}}),source:z.extend({init:function(K,L,I){var J=this;z.fn.init.call(J,K.element[0],L,I);J.widget=K;J._dataBinding=x(J.dataBinding,J);J._dataBound=x(J.dataBound,J);J._itemChange=x(J.itemChange,J)},itemChange:function(I){n(I.item[0],I.data,(I.ns||u.ui).roles)},dataBinding:function(){var I,K,L=this.widget,J=L.items();for(I=0,K=J.length;I<K;I++){w(J[I])}},dataBound:function(M){var Q,J,L=this.widget,N=L.items(),I=L.dataSource,P=I.view(),O=M.ns||u.ui,K=I.group()||[];if(N.length){if(K.length){P=k(P)}for(Q=0,J=P.length;Q<J;Q++){n(N[Q],P[Q],O.roles)}}},refresh:function(L){var I=this,K,J=I.widget;L=L||{};if(!L.action){I.destroy();J.bind("dataBinding",I._dataBinding);J.bind("dataBound",I._dataBound);J.bind("itemChange",I._itemChange);if(J.dataSource instanceof u.data.DataSource){K=I.bindings.source.get();if(K instanceof u.data.DataSource){J.setDataSource(K)}else{if(K&&K._dataSource){J.setDataSource(K._dataSource)}else{J.dataSource.data(K)}}}}},destroy:function(){var I=this.widget;I.unbind("dataBinding",this._dataBinding);I.unbind("dataBound",this._dataBound);I.unbind("itemChange",this._itemChange)}}),value:z.extend({init:function(K,L,I){z.fn.init.call(this,K.element[0],L,I);this.widget=K;this._change=g.proxy(this.change,this);this.widget.first(r,this._change);var J=this.bindings.value.get();this._valueIsObservableObject=J==null||J instanceof e},change:function(){var M=this.widget.value();var I,K;var N=this.options.dataValueField||this.options.dataTextField;if(N){var L,J=this._valueIsObservableObject;if(this.bindings.source){L=this.bindings.source.get()}if(M===""&&J){M=null}else{if(!L||L instanceof u.data.DataSource){L=this.widget.dataSource.view()}for(I=0,K=L.length;I<K;I++){if(L[I].get(N)==M){if(J){M=L[I]}else{M=L[I].get(N)}break}}}}this.bindings.value.set(M)},refresh:function(){var J=this.options.dataValueField||this.options.dataTextField;var I=this.bindings.value.get();if(J&&I instanceof e){I=I.get(J)}this.widget.value(I)},destroy:function(){this.widget.unbind(r,this._change)}})};var E=y.extend({init:function(J,I){this.target=J;this.options=I;this.toDestroy=[]},bind:function(O){var N=this.target.nodeName.toLowerCase(),K,J,I,M,L=t[N]||{};for(K in O){if(K==i){J=true}else{if(K==d){I=true}else{if(K==c){M=true}else{this.applyBinding(K,O,L)}}}}if(I){this.applyBinding(d,O,L)}if(J){this.applyBinding(i,O,L)}if(M){this.applyBinding(c,O,L)}},applyBinding:function(K,O,M){var J=M[K]||t[K],I=this.toDestroy,L,N=O[K];if(J){J=new J(this.target,O,this.options);I.push(J);if(N instanceof f){J.bind(N);I.push(N)}else{for(L in N){J.bind(N,L);I.push(N[L])}}}else{if(K!=="template"){throw new Error("The "+K+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")}}},destroy:function(){var I,K,J=this.toDestroy;for(I=0,K=J.length;I<K;I++){J[I].destroy()}}});var H=E.extend({bind:function(M){var K=this,L,J=false,I=false;for(L in M){if(L==i){J=true}else{if(L==d){I=true}else{K.applyBinding(L,M)}}}if(I){K.applyBinding(d,M)}if(J){K.applyBinding(i,M)}},applyBinding:function(K,N){var J=t.widget[K],I=this.toDestroy,L,M=N[K];if(J){J=new J(this.target,N,this.target.options);I.push(J);if(M instanceof f){J.bind(M);I.push(M)}else{for(L in M){J.bind(M,L);I.push(M[L])}}}else{throw new Error("The "+K+" binding is not supported by the "+this.target.options.name+" widget")}}});function k(L){var J,K,I=[];for(J=0,K=L.length;J<K;J++){if(L[J].hasSubgroups){I=I.concat(k(L[J].items))}else{I=I.concat(L[J].items)}}return I}function D(L,I,K){var J=K[L];if(J){return new H(u.initWidget(I,J.options,K))}}var m=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,C=/\s/g;function G(L){var Q={},O,I,J,K,P,N,M;M=L.match(m);for(O=0,I=M.length;O<I;O++){J=M[O];K=J.indexOf(":");P=J.substring(0,K);N=J.substring(K+1);if(N.charAt(0)=="{"){N=G(N)}Q[P]=N}return Q}function s(M,K,J){var L,I={};for(L in M){I[L]=new J(K,M[L])}return I}function n(M,I,N){var L=M.getAttribute("data-"+u.ns+"role"),Q,P=M.getAttribute("data-"+u.ns+"bind"),K=M.children,R=true,J,S={},O;if(L||P){b(M)}if(L){O=D(L,M,N)}if(P){P=G(P.replace(C,""));if(!O){S=u.parseOptions(M,{textField:"",valueField:"",template:"",valueUpdate:r});S.roles=N;O=new E(M,S)}O.source=I;J=s(P,I,f);if(S.template){J.template=new a(I,"",S.template)}if(J.click){P.events=P.events||{};P.events.click=P.click;delete J.click}if(J.source){R=false}if(P.attr){J.attr=s(P.attr,I,f)}if(P.style){J.style=s(P.style,I,f)}if(P.events){J.events=s(P.events,I,o)}O.bind(J)}if(O){M.kendoBindingTarget=O}if(R&&K){for(Q=0;Q<K.length;Q++){n(K[Q],I,N)}}}function F(M,J){var I,L,K=u.rolesFromNamespaces([].slice.call(arguments,2));J=u.observable(J);M=g(M);for(I=0,L=M.length;I<L;I++){n(M[I],J,K)}}function b(I){var J=I.kendoBindingTarget;if(J){J.destroy();if(g.support.deleteExpando){delete I.kendoBindingTarget}else{if(I.removeAttribute){I.removeAttribute("kendoBindingTarget")}else{I.kendoBindingTarget=null}}}}function w(K){var I,L,J=K.children;b(K);if(J){for(I=0,L=J.length;I<L;I++){w(J[I])}}}function h(K){var I,J;K=g(K);for(I=0,J=K.length;I<J;I++){w(K[I])}}function q(K,J){var I=K.element,L=I[0].kendoBindingTarget;if(L){F(I,L.source,J)}}u.unbind=h;u.bind=F;u.data.binders=t;u.data.Binder=z;u.notify=q;u.observable=function(I){if(!(I instanceof e)){I=new e(I)}return I};u.observableHierarchy=function(K){var J=u.data.HierarchicalDataSource.create(K);function I(N){var M,L;for(M=0;M<N.length;M++){N[M]._initChildren();L=N[M].children;L.fetch();N[M].items=L.data();I(N[M].items)}}J.fetch();I(J.data());J._data._dataSource=J;return J._data}})(window.kendo.jQuery);(function(f,g){var p=window.kendo,e=p.ui.Widget,t=".kendoValidator",u="k-invalid-msg",v="k-invalid",l=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,x=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,d=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",w="[type=number],[type=range]",b="blur",i="name",k="form",a="novalidate",q=f.proxy,r=function(z,y){if(typeof y==="string"){y=new RegExp("^(?:"+y+")$")}return y.test(z)},c=function(z,y,B){var A=z.val();if(z.filter(y).length&&A!==""){return r(A,B)}return true},h=function(y,z){if(y.length){return y[0].attributes[z]!==g}return false},o=/(\[|\]|\$|\.|\:|\+)/g;if(!p.ui.validator){p.ui.validator={rules:{},messages:{}}}function s(A){var z=p.ui.validator.ruleResolvers||{},B={},y;for(y in z){f.extend(true,B,z[y].resolve(A))}return B}function n(y){return y.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function m(y){y=(y+"").split(".");if(y.length>1){return y[1].length}return 0}var j=e.extend({init:function(A,z){var B=this,y=s(A);z=z||{};z.rules=f.extend({},p.ui.validator.rules,y.rules,z.rules);z.messages=f.extend({},p.ui.validator.messages,y.messages,z.messages);e.fn.init.call(B,A,z);B._errorTemplate=p.template(B.options.errorTemplate);if(B.element.is(k)){B.element.attr(a,a)}B._errors={};B._attachEvents()},options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(y){var A=y.filter("[type=checkbox]").length&&y.attr("checked")!=="checked",z=y.val();return !(h(y,"required")&&(z===""||!z||A))},pattern:function(y){if(y.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&y.val()!==""){return r(y.val(),y.attr("pattern"))}return true},min:function(y){if(y.filter(w+",["+p.attr("type")+"=number]").filter("[min]").length&&y.val()!==""){var z=parseFloat(y.attr("min"))||0,A=parseFloat(y.val());return z<=A}return true},max:function(z){if(z.filter(w+",["+p.attr("type")+"=number]").filter("[max]").length&&z.val()!==""){var y=parseFloat(z.attr("max"))||0,A=parseFloat(z.val());return y>=A}return true},step:function(A){if(A.filter(w+",["+p.attr("type")+"=number]").filter("[step]").length&&A.val()!==""){var B=parseFloat(A.attr("min"))||0,C=parseFloat(A.attr("step"))||1,D=parseFloat(A.val()),y=m(C),z;if(y){z=Math.pow(10,y);return(((D-B)*z)%(C*z))/Math.pow(100,y)===0}return((D-B)%C)===0}return true},email:function(y){return c(y,"[type=email],["+p.attr("type")+"=email]",l)},url:function(y){return c(y,"[type=url],["+p.attr("type")+"=url]",x)},date:function(y){if(y.filter("[type^=date],["+p.attr("type")+"=date]").length&&y.val()!==""){return p.parseDate(y.val(),y.attr(p.attr("format")))!==null}return true}},validateOnBlur:true},destroy:function(){e.fn.destroy.call(this);this.element.off(t)},_submit:function(y){if(!this.validate()){y.stopPropagation();y.stopImmediatePropagation();y.preventDefault();return false}return true},_attachEvents:function(){var y=this;if(y.element.is(k)){y.element.on("submit"+t,q(y._submit,y))}if(y.options.validateOnBlur){if(!y.element.is(d)){y.element.on(b+t,d,function(){y.validateInput(f(this))})}else{y.element.on(b+t,function(){y.validateInput(y.element)})}}},validate:function(){var B=this,z,y,C=false,A;B._errors={};if(!B.element.is(d)){z=B.element.find(d);for(y=0,A=z.length;y<A;y++){if(!B.validateInput(z.eq(y))){C=true}}return !C}return B.validateInput(B.element)},validateInput:function(E){E=f(E);var A=this,F=A._errorTemplate,H=A._checkValidity(E),y=H.valid,B="."+u,G=(E.attr(i)||""),C=A._findMessageContainer(G).add(E.next(B)).hide(),D;E.removeAttr("aria-invalid");if(!y){D=A._extractMessage(E,H.key);A._errors[G]=D;var z=f(F({message:n(D)}));A._decorateMessageContainer(z,G);if(!C.replaceWith(z).length){z.insertAfter(E)}z.show();E.attr("aria-invalid",true)}E.toggleClass(v,!y);return y},_findMessageContainer:function(B){var y=p.ui.validator.messageLocators,z,A=this.element.find("."+u+"["+p.attr("for")+"="+B.replace(o,"\\$1")+"]");for(z in y){A=A.add(y[z].locate(this.element,B))}return A},_decorateMessageContainer:function(z,B){var y=p.ui.validator.messageLocators,A;z.addClass(u).attr(p.attr("for"),B||"");for(A in y){y[A].decorate(z,B)}z.attr("role","alert")},_extractMessage:function(z,y){var B=this,A=B.options.messages[y],C=z.attr(i);A=f.isFunction(A)?A(z):A;return p.format(z.attr(p.attr(y+"-msg"))||z.attr("validationMessage")||z.attr("title")||A||"",C,z.attr(y))},_checkValidity:function(y){var A=this.options.rules,z;for(z in A){if(!A[z](y)){return{valid:false,key:z}}}return{valid:true}},errors:function(){var z=[],A=this._errors,y;for(y in A){z.push(A[y])}return z}});p.ui.plugin(j)})(window.kendo.jQuery);(function(g,k){var r=window.kendo,m=r.support,o=m.pointers,t=window.document,j=g(t.documentElement),x=r.Class,n=r.Observable,b=g.now,A=g.extend,c=m.mobileOS,s=c&&c.android,h="press",y="start",C="move",i="end",e="cancel",B="tap",p="gesturestart",a="gesturechange",f="gestureend",z="gesturetap";function u(F){F.preventDefault();var E=g(F.currentTarget),D=E.closest(".k-widget").parent();if(!D[0]){D=E.parent()}D.trigger(g.Event(F.type,{target:E}))}function w(K,J){var G=K.x.location,I=K.y.location,F=J.x.location,H=J.y.location,E=G-F,D=I-H;return{center:{x:(G+F)/2,y:(I+H)/2},distance:Math.sqrt(E*E+D*D)}}function v(I){var H=[],E=I.originalEvent,D=0,G,F,J;if(I.api){H.push({id:2,event:I,target:I.target,location:I})}else{if(I.type.match(/touch/)){F=E?E.changedTouches:[];for(G=F.length;D<G;D++){J=F[D];H.push({location:J,event:I,target:J.target,id:J.identifier})}}else{if(m.pointers){H.push({location:E,event:I,target:I.target,id:E.pointerId})}else{H.push({id:1,event:I,target:I.target,location:I})}}}return H}var l=x.extend({init:function(E,D){var F=this;F.axis=E;F._updateLocationData(D);F.startLocation=F.location;F.velocity=F.delta=0;F.timeStamp=b()},move:function(D){var F=this,H=D["page"+F.axis],E=b(),G=(E-F.timeStamp)||1;if(!H&&s){return}F.delta=H-F.location;F._updateLocationData(D);F.initialDelta=H-F.startLocation;F.velocity=F.delta/G;F.timeStamp=E},_updateLocationData:function(D){var F=this,E=F.axis;F.location=D["page"+E];F.client=D["client"+E];F.screen=D["screen"+E]}});var q=x.extend({init:function(F,G,D){var E=this;A(E,{x:new l("X",D.location),y:new l("Y",D.location),userEvents:F,target:G,currentTarget:D.currentTarget,id:D.id,_moved:false,_finished:false});E._trigger(h,D)},move:function(D){var E=this;if(E._finished){return}E.x.move(D.location);E.y.move(D.location);if(!E._moved){if(E._withinIgnoreThreshold()){return}if(!d.current||d.current===E.userEvents){E._start(D)}else{return E.dispose()}}if(!E._finished){E._trigger(C,D)}},end:function(D){var E=this;E.endTime=b();if(E._finished){return}if(E._moved){E._trigger(i,D)}else{E._trigger(B,D)}E.dispose()},dispose:function(){var E=this,D=E.userEvents,F=D.touches;E._finished=true;F.splice(g.inArray(E,F),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(D){this.startTime=b();this._moved=true;this._trigger(y,D)},_trigger:function(E,F){var G=this,D=F.event,H={touch:G,x:G.x,y:G.y,target:G.target,event:D};if(G.userEvents.notify(E,H)){D.preventDefault()}},_withinIgnoreThreshold:function(){var E=this.x.initialDelta,D=this.y.initialDelta;return Math.sqrt(E*E+D*D)<=this.userEvents.threshold}});var d=n.extend({init:function(F,L){var I=this,D;L=L||{};D=I.filter=L.filter;I.threshold=L.threshold||0;I.touches=[];I._maxTouches=L.multiTouch?2:1;F=g(F).handler(I);n.fn.init.call(I);A(I,{element:F,surface:L.global?j:L.surface||F,stopPropagation:L.stopPropagation,pressed:false});I.surface.handler(I).on("move","_move").on("up cancel","_end");F.on("down",D,"_start");if(o){F.css("-ms-touch-action","pinch-zoom double-tap-zoom")}if(L.preventDragEvent){F.on("dragstart",r.preventDefault)}if(!L.allowSelection){F.on("mousedown selectstart",D,u)}if(m.eventCapture){var G=r.eventMap.up.split(" "),K=0,E=G.length,H=I.surface[0],J=function(M){if(I._isMoved()){M.preventDefault()}};for(;K<E;K++){H.addEventListener(G[K],J,true)}}I.bind([h,B,y,C,i,e,p,a,f,z],L)},destroy:function(){this.element.kendoDestroy();this.surface.kendoDestroy();this._disposeAll()},capture:function(){d.current=this},cancel:function(){this._disposeAll();this.trigger(e)},notify:function(D,F){var E=this,G=E.touches;if(this._isMultiTouch()){switch(D){case C:D=a;break;case i:D=f;break;case B:D=z;break}g.extend(F,{touches:G},w(G[0],G[1]))}return this.trigger(D,F)},press:function(D,F,E){this._apiCall("_start",D,F,E)},move:function(D,E){this._apiCall("_move",D,E)},end:function(D,E){this._apiCall("_end",D,E)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){g.each(this.touches,function(){this.dispose()})},_isMoved:function(){return g.grep(this.touches,function(D){return D.isMoved()}).length},_isPressed:function(){return this.touches.length},_start:function(J){var G=this,D=0,E=G.filter,I,H=v(J),F=H.length,K;if(G._maxTouchesReached()){return}d.current=null;G.currentTarget=J.currentTarget;if(G.stopPropagation){J.stopPropagation()}for(;D<F;D++){if(G._maxTouchesReached()){break}K=H[D];I=g(K.target);if(E){I=I.is(E)?I:I.closest(E)}else{I=G.element}if(!I.length){continue}G.touches.push(new q(G,I,K));if(G._isMultiTouch()){G.notify("gesturestart",{})}}},_move:function(D){this._eachTouch("move",D)},_end:function(D){this._eachTouch("end",D)},_eachTouch:function(L,J){var I=this,E={},H=v(J),F=I.touches,M,G,K,D;for(M=0;M<F.length;M++){G=F[M];E[G.id]=G}for(M=0;M<H.length;M++){K=H[M];D=E[K.id];if(D){D[L](K)}}},_apiCall:function(E,D,G,F){this[E]({api:true,pageX:D,pageY:G,target:F||this.element,stopPropagation:g.noop,preventDefault:g.noop})}});r.getTouches=v;r.touchDelta=w;r.UserEvents=d})(window.kendo.jQuery);(function(C,o){var D=window.kendo,H=D.support,h=window.document,a=D.Class,i=D.ui.Widget,g=D.Observable,M=D.UserEvents,O=C.proxy,n=C.extend,p=D.getOffset,q={},T={},d={},y,r=H.mobileOS,l=r&&r.android,v=(l&&r.browser=="chrome"),R="keyup",B="change",J="dragstart",w="drag",F="dragend",b="dragcancel",k="dragenter",u="dragleave",K="drop";function A(U,W){try{return C.contains(U,W)||U==W}catch(V){return false}}function G(U){if(v){return h.elementFromPoint(U.x.screen,U.y.screen)}else{return h.elementFromPoint(U.x.client,U.y.client)}}function z(U,V){return parseInt(U.css(V),10)||0}function N(V,U){return Math.min(Math.max(V,U.min),U.max)}function f(V,W){var Z=V.offset(),U=Z.left+z(V,"borderLeftWidth")+z(V,"paddingLeft"),aa=Z.top+z(V,"borderTopWidth")+z(V,"paddingTop"),Y=U+V.width()-W.outerWidth(true),X=aa+V.height()-W.outerHeight(true);return{x:{min:U,max:Y},y:{min:aa,max:X}}}function t(ab,V,W){var aa,Y,X=0,Z=V&&V.length,U=W&&W.length;while(ab&&ab.parentNode){for(X=0;X<Z;X++){aa=V[X];if(aa.element[0]===ab){return{target:aa,targetElement:ab}}}for(X=0;X<U;X++){Y=W[X];if(H.matchesSelector.call(ab,Y.options.filter)){return{target:Y,targetElement:ab}}}ab=ab.parentNode}return o}var Q=g.extend({init:function(V,U){var W=this,X=V[0];W.capture=false;C.each(D.eventMap.down.split(" "),function(){X.addEventListener(this,O(W._press,W),true)});C.each(D.eventMap.up.split(" "),function(){X.addEventListener(this,O(W._release,W),true)});g.fn.init.call(W);W.bind(["press","release"],U||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(V){var U=this;U.trigger("press");if(U.capture){V.preventDefault()}},_release:function(V){var U=this;U.trigger("release");if(U.capture){V.preventDefault();U.cancelCapture()}}});var x=g.extend({init:function(U){var V=this;g.fn.init.call(V);V.forcedEnabled=false;C.extend(V,U);V.scale=1;V.max=0;if(V.horizontal){V.measure="width";V.scrollSize="scrollWidth";V.axis="x"}else{V.measure="height";V.scrollSize="scrollHeight";V.axis="y"}},outOfBounds:function(U){return U>this.max||U<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(U){this.scale=U},update:function(U){var Y=this,X=Y.getTotal(),W=X*Y.scale,V=Y.getSize();Y.size=V;Y.total=W;Y.min=Math.min(Y.max,Y.size-W);Y.minScale=Y.size/X;Y.enabled=Y.forcedEnabled||(W>V);if(!U){Y.trigger(B,Y)}}});var L=g.extend({init:function(U){var W=this,V=O(W.refresh,W);g.fn.init.call(W);W.x=new x(n({horizontal:true},U));W.y=new x(n({horizontal:false},U));W.forcedMinScale=U.minScale;W.bind(B,U);D.onResize(V)},rescale:function(U){this.x.rescale(U);this.y.rescale(U);this.refresh()},refresh:function(){var U=this;U.x.update();U.y.update();U.enabled=U.x.enabled||U.y.enabled;U.minScale=U.forcedMinScale||Math.max(U.x.minScale,U.y.minScale);U.trigger(B)}});var S=g.extend({init:function(U){var V=this;n(V,U);g.fn.init.call(V)},dragMove:function(Z){var W=this,Y=W.dimension,V=W.axis,X=W.movable,U=X[V]+Z;if(!Y.enabled){return}if((U<Y.min&&Z<0)||(U>Y.max&&Z>0)){Z*=W.resistance}X.translateAxis(V,Z);W.trigger(B,W)}});var E=a.extend({init:function(V){var X=this,U,Z,W,Y;n(X,{elastic:true},V);W=X.elastic?0.5:0;Y=X.movable;X.x=U=new S({axis:"x",dimension:X.dimensions.x,resistance:W,movable:Y});X.y=Z=new S({axis:"y",dimension:X.dimensions.y,resistance:W,movable:Y});X.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(aa){X.gesture=aa},gesturechange:function(ae){var ac=X.gesture,ad=ac.center,aa=ae.center,ab=ae.distance/ac.distance,ag=X.dimensions.minScale,af;if(Y.scale<=ag&&ab<1){ab+=(1-ab)*0.8}af={x:(Y.x-ad.x)*ab+aa.x-Y.x,y:(Y.y-ad.y)*ab+aa.y-Y.y};Y.scaleWith(ab);U.dragMove(af.x);Z.dragMove(af.y);X.dimensions.rescale(Y.scale);X.gesture=ae},move:function(aa){if(U.dimension.enabled||Z.dimension.enabled){U.dragMove(aa.x.delta);Z.dragMove(aa.y.delta);aa.preventDefault()}else{aa.touch.skip()}},end:function(aa){aa.preventDefault()}})}});var I=H.transitions.prefix+"Transform",P=Math.round,e;if(H.hasHW3D){e=function(U,W,V){return"translate3d("+P(U)+"px,"+P(W)+"px,0) scale("+V+")"}}else{e=function(U,W,V){return"translate("+P(U)+"px,"+P(W)+"px) scale("+V+")"}}var s=g.extend({init:function(U){var V=this;g.fn.init.call(V);V.element=C(U);V.element[0].style.webkitTransformOrigin="left top";V.x=0;V.y=0;V.scale=1;V._saveCoordinates(e(V.x,V.y,V.scale))},translateAxis:function(U,V){this[U]+=V;this.refresh()},scaleTo:function(U){this.scale=U;this.refresh()},scaleWith:function(U){this.scale*=U;this.refresh()},translate:function(U){this.x+=U.x;this.y+=U.y;this.refresh()},moveAxis:function(U,V){this[U]=V;this.refresh()},moveTo:function(U){n(this,U);this.refresh()},refresh:function(){var U=this,V=e(U.x,U.y,U.scale);if(V!=U.coordinates){U.element[0].style[I]=V;U._saveCoordinates(V);U.trigger(B)}},_saveCoordinates:function(U){this.coordinates=U}});var j=i.extend({init:function(V,U){var W=this;i.fn.init.call(W,V,U);var X=W.options.group;if(!(X in T)){T[X]=[W]}else{T[X].push(W)}},events:[k,u,K],options:{name:"DropTarget",group:"default"},destroy:function(){var W=this.options.group,V=T[W],U;if(V.length>1){i.fn.destroy.call(this);for(U=0;U<V.length;U++){if(V[U]==this){V.splice(U,1);break}}}else{j.destroyGroup(W)}},_trigger:function(V,X){var W=this,U=q[W.options.group];if(U){return W.trigger(V,n({},X.event,{draggable:U,dropTarget:X.dropTarget}))}},_over:function(U){this._trigger(k,U)},_out:function(U){this._trigger(u,U)},_drop:function(W){var V=this,U=q[V.options.group];if(U){U.dropped=!V._trigger(K,W)}}});j.destroyGroup=function(W){var V=T[W],U;if(V){for(U=0;U<V.length;U++){i.fn.destroy.call(V[U])}V.length=0;delete T[W]}};j._cache=T;var c=j.extend({init:function(V,U){var W=this;i.fn.init.call(W,V,U);var X=W.options.group;if(!(X in d)){d[X]=[W]}else{d[X].push(W)}},options:{name:"DropTargetArea",group:"default",filter:null}});var m=i.extend({init:function(V,U){var W=this;i.fn.init.call(W,V,U);W.userEvents=new M(W.element,{global:true,stopPropagation:true,filter:W.options.filter,threshold:W.options.distance,start:O(W._start,W),move:O(W._drag,W),end:O(W._end,W),cancel:O(W._cancel,W)});W._afterEndHandler=O(W._afterEnd,W);W.captureEscape=function(X){if(X.keyCode===D.keys.ESC){W._trigger(b,{event:X});W.userEvents.cancel()}}},events:[J,w,F,b],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:false},_updateHint:function(Z){var Y=this,aa,W=Y.options,V=Y.boundaries,X=W.axis,U=Y.options.cursorOffset;if(U){aa={left:Z.x.location+U.left,top:Z.y.location+U.top}}else{Y.hintOffset.left+=Z.x.delta;Y.hintOffset.top+=Z.y.delta;aa=C.extend({},Y.hintOffset)}if(V){aa.top=N(aa.top,V.y);aa.left=N(aa.left,V.x)}if(X==="x"){delete aa.top}else{if(X==="y"){delete aa.left}}Y.hint.css(aa)},_start:function(X){var W=this,V=W.options,U=V.container,Z=V.hint;W.currentTarget=X.target;W.currentTargetOffset=p(W.currentTarget);if(Z){W.hint=C.isFunction(Z)?C(Z(W.currentTarget)):Z;var Y=p(W.currentTarget);W.hintOffset=Y;W.hint.css({position:"absolute",zIndex:20000,left:Y.left,top:Y.top}).appendTo(h.body)}q[V.group]=W;W.dropped=false;if(U){W.boundaries=f(U,W.hint)}if(W._trigger(J,X)){W.userEvents.cancel();W._afterEnd()}C(h).on(R,W.captureEscape)},_drag:function(V){var U=this;V.preventDefault();U._withDropTarget(V,function(X,W){if(!X){if(y){y._trigger(u,n(V,{dropTarget:C(y.targetElement)}));y=null}return}if(y){if(W===y.targetElement){return}y._trigger(u,n(V,{dropTarget:C(y.targetElement)}))}X._trigger(k,n(V,{dropTarget:C(W)}));y=n(X,{targetElement:W})});U._trigger(w,V);if(U.hint){U._updateHint(V)}},_end:function(V){var U=this;U._withDropTarget(V,function(X,W){if(X){X._drop(n({},V,{dropTarget:C(W)}));y=null}});U._trigger(F,V);U._cancel(V.event)},_cancel:function(V){var U=this;if(U.hint&&!U.dropped){U.hint.animate(U.currentTargetOffset,"fast",U._afterEndHandler)}else{U._afterEnd()}},_trigger:function(U,W){var V=this;return V.trigger(U,n({},W.event,{x:W.x,y:W.y,currentTarget:V.currentTarget,dropTarget:W.dropTarget}))},_withDropTarget:function(aa,ab){var Y=this,Z,U,X=Y.options,V=T[X.group],W=d[X.group];if(V&&V.length||W&&W.length){Z=G(aa);if(Y.hint&&A(Y.hint[0],Z)){Y.hint.hide();Z=G(aa);if(!Z){Z=G(aa)}Y.hint.show()}U=t(Z,V,W);if(U){ab(U.target,U.targetElement)}else{ab()}}},destroy:function(){var U=this;i.fn.destroy.call(U);U._afterEnd();U.userEvents.destroy()},_afterEnd:function(){var U=this;if(U.hint){U.hint.remove()}delete q[U.options.group];U.trigger("destroy");C(h).off(R,U.captureEscape)}});D.ui.plugin(j);D.ui.plugin(c);D.ui.plugin(m);D.TapCapture=Q;D.containerBoundaries=f;n(D.ui,{Pane:E,PaneDimensions:L,Movable:s})})(window.kendo.jQuery);(function(h,i){var t=window.kendo,c=t.mobile,d=t.fx,s=c.ui,w=h.proxy,z=h.extend,b=s.Widget,x=t.Class,v=t.ui.Movable,A=t.ui.Pane,l=t.ui.PaneDimensions,g=d.Transition,D=d.Animation,r=Math.abs,C=500,u=0.7,B=0.93,n=0.5,a="km-scroller-release",f="km-scroller-refresh",e="pull",o="change",k="resize",p="scroll";var j=D.extend({init:function(E){var F=this;D.fn.init.call(F);z(F,E);F.userEvents.bind("gestureend",w(F.start,F));F.tapCapture.bind("press",w(F.cancel,F))},done:function(){return this.dimensions.minScale-this.movable.scale<0.01},tick:function(){var E=this.movable;E.scaleWith(1.1);this.dimensions.rescale(E.scale)},onEnd:function(){var E=this.movable;E.scaleTo(this.dimensions.minScale);this.dimensions.rescale(E.scale)}});var q=D.extend({init:function(E){var F=this;D.fn.init.call(F);z(F,E,{transition:new g({axis:E.axis,movable:E.movable,onEnd:function(){F._end()}})});F.tapCapture.bind("press",function(){F.cancel()});F.userEvents.bind("end",w(F.start,F));F.userEvents.bind("gestureend",w(F.start,F));F.userEvents.bind("tap",w(F.onEnd,F))},onCancel:function(){this.transition.cancel()},freeze:function(E){var F=this;F.cancel();F._moveTo(E)},onEnd:function(){var E=this;if(E._outOfBounds()){E._snapBack()}else{E._end()}},done:function(){return r(this.velocity)<1},start:function(F){var E=this;if(!E.dimension.enabled){return}if(E._outOfBounds()){E._snapBack()}else{E.velocity=F.touch[E.axis].velocity*16;if(E.velocity){E.tapCapture.captureNext();D.fn.start.call(E)}}},tick:function(){var F=this,H=F.dimension,G=F._outOfBounds()?n:B,I=(F.velocity*=G),E=F.movable[F.axis]+I;if(!F.elastic&&H.outOfBounds(E)){E=Math.max(Math.min(E,H.max),H.min);F.velocity=0}F.movable.moveAxis(F.axis,E)},_end:function(){this.tapCapture.cancelCapture();this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var E=this,G=E.dimension,F=E.movable[E.axis]>G.max?G.max:G.min;E._moveTo(F)},_moveTo:function(E){this.transition.moveTo({location:E,duration:C,ease:g.easeOutExpo})}});var m=x.extend({init:function(F){var H=this,E=F.axis==="x",G=h('<div class="km-touch-scrollbar km-'+(E?"horizontal":"vertical")+'-scrollbar" />');z(H,F,{element:G,elementSize:0,movable:new v(G),scrollMovable:F.movable,size:E?"width":"height"});H.scrollMovable.bind(o,w(H._move,H));H.container.append(G)},_move:function(){var J=this,I=J.axis,L=J.dimension,H=L.size,F=J.scrollMovable,K=H/L.total,E=Math.round(-F[I]*K),G=Math.round(H*K);if(E+G>H){G=H-E}else{if(E<0){G+=E;E=0}}if(J.elementSize!=G){J.element.css(J.size,G+"px");J.elementSize=G}J.movable.moveAxis(I,E)},show:function(){this.element.css({opacity:u,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}});var y=b.extend({init:function(H,M){var I=this;b.fn.init.call(I,H,M);H=I.element;H.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var N=H.children().eq(1),L=new t.TapCapture(H),K=new v(N),E=new l({element:N,container:H,forcedEnabled:I.options.zoom,change:function(){I.trigger(k)}}),J=new t.UserEvents(H,{allowSelection:true,preventDragEvent:true,multiTouch:I.options.zoom,start:function(Q){E.refresh();var P=r(Q.x.velocity),O=r(Q.y.velocity);if(E.x.enabled&&P*2>=O||E.y.enabled&&O*2>=P){J.capture()}else{J.cancel()}}}),G=new A({movable:K,dimensions:E,userEvents:J,elastic:I.options.elastic}),F=new j({movable:K,dimensions:E,userEvents:J,tapCapture:L});K.bind(o,function(){I.scrollTop=-K.y;I.scrollLeft=-K.x;I.trigger(p,{scrollTop:I.scrollTop,scrollLeft:I.scrollLeft})});z(I,{movable:K,dimensions:E,zoomSnapBack:F,userEvents:J,pane:G,tapCapture:L,pulled:false,scrollElement:N,fixedContainer:H.children().first()});I._initAxis("x");I._initAxis("y");E.refresh();if(I.options.pullToRefresh){I._initPullToRefresh()}t.onResize(h.proxy(I.reset,I))},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,elastic:true,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[e,p,k],setOptions:function(E){var F=this;b.fn.setOptions.call(F,E);if(E.pullToRefresh){F._initPullToRefresh()}},reset:function(){this.movable.moveTo({x:0,y:0})},scrollTo:function(E,F){this.movable.moveTo({x:E,y:F})},pullHandled:function(){var E=this;E.refreshHint.removeClass(f);E.hintContainer.html(E.pullTemplate({}));E.yinertia.onEnd();E.xinertia.onEnd()},destroy:function(){b.fn.destroy.call(this);this.userEvents.destroy()},_initPullToRefresh:function(){var E=this;E.dimensions.y.forceEnabled();E.pullTemplate=t.template(E.options.pullTemplate);E.releaseTemplate=t.template(E.options.releaseTemplate);E.refreshTemplate=t.template(E.options.refreshTemplate);E.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-template">'+E.pullTemplate({})+"</span></span>");E.refreshHint=E.scrollElement.children().first();E.hintContainer=E.refreshHint.children(".km-template");E.pane.y.bind("change",w(E._paneChange,E));E.userEvents.bind("end",w(E._dragEnd,E))},_dragEnd:function(){var E=this;if(!E.pulled){return}E.pulled=false;E.refreshHint.removeClass(a).addClass(f);E.hintContainer.html(E.refreshTemplate({}));E.trigger("pull");E.yinertia.freeze(E.options.pullOffset/2)},_paneChange:function(){var E=this;if(E.movable.y/n>E.options.pullOffset){if(!E.pulled){E.pulled=true;E.refreshHint.removeClass(f).addClass(a);E.hintContainer.html(E.releaseTemplate({}))}}else{if(E.pulled){E.pulled=false;E.refreshHint.removeClass(a);E.hintContainer.html(E.pullTemplate({}))}}},_initAxis:function(F){var H=this,K=H.movable,J=H.dimensions[F],I=H.tapCapture,G=new m({axis:F,movable:K,dimension:J,container:H.element}),E=new q({axis:F,movable:K,tapCapture:I,userEvents:H.userEvents,dimension:J,elastic:H.options.elastic,end:function(){G.hide()}});H[F+"inertia"]=E;H.pane[F].bind(o,function(){G.show()})}});s.plugin(y)})(window.kendo.jQuery);(function(e,a){var g=window.kendo,k=g.ui.Widget,h=e.proxy,b=".kendoGroupable",c=g.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:false}),d=function(m){return e('<div class="k-header k-drag-clue" />').css({width:m.width(),paddingLeft:m.css("paddingLeft"),paddingRight:m.css("paddingRight"),lineHeight:m.height()+"px",paddingTop:m.css("paddingTop"),paddingBottom:m.css("paddingBottom")}).html(m.attr(g.attr("title"))||m.attr(g.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},j=e('<div class="k-grouping-dropclue"/>'),l=/(\[|\]|\$|\.|\:|\+)/g;function f(m){return m.position().top+3}var i=k.extend({init:function(p,o){var q=this,t,s=g.guid(),r=h(q._intializePositions,q),m,n=q._dropCuePositions=[];k.fn.init.call(q,p,o);m=q.options.draggable||new g.ui.Draggable(q.element,{filter:q.options.filter,hint:d,group:s});t=q.groupContainer=e(q.options.groupContainer,q.element).kendoDropTarget({group:m.options.group,dragenter:function(u){if(q._canDrag(u.draggable.currentTarget)){u.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");j.css({top:f(t),left:0}).appendTo(t)}},dragleave:function(u){u.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");j.remove()},drop:function(A){var x=A.draggable.currentTarget,z=x.attr(g.attr("field")),B=x.attr(g.attr("title")),y=q.indicator(z),w=q._dropCuePositions,v=w[w.length-1],u;if(!x.hasClass("k-group-indicator")&&!q._canDrag(x)){return}if(v){u=q._dropCuePosition(j.offset().left+parseInt(v.element.css("marginLeft"),10)+parseInt(v.element.css("marginRight"),10));if(u&&q._canDrop(e(y),u.element,u.left)){if(u.before){u.element.before(y||q.buildIndicator(z,B))}else{u.element.after(y||q.buildIndicator(z,B))}q._change()}}else{q.groupContainer.append(q.buildIndicator(z,B));q._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:d,group:m.options.group,dragcancel:h(q._dragCancel,q),dragstart:function(x){var u=x.currentTarget,v=parseInt(u.css("marginLeft"),10),w=u.position().left-v;r();j.css({top:f(t),left:w}).appendTo(t);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){q._dragEnd(this)},drag:h(q._drag,q)}).on("click"+b,".k-button",function(u){u.preventDefault();q._removeIndicator(e(this).parent())}).on("click"+b,".k-link",function(w){var v=e(this).parent(),u=q.buildIndicator(v.attr(g.attr("field")),v.attr(g.attr("title")),v.attr(g.attr("dir"))=="asc"?"desc":"asc");v.before(u).remove();q._change();w.preventDefault()});m.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){q._dragEnd(this)},dragcancel:h(q._dragCancel,q),dragstart:function(x){var u,v,w;if(!q.options.allowDrag&&!q._canDrag(x.currentTarget)){x.preventDefault();return}r();if(n.length){u=n[n.length-1].element;v=parseInt(u.css("marginRight"),10);w=u.position().left+u.outerWidth()+v}else{w=0}},drag:h(q._drag,q)});q.dataSource=q.options.dataSource;if(q.dataSource){q._refreshHandler=h(q.refresh,q);q.dataSource.bind("change",q._refreshHandler)}},refresh:function(){var m=this,n=m.dataSource;m.groupContainer.empty().append(e.map(n.group()||[],function(p){var q=p.field.replace(l,"\\$1");var o=m.element.find(m.options.filter).filter("["+g.attr("field")+"="+q+"]");return m.buildIndicator(p.field,o.attr(g.attr("title")),p.dir)}).join(""));m._invalidateGroupContainer()},destroy:function(){var m=this;k.fn.destroy.call(m);m.groupContainer.off(b).kendoDraggable("destroy");if(m.dataSource&&m._refreshHandler){m.dataSource.unbind("change",m._refreshHandler)}},options:{name:"Groupable",filter:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(n){var m=e(".k-group-indicator",this.groupContainer);return e.grep(m,function(o){return e(o).attr(g.attr("field"))===n})[0]},buildIndicator:function(n,o,m){return c({field:n,dir:m,title:o,ns:g.ns})},descriptors:function(){var o=this,r=e(".k-group-indicator",o.groupContainer),s,q,p,m,n;s=o.element.find(o.options.filter).map(function(){var t=e(this),u=t.attr(g.attr("aggregates")),v=t.attr(g.attr("field"));if(u&&u!==""){q=u.split(",");u=[];for(m=0,n=q.length;m<n;m++){u.push({field:v,aggregate:q[m]})}}return u}).toArray();return e.map(r,function(t){t=e(t);p=t.attr(g.attr("field"));return{field:p,dir:t.attr(g.attr("dir")),aggregates:s||[]}})},_removeIndicator:function(m){var n=this;m.remove();n._invalidateGroupContainer();n._change()},_change:function(){var m=this;if(m.dataSource){m.dataSource.group(m.descriptors())}},_dropCuePosition:function(n){var o=this._dropCuePositions;if(!j.is(":visible")||o.length===0){return}n=Math.ceil(n);var m=o[o.length-1],p=m.right,r=parseInt(m.element.css("marginLeft"),10),q=parseInt(m.element.css("marginRight"),10);if(n>=p){n={left:m.element.position().left+m.element.outerWidth()+q,element:m.element,before:false}}else{n=e.grep(o,function(s){return s.left<=n&&n<=s.right})[0];if(n){n={left:n.element.position().left-r,element:n.element,before:true}}}return n},_drag:function(o){var n=g.touchLocation(o),m=this._dropCuePosition(n.x);if(m){j.css({left:m.left})}},_canDrag:function(m){var n=m.attr(g.attr("field"));return m.attr(g.attr("groupable"))!="false"&&n&&(m.hasClass("k-group-indicator")||!this.indicator(n))},_canDrop:function(o,p,m){var n=o.next();return o[0]!==p[0]&&(!n[0]||p[0]!==n[0]||m>n.position().left)},_dragEnd:function(m){var o=this,p=m.currentTarget.attr(g.attr("field")),n=o.indicator(p);if(m!==o.options.draggable&&!m.dropped&&n){o._removeIndicator(e(n))}o._dragCancel()},_dragCancel:function(){j.remove();this._dropCuePositions=[]},_intializePositions:function(){var m=this,o=e(".k-group-indicator",m.groupContainer),n;m._dropCuePositions=e.map(o,function(p){p=e(p);n=p.offset().left;return{left:parseInt(n,10),right:parseInt(n+p.outerWidth(),10),element:p}})},_invalidateGroupContainer:function(){var m=this.groupContainer;if(m.is(":empty")){m.html(this.options.messages.empty)}}});g.ui.plugin(i)})(window.kendo.jQuery);(function(f,h){var g=window.kendo,d=g.ui.Widget,e="change",a="k-reorderable";function b(j,i){j=f(j);if(i){j.find(".k-drag-status").removeClass("k-add").addClass("k-denied")}else{j.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}}var c=d.extend({init:function(k,j){var l=this,i,m=g.guid()+"-reorderable";d.fn.init.call(l,k,j);k=l.element.addClass(a);j=l.options;l.draggable=i=j.draggable||new g.ui.Draggable(k,{group:m,filter:j.filter,hint:j.hint});l.reorderDropCue=f('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');k.find(i.options.filter).kendoDropTarget({group:i.options.group,dragenter:function(n){if(!l._draggable){return}var p=this.element,o=p[0]===l._draggable[0];b(n.draggable.hint,o);if(!o){l.reorderDropCue.css({height:p.outerHeight(),top:k.offset().top,left:p.offset().left+(p.index()>l._draggable.index()?p.outerWidth():0)}).appendTo(document.body)}},dragleave:function(n){b(n.draggable.hint,true);l.reorderDropCue.remove()},drop:function(){if(!l._draggable){return}var o=l._draggable[0],p=this.element[0],n;if(o!==p){n=k.find(i.options.filter);l.trigger(e,{element:l._draggable,oldIndex:n.index(o),newIndex:n.index(p)})}}});i.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){l.reorderDropCue.remove();l._draggable=null},dragend:function(){l.reorderDropCue.remove();l._draggable=null},dragstart:function(n){l._draggable=n.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[e],destroy:function(){var i=this;d.fn.destroy.call(i);if(i.draggable){i.draggable.destroy()}g.destroy(i.element)}});g.ui.plugin(c)})(window.kendo.jQuery);(function(g,e){var j=window.kendo,l=j.ui,m=l.Widget,k=g.proxy,b=g.isFunction,i=g.extend,d="horizontal",f="vertical",n="start",a="resize",h="resizeend";var c=m.extend({init:function(p,o){var q=this;m.fn.init.call(q,p,o);q.orientation=q.options.orientation.toLowerCase()!=f?d:f;q._positionMouse=q.orientation==d?"x":"y";q._position=q.orientation==d?"left":"top";q._sizingDom=q.orientation==d?"outerWidth":"outerHeight";q.draggable=new l.Draggable(p,{distance:0,filter:o.handle,drag:k(q._resize,q),dragcancel:k(q._cancel,q),dragstart:k(q._start,q),dragend:k(q._stop,q)});q.userEvents=q.draggable.userEvents},events:[a,h,n],options:{name:"Resizable",orientation:d},_max:function(r){var q=this,o=q.hint?q.hint[q._sizingDom]():0,p=q.options.max;return b(p)?p(r):p!==e?(q._initialElementPosition+p)-o:p},_min:function(q){var p=this,o=p.options.min;return b(o)?o(q):o!==e?p._initialElementPosition+o:o},_start:function(q){var p=this,r=p.options.hint,o=g(q.currentTarget);p._initialElementPosition=o.position()[p._position];p._initialMousePosition=q[p._positionMouse].startLocation;if(r){p.hint=b(r)?g(r(o)):r;p.hint.css({position:"absolute"}).css(p._position,p._initialElementPosition).appendTo(p.element)}p.trigger(n,q);p._maxPosition=p._max(q);p._minPosition=p._min(q);g(document.body).css("cursor",o.css("cursor"))},_resize:function(s){var p=this,r=g(s.currentTarget),t=p._maxPosition,u=p._minPosition,q=p._initialElementPosition+(s[p._positionMouse].location-p._initialMousePosition),o;o=u!==e?Math.max(u,q):q;p.position=o=t!==e?Math.min(t,o):o;if(p.hint){p.hint.toggleClass(p.options.invalidClass||"",o==t||o==u).css(p._position,o)}p.resizing=true;p.trigger(a,i(s,{position:o}))},_stop:function(p){var o=this;if(o.hint){o.hint.remove()}o.resizing=false;o.trigger(h,i(p,{position:o.position}));g(document.body).css("cursor","")},_cancel:function(p){var o=this;if(o.hint){o.position=e;o.hint.css(o._position,o._initialElementPosition);o._stop(p)}},destroy:function(){var o=this;m.fn.destroy.call(o);if(o.draggable){o.draggable.destroy()}},press:function(q){if(!q){return}var o=q.position(),p=this;p.userEvents.press(o.left,o.top,q[0]);p.targetPosition=o;p.target=q},move:function(s){var q=this,p=q._position,o=q.targetPosition,r=q.position;if(r===e){r=o[p]}o[p]=r+s;q.userEvents.move(o.left,o.top)},end:function(){this.userEvents.end();this.target=this.position=e}});j.ui.plugin(c)})(window.kendo.jQuery);(function(f,c){var i=window.kendo,j=f.proxy,n="data-dir",e="asc",m="single",h="data-field",g="desc",b=".kendoSortable",d=".k-link",l="aria-sort",k=i.ui.Widget;var a=k.extend({init:function(p,o){var r=this,q;k.fn.init.call(r,p,o);r._refreshHandler=j(r.refresh,r);r.dataSource=r.options.dataSource.bind("change",r._refreshHandler);q=r.element.find(d);if(!q[0]){q=r.element.wrapInner('<a class="k-link" href="#"/>').find(d)}r.link=q;r.element.on("click"+b,j(r._click,r))},options:{name:"Sortable",mode:m,allowUnsort:true},destroy:function(){var o=this;k.fn.destroy.call(o);o.element.off(b);o.dataSource.unbind("change",o._refreshHandler)},refresh:function(){var t=this,r=t.dataSource.sort()||[],o,s,v,p,q=t.element,u=q.attr(h);q.removeAttr(n);q.removeAttr(l);for(o=0,s=r.length;o<s;o++){v=r[o];if(u==v.field){q.attr(n,v.dir)}}p=q.attr(n);q.find(".k-i-arrow-n,.k-i-arrow-s").remove();if(p===e){f('<span class="k-icon k-i-arrow-n" />').appendTo(t.link);q.attr(l,"ascending")}else{if(p===g){f('<span class="k-icon k-i-arrow-s" />').appendTo(t.link);q.attr(l,"descending")}}},_click:function(t){var s=this,q=s.element,u=q.attr(h),p=q.attr(n),w=s.options,r=s.dataSource.sort()||[],v,o;if(p===e){p=g}else{if(p===g&&w.allowUnsort){p=c}else{p=e}}if(w.mode===m){r=[{field:u,dir:p}]}else{if(w.mode==="multiple"){for(v=0,o=r.length;v<o;v++){if(r[v].field===u){r.splice(v,1);break}}r.push({field:u,dir:p})}}t.preventDefault();s.dataSource.sort(r)}});i.ui.plugin(a)})(window.kendo.jQuery);(function(c,f){var o=window.kendo,h=o.support.touch,b=o.ui.Widget,q=c.proxy,g=h?"touchend":"mouseup",j=h?"touchstart":"mousedown",p=h?"touchmove":"mousemove",e="k-state-selected",i="k-state-selecting",n="k-selectable",a="selectstart",d=c(document),l="change",r=".kendoSelectable",k="k-state-unselecting",m=false;(function(t){(function(){t('<div class="parent"><span /></div>').on("click",">*",function(){m=true}).find("span").click()})()})(c);var s=b.extend({init:function(u,t){var v=this;b.fn.init.call(v,u,t);v._marquee=c("<div class='k-marquee'></div>");v._lastActive=null;v._moveDelegate=q(v._move,v);v._upDelegate=q(v._up,v);v.element.addClass(n);v.element.on(j+r,(!m?"."+n+" ":"")+v.options.filter,q(v._down,v))},events:[l],options:{name:"Selectable",filter:">*",multiple:false},_collide:function(u,w){var v=u.offset(),t={left:v.left,top:v.top,right:v.left+u.outerWidth(),bottom:v.top+u.outerHeight()};return(!(t.left>w.right||t.right<w.left||t.top>w.bottom||t.bottom<w.top))},_position:function(w){var z=this._originalPosition,y=z.x,x=z.y,v=w.pageX,t=w.pageY,u;if(y>v){u=v;v=y;y=u}if(x>t){u=t;t=x;x=u}return{top:x,right:v,left:y,bottom:t}},_down:function(w){var v=this,u,x=w.ctrlKey,t=w.shiftKey,y=!v.options.multiple;v._downTarget=c(w.currentTarget);v._shiftPressed=t;if(v._downTarget.closest("."+n)[0]!==v.element[0]){return}d.unbind(g,v._upDelegate).bind(g,v._upDelegate);v._originalPosition={x:w.pageX,y:w.pageY};if(!y&&c(w.target).is(":not(:input, a)")){d.unbind(p,v._moveDelegate).bind(p,v._moveDelegate).unbind(a,false).bind(a,false);if(!o.support.touch){w.preventDefault()}}if(!y){c("body").append(v._marquee);v._marquee.css({left:w.clientX+1,top:w.clientY+1,width:0,height:0})}u=v._downTarget.hasClass(e);if(y||!(x||t)){v.element.find(v.options.filter+"."+e).not(v._downTarget).removeClass(e)}if(x){v._lastActive=v._downTarget}if(u&&(x||t)){v._downTarget.addClass(e);if(!t){v._downTarget.addClass(k)}}else{if(!(o.support.touch&&y)){v._downTarget.addClass(i);if(y&&v._downTarget.hasClass(e)){v._downTarget.removeClass(i)}}}},_move:function(v){var u=this,y=u._position(v),x=v.ctrlKey,t,w;u._marquee.css({left:y.left,top:y.top,width:y.right-y.left,height:y.bottom-y.top});u.element.find(u.options.filter).each(function(){t=c(this);w=u._collide(t,y);if(w){if(t.hasClass(e)){if(u._downTarget[0]!==t[0]&&x){t.removeClass(e).addClass(k)}}else{if(!t.hasClass(i)&&!t.hasClass(k)){t.addClass(i)}}}else{if(t.hasClass(i)){t.removeClass(i)}else{if(x&&t.hasClass(k)){t.removeClass(k).addClass(e)}}}})},_up:function(v){var u=this,t=u.options,w=!t.multiple;d.unbind(a,false).unbind(p,u._moveDelegate).unbind(g,u._upDelegate);if(!w){u._marquee.remove()}if(o.support.touch&&w){u._downTarget.addClass(i)}if(!w&&u._shiftPressed===true){u.selectRange(u._firstSelectee(),u._downTarget)}else{u.element.find(t.filter+"."+k).removeClass(k).removeClass(e);u.value(u.element.find(t.filter+"."+i))}if(!u._shiftPressed){u._lastActive=u._downTarget}u._downTarget=null;u._shiftPressed=false},value:function(v){var u=this,t=q(u._selectElement,u);if(v){v.each(function(){t(this)});u.trigger(l,{});return}return u.element.find(u.options.filter+"."+e)},_firstSelectee:function(){var u=this,t;if(u._lastActive!==null){return u._lastActive}t=u.value();return t.length>0?t[0]:u.element.find(u.options.filter)},_selectElement:function(v){var u=c(v),t=this.trigger("select",{element:v});u.removeClass(i);if(!t){u.addClass(e);if(this.options.aria){u.attr("aria-selected",true)}}},clear:function(){var t=this;t.element.find(t.options.filter+"."+e).removeClass(e);if(t.options.aria){t.element.children("[aria-selected=true]").attr("aria-selected",false)}},selectRange:function(y,t){var w=this,x=false,u=q(w._selectElement,w),v;y=c(y)[0];t=c(t)[0];w.element.find(w.options.filter).each(function(){v=c(this);if(x){u(this);x=this!==t}else{if(this===y){x=y!==t;u(this)}else{if(this===t){var z=y;y=t;t=z;x=true;u(this)}else{v.removeClass(e)}}}});w.trigger(l,{})},destroy:function(){var t=this;b.fn.destroy.call(t);t.element.off(r)}});o.ui.plugin(s)})(window.kendo.jQuery);(function(d,f){var l=window.kendo,k=l.ui,b=k.Widget,q=d.proxy,u=".k-i-seek-w",p=".k-i-seek-e",w=".k-i-arrow-w",x=".k-i-arrow-e",j="change",r=".kendoPager",e="click",c="keydown",s="disabled",v=l.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>');function a(A,y,B,z){return A({idx:y,text:B,ns:l.ns,numeric:z})}function t(y,z){return v({className:y.substring(1),text:z})}function h(z,y,B,A){z.find(y).parent().attr(l.attr("page"),B).attr("tabindex",-1).toggleClass("k-state-disabled",A)}function g(y,A,z){h(y,u,1,A<=1)}function m(y,A,z){h(y,w,Math.max(1,A-1),A<=1)}function n(y,A,z){h(y,x,Math.min(z,A+1),A>=z)}function i(y,A,z){h(y,p,z,A>=z)}var o=b.extend({init:function(z,y){var B=this,C,A;b.fn.init.call(B,z,y);y=B.options;B.dataSource=l.data.DataSource.create(y.dataSource);B.linkTemplate=l.template(B.options.linkTemplate);B.selectTemplate=l.template(B.options.selectTemplate);C=B.page();A=B.totalPages();B._refreshHandler=q(B.refresh,B);B.dataSource.bind(j,B._refreshHandler);if(y.previousNext){if(!B.element.find(u).length){B.element.append(t(u,y.messages.first));g(B.element,C,A)}if(!B.element.find(w).length){B.element.append(t(w,y.messages.previous));m(B.element,C,A)}}if(y.numeric){B.list=B.element.find(".k-pager-numbers");if(!B.list.length){B.list=d('<ul class="k-pager-numbers k-reset" />').appendTo(B.element)}}if(y.input){if(!B.element.find(".k-pager-input").length){B.element.append('<span class="k-pager-input k-label">'+y.messages.page+'<input class="k-textbox">'+l.format(y.messages.of,A)+"</span>")}B.element.on(c+r,".k-pager-input input",q(B._keydown,B))}if(y.previousNext){if(!B.element.find(x).length){B.element.append(t(x,y.messages.next));n(B.element,C,A)}if(!B.element.find(p).length){B.element.append(t(p,y.messages.last));i(B.element,C,A)}}if(y.pageSizes){if(!B.element.find(".k-pager-sizes").length){d('<span class="k-pager-sizes k-label"><select/>'+y.messages.itemsPerPage+"</span>").appendTo(B.element).find("select").html(d.map(d.isArray(y.pageSizes)?y.pageSizes:[5,10,20],function(D){return"<option>"+D+"</option>"}).join("")).end().appendTo(B.element)}B.element.find(".k-pager-sizes select").val(B.pageSize());if(l.ui.DropDownList){B.element.find(".k-pager-sizes select").show().kendoDropDownList()}B.element.on(j+r,".k-pager-sizes select",q(B._change,B))}if(y.refresh){if(!B.element.find(".k-pager-refresh").length){B.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+y.messages.refresh+'"><span class="k-icon k-i-refresh">'+y.messages.refresh+"</span></a>")}B.element.on("touchend"+r+" "+e+r,".k-pager-refresh",q(B._refreshClick,B))}if(y.info){if(!B.element.find(".k-pager-info").length){B.element.append('<span class="k-pager-info k-label" />')}}B.element.on("touchend"+r+" "+e+r,"a",q(B._click,B)).addClass("k-pager-wrap k-widget");if(y.autoBind){B.refresh()}l.notify(B)},destroy:function(){var y=this;b.fn.destroy.call(y);y.element.off(r);y.dataSource.unbind(j,y._refreshHandler)},events:[j],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(z){var y=this;y.dataSource.unbind(j,y._refreshHandler);y.dataSource=y.options.dataSource=z;z.bind(j,y._refreshHandler);if(y.options.autoBind){z.fetch()}},refresh:function(){var F=this,J,B,z=1,C="",D,G=F.page(),K=F.options,H=F.pageSize(),I=F.dataSource.total(),E=F.totalPages(),y=F.linkTemplate,A=K.buttonCount;if(K.numeric){if(G>A){D=(G%A);z=(D===0)?(G-A)+1:(G-D)+1}B=Math.min((z+A)-1,E);if(z>1){C+=a(y,z-1,"...",false)}for(J=z;J<=B;J++){C+=a(J==G?F.selectTemplate:y,J,J,true)}if(B<E){C+=a(y,J,"...",false)}if(C===""){C=F.selectTemplate({text:0})}F.list.html(C)}if(K.info){if(I>0){C=l.format(K.messages.display,(G-1)*H+1,Math.min(G*H,I),I)}else{C=K.messages.empty}F.element.find(".k-pager-info").html(C)}if(K.input){F.element.find(".k-pager-input").html(F.options.messages.page+'<input class="k-textbox">'+l.format(K.messages.of,E)).find("input").val(G).attr(s,I<1).toggleClass("k-state-disabled",I<1)}if(K.previousNext){g(F.element,G,E);m(F.element,G,E);n(F.element,G,E);i(F.element,G,E)}if(K.pageSizes){F.element.find(".k-pager-sizes select").val(H)}},_keydown:function(A){if(A.keyCode===l.keys.ENTER){var y=this.element.find(".k-pager-input").find("input"),z=parseInt(y.val(),10);if(isNaN(z)||z<1||z>this.totalPages()){z=this.page()}y.val(z);this.page(z)}},_refreshClick:function(y){y.preventDefault();this.dataSource.read()},_change:function(z){var y=parseInt(z.currentTarget.value,10);if(!isNaN(y)){this.dataSource.pageSize(y)}},_click:function(z){var y=d(z.currentTarget);z.preventDefault();if(!y.is(".k-state-disabled")){this.page(y.attr(l.attr("page")))}},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(y){if(y!==f){this.dataSource.page(y);this.trigger(j,{index:y})}else{if(this.dataSource.total()>0){return this.dataSource.page()}else{return 0}}}});k.plugin(o)})(window.kendo.jQuery);(function(u,g){var v=window.kendo,C=v.ui,c=C.Widget,E=v.support,h=v.getOffset,a=v.support.browser,H=a.msie&&a.version<9,I="open",K="close",F="deactivate",f="activate",q="center",o="left",M="right",x="top",r="bottom",A="absolute",J="hidden",G="body",j="location",D="position",O="visible",w="fitted",l="effects",m="k-state-active",p="k-state-border",d=".k-picker-wrap, .k-dropdown-wrap, .k-link",B="down",b=u(document),k=u(window),N=u(document.documentElement),n="resize scroll",z=E.transitions.css,L=z+"transform",e=u.extend,y=".kendoPopup",t=["font-family","font-size","font-stretch","font-style","font-weight","line-height"];function s(P,Q){return P===Q||u.contains(P,Q)}var i=c.extend({init:function(R,Q){var S=this,P;Q=Q||{};if(Q.isRtl){Q.origin=Q.origin||r+" "+M;Q.position=Q.position||x+" "+M}c.fn.init.call(S,R,Q);R=S.element;Q=S.options;S.collisions=Q.collision?Q.collision.split(" "):[];if(S.collisions.length===1){S.collisions.push(S.collisions[0])}P=u(S.options.anchor).closest(".k-popup,.k-group");Q.appendTo=u(u(Q.appendTo)[0]||P[0]||G);S.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!Q.isRtl).css({position:A}).appendTo(Q.appendTo).on("mouseenter"+y,function(){S._hovered=true}).on("mouseleave"+y,function(){S._hovered=false});S.wrapper=u();if(Q.animation===false){Q.animation={open:{effects:{}},close:{hide:true,effects:{}}}}e(Q.animation.open,{complete:function(){S.wrapper.css({overflow:O});S.trigger(f)}});e(Q.animation.close,{complete:function(){S.wrapper.hide();var T=S.wrapper.data(j),U=u(Q.anchor),W,V;if(T){S.wrapper.css(T)}if(Q.anchor!=G){W=U.hasClass(p+"-down")?"down":"up";V=p+"-"+W;U.removeClass(V).children(d).removeClass(m).removeClass(V);R.removeClass(p+"-"+v.directions[W].reverse)}S._closing=false;S.trigger(F)}});S._mousedownProxy=function(T){S._mousedown(T)};S._currentWidth=b.width();S._resizeProxy=function(T){S._resize(T)};if(Q.toggleTarget){u(Q.toggleTarget).on(Q.toggleEvent+y,u.proxy(S.toggle,S))}},events:[I,f,K,F],options:{name:"Popup",toggleEvent:"click",origin:r+" "+o,position:x+" "+o,anchor:G,collision:"flip fit",viewport:window,animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},destroy:function(){var S=this,P=S.options,Q=S.element.off(y),R;c.fn.destroy.call(S);if(P.toggleTarget){u(P.toggleTarget).off(y)}N.unbind(B,S._mousedownProxy);k.unbind(n,S._resizeProxy);if(P.appendTo[0]===document.body){R=Q.parent(".k-animation-container");if(R[0]){R.remove()}else{Q.remove()}}v.destroy(S.element.children())},open:function(Y,W){var V=this,S={isFixed:!isNaN(parseInt(W,10)),x:Y,y:W},U=V.element,Z=V.options,X="down",R,P,T=u(Z.anchor);if(!V.visible()){U.css(v.getComputedStyles(T[0],t));if(U.data("animating")||V.trigger(I)){return}N.unbind(B,V._mousedownProxy).bind(B,V._mousedownProxy);if(!E.mobileOS.ios){k.unbind(n,V._resizeProxy).bind(n,V._resizeProxy)}V.wrapper=P=v.wrap(U).css({overflow:J,display:"block",position:A});if(E.mobileOS.android){P.add(T).css(L,"translatez(0)")}P.css(D);if(u(Z.appendTo)[0]==document.body){P.css(x,"-10000px")}R=e(true,{},Z.animation.open);V.flipped=V._position(S);R.effects=v.parseEffects(R.effects,V.flipped);X=R.effects.slideIn?R.effects.slideIn.direction:X;if(Z.anchor!=G){var Q=p+"-"+X;U.addClass(p+"-"+v.directions[X].reverse);T.addClass(Q).children(d).addClass(m).addClass(Q)}U.data(l,R.effects).kendoStop(true).kendoAnimate(R)}},toggle:function(){var P=this;P[P.visible()?K:I]()},visible:function(){return this.element.is(":"+O)},close:function(){var R=this,Q=R.options,T,P,S;if(R.visible()){if(R._closing||R.trigger(K)){return}R.element.find(".k-popup").each(function(){var V=u(this),U=V.data("kendoPopup");if(U){U.close()}});N.unbind(B,R._mousedownProxy);k.unbind(n,R._resizeProxy);T=e(true,{},Q.animation.close);P=R.element.data(l);S=T.effects;R.wrapper=v.wrap(R.element).css({overflow:J});if(!S&&!v.size(S)&&P&&v.size(P)){T.effects=P;T.reverse=true}R._closing=true;R.element.kendoStop(true).kendoAnimate(T)}},_resize:function(R){var Q=this;if(H){var P=b.width();if(P==Q._currentWidth){return}Q._currentWidth=P}if(!Q._hovered){Q.close()}},_mousedown:function(W){var U=this,R=U.element[0],T=U.options,S=u(T.anchor)[0],Q=T.toggleTarget,V=v.eventTarget(W),P=u(V).closest(".k-popup")[0];if(P&&P!==U.element[0]){return}if(!s(R,V)&&!s(S,V)&&!(Q&&s(u(Q)[0],V))){U.close()}},_fit:function(P,S,Q){var R=0;if(P+S>Q){R=Q-(P+S)}if(P<0){R=-P}return R},_flip:function(V,U,R,Q,T,P,W){var S=0;W=W||U;if(P!==T&&P!==q&&T!==q){if(V+W>Q){S+=-(R+U)}if(V+S<0){S+=R+U}}return S},_position:function(W){var ac=this,S=ac.element.css(D,""),Z=ac.wrapper,U=ac.options,aj=u(U.viewport),ai=u(aj).offset(),ab=u(U.anchor),Q=U.origin.toLowerCase().split(" "),ad=U.position.toLowerCase().split(" "),V=ac.collisions,af=E.zoomLevel(),ae=10002;var R=ab.parents().filter(Z.siblings());if(R[0]){var T=Number(u(R).css("zIndex"));if(T){ae=T+1}}Z.css("zIndex",ae);if(W&&W.isFixed){Z.css({left:W.x,top:W.y})}else{Z.css(ac._align(Q,ad))}var aa=h(Z,D),Y=h(Z),ah=ab.offsetParent().parent(".k-animation-container");if(ah.length&&ah.data(w)){aa=h(Z,D);Y=h(Z)}if(aj[0]===window){Y.top-=(window.pageYOffset||document.documentElement.scrollTop||0);Y.left-=(window.pageXOffset||document.documentElement.scrollLeft||0)}else{Y.top-=ai.top;Y.left-=ai.left}if(!ac.wrapper.data(j)){Z.data(j,e({},aa))}var X=e({},Y),P=e({},aa);if(V[0]==="fit"){P.top+=ac._fit(X.top,Z.outerHeight(),aj.height()/af)}if(V[1]==="fit"){P.left+=ac._fit(X.left,Z.outerWidth(),aj.width()/af)}if(P.left!=aa.left||P.top!=aa.top){Z.data(w,true)}else{Z.removeData(w)}var ag=e({},P);if(V[0]==="flip"){P.top+=ac._flip(X.top,S.outerHeight(),ab.outerHeight(),aj.height()/af,Q[0],ad[0],Z.outerHeight())}if(V[1]==="flip"){P.left+=ac._flip(X.left,S.outerWidth(),ab.outerWidth(),aj.width()/af,Q[1],ad[1],Z.outerWidth())}S.css(D,A);Z.css(P);return(P.left!=ag.left||P.top!=ag.top)},_align:function(ag,ah){var V=this,R=V.wrapper,U=u(V.options.anchor),W=ag[0],af=ag[1],Z=ah[0],Q=ah[1],aa=h(U),T=u(V.options.appendTo),ac,ab=R.outerWidth(),Y=R.outerHeight(),P=U.outerWidth(),ae=U.outerHeight(),X=aa.top,S=aa.left,ad=Math.round;if(T[0]!=document.body){ac=h(T);X-=ac.top;S-=ac.left}if(W===r){X+=ae}if(W===q){X+=ad(ae/2)}if(Z===r){X-=Y}if(Z===q){X-=ad(Y/2)}if(af===M){S+=P}if(af===q){S+=ad(P/2)}if(Q===M){S-=ab}if(Q===q){S-=ad(ab/2)}return{top:X,left:S}}});C.plugin(i)})(window.kendo.jQuery);(function(i,k){var u=window.kendo,t=u.ui,c=t.Widget,r=u.keys,a=u.htmlEncode,m="id",l="li",p="change",g="character",o="k-state-focused",q="k-state-hover",w="k-loading",y="open",e="close",d="select",j="selected",B="requestStart",n="requestEnd",h="width",x=i.extend,v=i.proxy,A=u.support.browser,s=A.msie&&parseInt(A.version,10)<9,f=/"/g;var b=c.extend({init:function(D,C){var F=this,E=F.ns,G;c.fn.init.call(F,D,C);D=F.element;F._template();F.ul=i('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:u.support.kineticScrollNeeded?"":"auto"}).on("mouseenter"+E,l,function(){i(this).addClass(q)}).on("mouseleave"+E,l,function(){i(this).removeClass(q)}).on("touchend"+E+" click"+E,l,v(F._click,F)).attr({tabIndex:-1,role:"listbox","aria-hidden":true});F.list=i("<div class='k-list-container'/>").append(F.ul).on("mousedown"+E,function(H){H.preventDefault()});G=D.attr(m);if(G){F.list.attr(m,G+"-list");F.ul.attr(m,G+"_listbox");F._optionID=G+"_option_selected"}},items:function(){return this.ul[0].children},current:function(C){var D=this,E=D._optionID;if(C!==k){if(D._current){D._current.removeClass(o).removeAttr("aria-selected").removeAttr(m);D._focused.removeAttr("aria-activedescendant")}if(C){C.addClass(o);D._scroll(C);if(E){C.attr("id",E);D._focused.attr("aria-activedescendant",E)}}D._current=C}else{return D._current}},destroy:function(){var D=this,C=D.ns;c.fn.destroy.call(D);D._unbindDataSource();D.ul.off(C);D.list.off(C);D.popup.destroy();if(D._form){D._form.off("reset",D._resetHandler)}},dataItem:function(C){var D=this;if(C===k){C=D.selectedIndex}return D._data()[C]},_accessors:function(){var H=this,G=H.element,F=H.options,C=u.getter,D=G.attr(u.attr("text-field")),E=G.attr(u.attr("value-field"));if(D){F.dataTextField=D}if(E){F.dataValueField=E}H._text=C(F.dataTextField);H._value=C(F.dataValueField)},_aria:function(){var E=this,C=E.options,D=E._focused;if(C.suggest!==k){D.attr("aria-autocomplete",C.suggest?"both":"list")}if(E.element[0].id){D.attr("aria-owns",E.ul[0].id)}E.ul.attr("aria-live",!C.filter||C.filter==="none"?"off":"polite")},_blur:function(){var C=this;C._change();C.close()},_change:function(){var E=this,D=E.selectedIndex,F=E.value(),C;if(F!==E._old){C=true}else{if(D!==k&&D!==E._oldIndex){C=true}}if(C){E._old=F;E._oldIndex=D;E.trigger(p);E.element.trigger(p)}},_click:function(C){if(!C.isDefaultPrevented()){this._accept(i(C.currentTarget));if(C.type==="touchend"){C.preventDefault()}}},_data:function(){return this.dataSource.view()},_enable:function(){var D=this,C=D.options;if(D.element.prop("disabled")){C.enable=false}D.enable(C.enable)},_focus:function(C){var D=this;if(D.popup.visible()&&C&&D.trigger(d,{item:C})){D.close();return}D._select(C);D._blur()},_height:function(E){if(E){var D=this,F=D.list,G=D.popup.visible(),C=D.options.height;F=F.add(F.parent(".k-animation-container")).show().height(D.ul[0].scrollHeight>C?C:"auto");if(!G){F.hide()}}},_adjustListWidth:function(){var F=this.list,E=F[0].style.width,G=this.wrapper,D,C;if(!F.data(h)&&E){return}D=window.getComputedStyle?window.getComputedStyle(G[0],null):0;C=D?parseFloat(D.width):G.outerWidth();if(D&&(A.mozilla||A.msie)){C+=parseFloat(D.paddingLeft)+parseFloat(D.paddingRight)+parseFloat(D.borderLeftWidth)+parseFloat(D.borderRightWidth)}E=C-(F.outerWidth()-F.width());F.css({fontFamily:G.css("font-family"),width:E}).data(h,E);return true},_popup:function(){var D=this,E=D.list,F=D._focused,C=D.options,G=D.wrapper;D.popup=new t.Popup(E,x({},C.popup,{anchor:G,open:function(H){D._adjustListWidth();if(D.trigger(y)){H.preventDefault()}else{F.attr("aria-expanded",true);D.ul.attr("aria-hidden",false)}},close:function(H){if(D.trigger(e)){H.preventDefault()}else{F.attr("aria-expanded",false);D.ul.attr("aria-hidden",true)}},animation:C.animation,isRtl:u.support.isRtl(G)}));D._touchScroller=u.touchScroller(D.popup.element)},_makeUnselectable:function(C){if(s){this.list.find("*").attr("unselectable","on")}},_toggleHover:function(C){i(C.currentTarget).toggleClass(q,C.type==="mouseenter")},_toggle:function(C){var D=this;C=C!==k?C:!D.popup.visible();if(!u.support.mobileOS&&D._focused[0]!==document.activeElement){D._focused.focus()}D[C?y:e]()},_scroll:function(H){if(!H){return}if(H[0]){H=H[0]}var F=this.ul[0],I=H.offsetTop,E=H.offsetHeight,D=F.scrollTop,C=F.clientHeight,G=I+E;F.scrollTop=D>I?I:G>(D+C)?G-C:D},_template:function(){var F=this,D=F.options,E=D.template,C=D.dataSource;if(F.element.is(d)&&F.element[0].length){if(!C){D.dataTextField=D.dataTextField||"text";D.dataValueField=D.dataValueField||"value"}}if(!E){F.template=u.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${data'+(D.dataTextField?".":"")+D.dataTextField+"}</li>",{useWithBlock:false})}else{E=u.template(E);F.template=function(G){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+E(G)+"</li>"}}},_unbindDataSource:function(){var C=this;C.dataSource.unbind(p,C._refreshHandler).unbind(B,C._requestStartHandler).unbind(n,C._requestEndHandler)}});x(b,{caret:function(C){var E,D=C.ownerDocument.selection;if(D){E=Math.abs(D.createRange().moveStart(g,-C.value.length))}else{E=C.selectionStart}return E},selectText:function(C,E,G){try{if(C.createTextRange){C.focus();var D=C.createTextRange();D.collapse(true);D.moveStart(g,E);D.moveEnd(g,G-E);D.select()}else{C.setSelectionRange(E,G)}}catch(F){}},inArray:function(F,D){var C,E,G=D.children;if(!F||F.parentNode!==D){return -1}for(C=0,E=G.length;C<E;C++){if(F===G[C]){return C}}return -1}});u.ui.List=b;t.Select=b.extend({init:function(D,C){b.fn.init.call(this,D,C)},setDataSource:function(C){this.options.dataSource=C;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},close:function(){this.popup.close()},_accessor:function(G,D){var E=this.element,H=E.is(d),F,C;E=E[0];if(G===k){if(H){C=E.selectedIndex;if(C>-1){F=E.options[C];if(F){G=F.value}}}else{G=E.value}return G}else{if(H){E.selectedIndex=D}else{E.value=G}}},_hideBusy:function(){var C=this;clearTimeout(C._busy);C._arrow.removeClass(w);C._focused.attr("aria-busy",false);C._busy=null},_showBusy:function(){var C=this;C._request=true;if(C._busy){return}C._busy=setTimeout(function(){C._focused.attr("aria-busy",true);C._arrow.addClass(w)},100)},_requestEnd:function(){this._request=false},_dataSource:function(){var F=this,E=F.element,D=F.options,G=D.dataSource||{},C;G=i.isArray(G)?{data:G}:G;if(E.is(d)){C=E[0].selectedIndex;if(C>-1){D.index=C}G.select=E;G.fields=[{field:D.dataTextField},{field:D.dataValueField}]}if(F.dataSource&&F._refreshHandler){F._unbindDataSource()}else{F._refreshHandler=v(F.refresh,F);F._requestStartHandler=v(F._showBusy,F);F._requestEndHandler=v(F._requestEnd,F)}F.dataSource=u.data.DataSource.create(G).bind(p,F._refreshHandler).bind(B,F._requestStartHandler).bind(n,F._requestEndHandler)},_index:function(H){var F=this,C,E,G=F._data(),D;for(C=0,E=G.length;C<E;C++){D=F._value(G[C]);if(D===k){D=F._text(G[C])}if(D==H){return C}}return -1},_get:function(D){var F=this,G=F._data(),C,E;if(typeof D==="function"){for(C=0,E=G.length;C<E;C++){if(D(G[C])){D=C;break}}}if(typeof D==="number"){if(D<0){return i()}D=i(F.ul[0].children[D])}if(D&&D.nodeType){D=i(D)}return D},_move:function(H){var E=this,D=H.keyCode,C=E.ul[0],G=E._current,I=D===r.DOWN,F;if(D===r.UP||I){if(H.altKey){E.toggle(I)}else{if(I){if(!G||(E.selectedIndex===-1&&!E.value())){G=C.firstChild}else{G=G[0].nextSibling}E._select(G)}else{E._select(G?G[0].previousSibling:C.lastChild)}}H.preventDefault();F=true}else{if(D===r.ENTER||D===r.TAB){if(E.popup.visible()){H.preventDefault()}E._accept(G);F=true}else{if(D===r.ESC){if(E.popup.visible()){H.preventDefault()}E.close();F=true}}}return F},_selectItem:function(E){var D=this,C=D.options;E=E||C.value||D.value();if(E){D.value(E)}else{D.select(C.index)}D.trigger(j)},_valueOnFetch:function(D){var C=this;if(!C.ul[0].firstChild&&!C._fetch){C.dataSource.one(p,function(){C._fetch=true;C.value(D);C.trigger(j)});if(!C._request){C.dataSource.fetch()}return true}C._fetch=false},_options:function(G,K){var J=this,H=J.element,F=H[0].selectedIndex,E=G.length,N="",I,D,M,C,L=0;if(K){N=K;L=1}for(;L<E;L++){I="<option";D=G[L];M=J._text(D);C=J._value(D);if(C!==k){C+="";if(C.indexOf('"')!==-1){C=C.replace(f,"&quot;")}I+=' value="'+C+'"'}I+=">";if(M!==k){I+=a(M)}I+="</option>";N+=I}H.html(N);H[0].selectedIndex=F},_reset:function(){var E=this,C=E.element,D=C.closest("form");if(D[0]){E._resetHandler=function(){setTimeout(function(){E.value(C[0].value)})};E._form=D.on("reset",E._resetHandler)}},_cascade:function(){var H=this,F=H.options,D=F.cascadeFrom,G,C,E,I,J;if(D){G=i("#"+D).data("kendo"+F.name);if(!G){return}E=G.options.dataValueField;I=function(){H.value("");H.enable(false)};J=function(){var K=H.value();if(K){if(H.dataSource.view()[0]){H.value(K);if(H.selectedIndex==-1){H.value("")}}else{H.value("");if(H.value()){H.element.val("");H.text("")}}}else{H.select(F.index)}H.trigger(j);H.enable()};C=function(){var K=G.dataItem(),N=K?G._value(K):null,M,L;if(N){M=H.dataSource.filter()||{};z(M,E);L=M.filters||[];L.push({field:E,operator:"eq",value:N});H.dataSource.one(p,J).filter(L)}else{I()}};G.bind("cascade",I).bind(p,function(){C();H.trigger("cascade")}).bind(j,function(){C()});if(G._valueCalled!==k){C()}else{if(!G.value()){H.enable(false)}}}}});function z(D,C){if(D.filters){D.filters=i.grep(D.filters,function(E){z(E,C);if(E.filters){return E.filters.length}else{return E.field!=C}})}}t.Select.removeFiltersForField=z})(window.kendo.jQuery);(function(S,t){var U=window.kendo,aa=U.ui,g=aa.Widget,z=U.parseDate,Z=U._adjustDate,N=U.keys,p=U._extractFormat,i=U.template,x=U.getCulture,l=U.support.transitions,ao=l?l.css+"transform-origin":"",K=i('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),O=i('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),e=U.support.browser,an=e.msie&&(parseInt(e.version,10)<9||(document.documentMode&&document.documentMode<9)),ak=".kendoCalendar",ad="touchend"+ak+" click"+ak,ac="keydown"+ak,H="id",F="min",I="left",f="slideIn",n="month",y="century",R="change",m="navigate",aj="value",B="k-state-hover",Q="k-state-disabled",X="k-state-focused",J="k-other-month",L=' class="'+J+'"',E="k-nav-today",M="td:has(.k-link)",Y="blur"+ak,am="focus",G=am+ak,k="touchstart mouseenter",W="touchstart"+ak+" mouseenter"+ak,w="touchend"+ak+" mouseleave"+ak,T=60000,j=86400000,ab="_prevArrow",ai="_nextArrow",q="aria-disabled",h="aria-selected",ag=S.proxy,s=S.extend,r=Date,c={month:0,year:1,decade:2,century:3};var v=g.extend({init:function(aq,ap){var ar=this,at,au;g.fn.init.call(ar,aq,ap);aq=ar.wrapper=ar.element;ap=ar.options;ap.url=window.unescape(ap.url);ar._templates();ar._header();ar._footer(ar.footer);au=aq.addClass("k-widget k-calendar").on(W+" "+w,M,u).on(ac,"table.k-content",ag(ar._move,ar)).on(ad,M,function(aw){var av=aw.currentTarget.firstChild;if(av.href.indexOf("#")!=-1){aw.preventDefault()}ar._click(S(av))}).attr(H);if(au){ar._cellID=au+"_cell_selected"}at=ap.value;af(ap);ar._index=c[ap.start];ar._current=new r(+a(at,ap.min,ap.max));ar._addClassProxy=function(){ar._cell.addClass(X)};ar._removeClassProxy=function(){ar._cell.removeClass(X)};ar.value(at);U.notify(ar)},options:{name:"Calendar",value:null,min:new r(1900,0,1),max:new r(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:n,depth:n,animation:{horizontal:{effects:f,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[R,m],setOptions:function(ap){af(ap);g.fn.setOptions.call(this,ap)},destroy:function(){var aq=this,ap=aq._today.off(ak);aq.element.off(ak);aq._title.off(ak);aq[ab].off(ak);aq[ai].off(ak);U.destroy(ap);U.destroy(aq._view);g.fn.destroy.call(aq)},focus:function(ap){ap=ap||this._table;if(this.options.focusOnNav!==false){ap.focus();this._bindTable(ap)}},min:function(ap){return this._option(F,ap)},max:function(ap){return this._option("max",ap)},navigateToPast:function(){this._navigate(ab,-1)},navigateToFuture:function(){this._navigate(ai,1)},navigateUp:function(){var aq=this,ap=aq._index;if(aq._title.hasClass(Q)){return}aq.navigate(aq._current,++ap)},navigateDown:function(ar){var aq=this,ap=aq._index,at=aq.options.depth;if(!ar){return}if(ap===c[at]){if(+aq._value!=+ar){aq.value(ar);aq.trigger(R)}return}aq.navigate(ar,--ap)},navigate:function(aE,az){az=isNaN(az)?c[az]:az;var ax=this,aG=ax.options,at=aG.culture,av=aG.min,aA=aG.max,aB=ax._title,aD=ax._table,aw=ax._value,aF=ax._current,aq=aE&&+aE>+aF,ar=az!==t&&az!==ax._index,aC,ay,ap,au;if(!aE){aE=aF}else{ax._current=aE=new r(+a(aE,av,aA))}if(az===t){az=ax._index}else{ax._index=az}ax._view=ay=ae.views[az];ap=ay.compare;au=az===c[y];aB.toggleClass(Q,au).attr(q,au);au=ap(aE,av)<1;ax[ab].toggleClass(Q,au).attr(q,au);au=ap(aE,aA)>-1;ax[ai].toggleClass(Q,au).attr(q,au);if(!aD||ax._changeView){aB.html(ay.title(aE,at));ax._table=aC=S(ay.content(s({min:av,max:aA,date:aE,url:aG.url,dates:aG.dates,format:aG.format,culture:at},ax[ay.name])));ah(aC);ax._animate({from:aD,to:aC,vertical:ar,future:aq});ax._focus(aE);ax.trigger(m)}if(az===c[aG.depth]&&aw){ax._class("k-state-selected",ay.toDateString(aw))}ax._class(X,ay.toDateString(aE));if(!aD&&ax._cell){ax._cell.removeClass(X)}ax._changeView=true},value:function(av){var au=this,aq=au._view,ar=au.options,at=ar.min,ap=ar.max;if(av===t){return au._value}av=z(av,ar.format,ar.culture);if(av!==null){av=new r(+av);if(!V(av,at,ap)){av=null}}au._value=av;au._changeView=!av||aq&&aq.compare(av,au._current)!==0;au.navigate(av)},_move:function(at){var aq=this,az=aq.options,ay=at.keyCode,av=aq._view,ar=aq._index,ax=new r(+aq._current),aw,au,ap;if(at.ctrlKey){if(ay==N.RIGHT){aq.navigateToFuture();au=true}else{if(ay==N.LEFT){aq.navigateToPast();au=true}else{if(ay==N.UP){aq.navigateUp();au=true}else{if(ay==N.DOWN){aq._click(S(aq._cell[0].firstChild));au=true}}}}}else{if(ay==N.RIGHT){aw=1;au=true}else{if(ay==N.LEFT){aw=-1;au=true}else{if(ay==N.UP){aw=ar===0?-7:-4;au=true}else{if(ay==N.DOWN){aw=ar===0?7:4;au=true}else{if(ay==N.ENTER){aq._click(S(aq._cell[0].firstChild));au=true}else{if(ay==N.HOME||ay==N.END){ap=ay==N.HOME?"first":"last";ax=av[ap](ax);au=true}else{if(ay==N.PAGEUP){au=true;aq.navigateToPast()}else{if(ay==N.PAGEDOWN){au=true;aq.navigateToFuture()}}}}}}}}if(aw||ap){if(!ap){av.setDate(ax,aw)}aq._focus(a(ax,az.min,az.max))}}if(au){at.preventDefault()}return aq._current},_animate:function(ap){var aq=this,at=ap.from,ar=ap.to;if(!at){ar.insertAfter(aq.element[0].firstChild);aq._bindTable(ar)}else{if(at.parent().data("animating")){at.parent().kendoStop(true,true).remove();at.remove();ar.insertAfter(aq.element[0].firstChild);aq.focus()}else{if(!at.is(":visible")||aq.options.animation===false){ar.insertAfter(at);aq.focus();at.remove()}else{aq[ap.vertical?"_vertical":"_horizontal"](at,ar,ap.future)}}}},_horizontal:function(aw,av,ap){var au=this,aq=au.options.animation.horizontal,at=aq.effects,ar=aw.outerWidth();if(at&&at.indexOf(f)!=-1){aw.add(av).css({width:ar});aw.wrap("<div/>");au.focus(aw);aw.parent().css({position:"relative",width:ar*2,"float":I,left:ap?0:-ar});av[ap?"insertAfter":"insertBefore"](aw);s(aq,{effects:f+":"+(ap?"right":I),complete:function(){aw.remove();av.unwrap();au.focus()}});aw.parent().kendoStop(true,true).kendoAnimate(aq)}},_vertical:function(aw,av){var au=this,ar=au.options.animation.vertical,at=ar.effects,aq,ap;if(at&&at.indexOf("zoom")!=-1){av.css({position:"absolute",top:aw.prev().outerHeight(),left:0}).insertBefore(aw);if(ao){aq=au._cellByDate(au._view.toDateString(au._current));ap=aq.position();ap=(ap.left+parseInt(aq.width()/2,10))+"px "+(ap.top+parseInt(aq.height()/2,10)+"px");av.css(ao,ap)}aw.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){aw.remove();av.css({position:"static",top:0,left:0});au.focus()}});av.kendoStop(true,true).kendoAnimate(ar)}},_cellByDate:function(ap){return this._table.find("td:not(."+J+")").filter(function(){return S(this.firstChild).attr(U.attr(aj))===ap})},_class:function(aq,at){var ar=this,au=ar._cellID,ap=ar._cell;if(ap){ap.removeAttr(h).removeAttr(H)}ap=ar._table.find("td:not(."+J+")").removeClass(aq).filter(function(){return S(this.firstChild).attr(U.attr(aj))===at}).addClass(aq).attr(h,true);if(ap[0]){ar._cell=ap}if(au){ap.attr(H,au);ar._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",au)}},_bindTable:function(ap){ap.on(G,this._addClassProxy).on(Y,this._removeClassProxy)},_click:function(at){var ar=this,ap=ar.options,aq=ar._current,au=at.attr(U.attr(aj)).split("/");au=new r(au[0],au[1],au[2]);Z(au);if(at.parent().hasClass(J)){aq=au}else{ar._view.setDate(aq,au)}ar.navigateDown(a(aq,ap.min,ap.max))},_focus:function(ar){var aq=this,ap=aq._view;if(ap.compare(ar,aq._current)!==0){aq.navigate(ar)}else{aq._current=ar;aq._class(X,ap.toDateString(ar))}},_footer:function(ar){var at=this,aq=at.element,ap=new r(),au=aq.find(".k-footer");if(!ar){at._toggle(false);au.hide();return}if(!au[0]){au=S('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(aq)}at._today=au.show().find(".k-link").html(ar(ap)).attr("title",U.toString(ap,"D",at.options.culture));at._toggle()},_header:function(){var ar=this,aq=ar.element,ap;if(!aq.find(".k-header")[0]){aq.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>')}ap=aq.find(".k-link").on(W+" "+w+" "+G+" "+Y,u).click(false);ar._title=ap.eq(1).on(ad,ag(ar.navigateUp,ar));ar[ab]=ap.eq(0).on(ad,ag(ar.navigateToPast,ar));ar[ai]=ap.eq(2).on(ad,ag(ar.navigateToFuture,ar))},_navigate:function(au,ap){var at=this,aq=at._index+1,ar=new r(+at._current);au=at[au];if(!au.hasClass(Q)){if(aq>3){ar.setFullYear(ar.getFullYear()+100*ap)}else{ae.views[aq].setDate(ar,ap)}at.navigate(ar)}},_option:function(at,av){var au=this,aq=au.options,ar=+au._value,aw,ap;if(av===t){return aq[at]}av=z(av,aq.format,aq.culture);if(!av){return}aq[at]=new r(+av);ap=au._view.compare(av,au._current);if(at===F){aw=+av>ar;ap=ap>-1}else{aw=ar>+av;ap=ap<1}if(aw){au.value(null)}else{if(ap){au.navigate()}}au._toggle()},_toggle:function(ap){var at=this,aq=at.options,ar=at._today;if(ap===t){ap=V(new r(),aq.min,aq.max)}if(ar){ar.off(ad);if(ap){ar.addClass(E).removeClass(Q).on(ad,ag(at._todayClick,at))}else{ar.removeClass(E).addClass(Q).on(ad,d)}}},_todayClick:function(ar){var aq=this,at=c[aq.options.depth],ap=new r();ar.preventDefault();if(aq._view.compare(aq._current,ap)===0&&aq._index==at){aq._changeView=false}aq._value=ap;aq.navigate(ap,at);aq.trigger(R)},_templates:function(){var ar=this,ap=ar.options,av=ap.footer,au=ap.month,aq=au.content,at=au.empty;ar.month={content:i('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+U.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(aq||"#=data.value#")+"</a></td>",{useWithBlock:!!aq}),empty:i('<td role="gridcell">'+(at||"&nbsp;")+"</td>",{useWithBlock:!!at})};if(av!==false){ar.footer=i(av||'#= kendo.toString(data,"D","'+ap.culture+'") #',{useWithBlock:false})}}});aa.plugin(v);var ae={firstDayOfMonth:function(ap){return new r(ap.getFullYear(),ap.getMonth(),1)},firstVisibleDay:function(at,ap){ap=ap||U.culture().calendar;var aq=ap.firstDay,ar=new r(at.getFullYear(),at.getMonth(),0,at.getHours(),at.getMinutes(),at.getSeconds(),at.getMilliseconds());while(ar.getDay()!=aq){ae.setTime(ar,-1*j)}return ar},setTime:function(ap,au){var aq=ap.getTimezoneOffset(),at=new r(ap.getTime()+au),ar=at.getTimezoneOffset()-aq;ap.setTime(at.getTime()+ar*T)},views:[{name:n,title:function(aq,ap){return A(ap).months.names[aq.getMonth()]+" "+aq.getFullYear()},content:function(aq){var ay=this,aC=0,aD=aq.min,aG=aq.max,aL=aq.date,au=aq.dates,aH=aq.format,aI=aq.culture,ax=aq.url,ar=ax&&au[0],ap=A(aI),aF=ap.firstDay,aw=ap.days,aB=C(aw.names,aF),aJ=C(aw.namesShort,aF),at=ae.firstVisibleDay(aL,ap),aE=ay.first(aL),av=ay.last(aL),aA=ay.toDateString,aK=new r(),az='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;aC<7;aC++){az+='<th scope="col" title="'+aB[aC]+'">'+aJ[aC]+"</th>"}aK=new r(aK.getFullYear(),aK.getMonth(),aK.getDate());Z(aK);aK=+aK;return b({cells:42,perRow:7,html:az+='</tr></thead><tbody><tr role="row">',start:new r(at.getFullYear(),at.getMonth(),at.getDate()),min:new r(aD.getFullYear(),aD.getMonth(),aD.getDate()),max:new r(aG.getFullYear(),aG.getMonth(),aG.getDate()),content:aq.content,empty:aq.empty,setter:ay.setDate,build:function(aQ,aM){var aN=[],aO=aQ.getDay(),aR="",aP="#";if(aQ<aE||aQ>av){aN.push(J)}if(+aQ===aK){aN.push("k-today")}if(aO===0||aO===6){aN.push("k-weekend")}if(ar&&al(+aQ,au)){aP=ax.replace("{0}",U.toString(aQ,aH,aI));aR=" k-action-link"}return{date:aQ,dates:au,ns:U.ns,title:U.toString(aQ,"D",aI),value:aQ.getDate(),dateString:aA(aQ),cssClass:aN[0]?' class="'+aN.join(" ")+'"':"",linkClass:aR,url:aP}}})},first:function(ap){return ae.firstDayOfMonth(ap)},last:function(aq){var ar=new r(aq.getFullYear(),aq.getMonth()+1,0),at=ae.firstDayOfMonth(aq),ap=Math.abs(ar.getTimezoneOffset()-at.getTimezoneOffset());if(ap){ar.setHours(at.getHours()+(ap/60))}return ar},compare:function(av,au){var aq,ap=av.getMonth(),at=av.getFullYear(),aw=au.getMonth(),ar=au.getFullYear();if(at>ar){aq=1}else{if(at<ar){aq=-1}else{aq=ap==aw?0:ap>aw?1:-1}}return aq},setDate:function(aq,ar){var ap=aq.getHours();if(ar instanceof r){aq.setFullYear(ar.getFullYear(),ar.getMonth(),ar.getDate())}else{ae.setTime(aq,ar*j)}Z(aq,ap)},toDateString:function(ap){return ap.getFullYear()+"/"+ap.getMonth()+"/"+ap.getDate()}},{name:"year",title:function(ap){return ap.getFullYear()},content:function(ar){var au=A(ar.culture).months.namesAbbr,aq=this.toDateString,at=ar.min,ap=ar.max;return b({min:new r(at.getFullYear(),at.getMonth(),1),max:new r(ap.getFullYear(),ap.getMonth(),1),start:new r(ar.date.getFullYear(),0,1),setter:this.setDate,build:function(av){return{value:au[av.getMonth()],ns:U.ns,dateString:aq(av),cssClass:""}}})},first:function(ap){return new r(ap.getFullYear(),0,ap.getDate())},last:function(ap){return new r(ap.getFullYear(),11,ap.getDate())},compare:function(aq,ap){return o(aq,ap)},setDate:function(aq,ar){var at,ap=aq.getHours();if(ar instanceof r){at=ar.getMonth();aq.setFullYear(ar.getFullYear(),at,aq.getDate());if(at!==aq.getMonth()){aq.setDate(0)}}else{at=aq.getMonth()+ar;aq.setMonth(at);if(at>11){at-=12}if(at>0&&aq.getMonth()!=at){aq.setDate(0)}}Z(aq,ap)},toDateString:function(ap){return ap.getFullYear()+"/"+ap.getMonth()+"/1"}},{name:"decade",title:function(ap){var aq=ap.getFullYear();aq=aq-aq%10;return aq+"-"+(aq+9)},content:function(aq){var ar=aq.date.getFullYear(),ap=this.toDateString;return b({start:new r(ar-ar%10-1,0,1),min:new r(aq.min.getFullYear(),0,1),max:new r(aq.max.getFullYear(),0,1),setter:this.setDate,build:function(au,at){return{value:au.getFullYear(),ns:U.ns,dateString:ap(au),cssClass:at===0||at==11?L:""}}})},first:function(ap){var aq=ap.getFullYear();return new r(aq-aq%10,ap.getMonth(),ap.getDate())},last:function(ap){var aq=ap.getFullYear();return new r(aq-aq%10+9,ap.getMonth(),ap.getDate())},compare:function(aq,ap){return o(aq,ap,10)},setDate:function(ap,aq){D(ap,aq,1)},toDateString:function(ap){return ap.getFullYear()+"/0/1"}},{name:y,title:function(ap){var aq=ap.getFullYear();aq=aq-aq%100;return aq+"-"+(aq+99)},content:function(ar){var at=ar.date.getFullYear(),au=ar.min.getFullYear(),ap=ar.max.getFullYear(),aq=this.toDateString;au=au-au%10;ap=ap-ap%10;if(ap-au<10){ap=au+9}return b({start:new r(at-at%100-10,0,1),min:new r(au,0,1),max:new r(ap,0,1),setter:this.setDate,build:function(aw,av){var ax=aw.getFullYear();return{value:ax+" - "+(ax+9),ns:U.ns,dateString:aq(aw),cssClass:av===0||av==11?L:""}}})},first:function(ap){var aq=ap.getFullYear();return new r(aq-aq%100,ap.getMonth(),ap.getDate())},last:function(ap){var aq=ap.getFullYear();return new r(aq-aq%100+99,ap.getMonth(),ap.getDate())},compare:function(aq,ap){return o(aq,ap,100)},setDate:function(ap,aq){D(ap,aq,10)},toDateString:function(ap){var aq=ap.getFullYear();return(aq-aq%10)+"/0/1"}}]};function b(aC){var aA=0,av,au=aC.min,az=aC.max,ap=aC.start,ar=aC.setter,aB=aC.build,aq=aC.cells||12,at=aC.perRow||4,ay=aC.content||K,ax=aC.empty||O,aw=aC.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;aA<aq;aA++){if(aA>0&&aA%at===0){aw+='</tr><tr role="row">'}av=aB(ap,aA);aw+=V(ap,au,az)?ay(av):ax(av);ar(ap,1)}return aw+"</tr></tbody></table>"}function o(av,au,aq){var at=av.getFullYear(),aw=au.getFullYear(),ar=aw,ap=0;if(aq){aw=aw-aw%aq;ar=aw-aw%aq+aq-1}if(at>ar){ap=1}else{if(at<aw){ap=-1}}return ap}function a(at,ar,ap){var aq=new r();aq=new r(aq.getFullYear(),aq.getMonth(),aq.getDate());if(at){aq=new r(+at)}if(ar>aq){aq=new r(+ar)}else{if(ap<aq){aq=new r(+ap)}}return aq}function V(aq,ar,ap){return +aq>=+ar&&+aq<=+ap}function C(aq,ap){return aq.slice(ap).concat(aq.slice(0,ap))}function D(ap,aq,ar){aq=aq instanceof r?aq.getFullYear():ap.getFullYear()+ar*aq;ap.setFullYear(aq)}function u(ap){if(ap.type.indexOf("touch")===-1){ap.stopImmediatePropagation()}S(this).toggleClass(B,k.indexOf(ap.type)>-1||ap.type==am)}function d(ap){ap.preventDefault()}function A(ap){return x(ap).calendars.standard}function af(aq){var at=c[aq.start],ar=c[aq.depth],ap=x(aq.culture);aq.format=p(aq.format||ap.calendars.standard.patterns.d);if(isNaN(at)){at=0;aq.start=n}if(ar===t||ar>at){aq.depth=n}if(!aq.dates){aq.dates=[]}}function ah(ap){if(an){ap.find("*").attr("unselectable","on")}}function al(ap,at){for(var aq=0,ar=at.length;aq<ar;aq++){if(ap===+at[aq]){return true}}return false}function P(aq,ap){if(aq){return aq.getFullYear()===ap.getFullYear()&&aq.getMonth()===ap.getMonth()&&aq.getDate()===ap.getDate()}return false}ae.isEqualDatePart=P;ae.makeUnselectable=ah;ae.restrictValue=a;ae.isInRange=V;ae.normalize=af;ae.viewsEnum=c;U.calendar=ae})(window.kendo.jQuery);(function(x,i){var y=window.kendo,F=y.ui,b=F.Widget,k=y.parseDate,r=y.keys,c=y.template,n="<div />",H="<span />",N=".kendoDatePicker",G="touchend"+N+" click"+N,K="open",O="close",v="change",l="dateView",u="disabled",I="k-state-default",B="k-state-focused",s="k-state-selected",j="k-state-disabled",m="k-state-hover",Q="keydown"+N,d="mouseenter"+N+" mouseleave"+N,C="touchstart"+N+" mousedown"+N,q="id",p="min",P="max",e="month",f="aria-disabled",w="aria-expanded",E="aria-hidden",J=y.calendar,z=J.isInRange,a=J.restrictValue,t=J.isEqualDatePart,h=x.extend,M=x.proxy,g=Date;function L(R){var S=R.parseFormats;J.normalize(R);S=x.isArray(S)?S:[S];S.splice(0,0,R.format);R.parseFormats=S}function A(R){R.preventDefault()}var D=function(S){var T=this,W,R=document.body,U=o.sharedCalendar,V=x(n).attr(E,"true").addClass("k-calendar-container").appendTo(R);if(!U){U=o.sharedCalendar=new F.Calendar(x(n).attr(q,y.guid()).hide().appendTo(R),{focusOnNav:false});J.makeUnselectable(U.element)}T.calendar=U;T.options=S=S||{};W=S.id;if(W){W+="_dateview";V.attr(q,W);T._dateViewID=W}T.popup=new F.Popup(V,h(S.popup,S,{name:"Popup",isRtl:y.support.isRtl(S.anchor)}));T.div=V;T._templates();T.value(S.value)};D.prototype={_calendar:function(){var U=this,R=U.popup,S=U.options,V=U.calendar,T=V.element;if(T.data(l)!==U){T.appendTo(R.element).data(l,U).off(G+" "+Q).on(G,"td:has(.k-link)",M(U._click,U)).on(C,A).show();V.unbind(v).bind(v,S);V.month=U.month;V.options.dates=S.dates;V.options.depth=S.depth;V.options.culture=S.culture;V._footer(U.footer);V.min(S.min);V.max(S.max);V.navigate(U._value,S.start);U.value(U._value)}},destroy:function(){var T=this,U=T.calendar,S=U.element,R;if(S.data(l)===T){R=x(".k-calendar-container");if(R.length>1){S.hide().appendTo(document.body)}else{S.off(N);U.destroy();o.sharedCalendar=null}}T.popup.destroy()},open:function(){var R=this;R._calendar();R.popup.open()},close:function(){this.popup.close()},min:function(R){this._option(p,R)},max:function(R){this._option(P,R)},toggle:function(){var R=this;R[R.popup.visible()?O:K]()},move:function(V){var T=this,S=V.keyCode,U=T.calendar,R=V.ctrlKey&&S==r.DOWN||S==r.ENTER;if(S==r.ESC){T.close();return}if(V.altKey){if(S==r.DOWN){T.open();V.preventDefault()}else{if(S==r.UP){T.close();V.preventDefault()}}return}if(!T.popup.visible()){return}if(R&&U._cell.hasClass(s)){T.close();V.preventDefault();return}T._current=U._move(V)},value:function(T){var S=this,U=S.calendar,R=S.options;S._value=T;S._current=new g(+a(T,R.min,R.max));if(U.element.data(l)===S){U.value(T)}},_click:function(R){if(R.currentTarget.className.indexOf(s)!==-1){this.close()}},_option:function(S,U){var T=this,R=T.options,V=T.calendar;R[S]=U;if(V.element.data(l)===T){V[S](U)}},_templates:function(){var T=this,R=T.options,W=R.footer,V=R.month||{},S=V.content,U=V.empty;T.month={content:c('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+y.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(S||"#=data.value#")+"</a></td>",{useWithBlock:!!S}),empty:c("<td>"+(U||"&nbsp;")+"</td>",{useWithBlock:!!U})};if(W!==false){T.footer=c(W||'#= kendo.toString(data,"D","'+R.culture+'") #',{useWithBlock:false})}}};D.normalize=L;y.DateView=D;var o=b.extend({init:function(S,R){var T=this,U;b.fn.init.call(T,S,R);S=T.element;R=T.options;L(R);T._wrapper();T.dateView=new D(h({},R,{id:S.attr(q),anchor:T.wrapper,change:function(){T._change(this.value());T.close()},close:function(V){if(T.trigger(O)){V.preventDefault()}else{S.attr(w,false);U.attr(E,true)}},open:function(X){var W=T.options,V;if(T.trigger(K)){X.preventDefault()}else{V=k(S.val(),W.parseFormats,W.culture);if(!V){T.dateView.value(V)}else{T.dateView._current=V;T.dateView.calendar._focus(V)}S.attr(w,true);U.attr(E,false)}}}));U=T.dateView.div;T._icon();S[0].type="text";S.addClass("k-input").on("keydown"+N,M(T._keydown,T)).on("blur"+N,M(T._blur,T)).on("focus"+N,function(V){T._inputWrapper.addClass(B)}).attr({role:"textbox","aria-haspopup":true,"aria-expanded":false,"aria-owns":T.dateView._dateViewID});T._reset();T._template();T.enable(!S.is("[disabled]"));T.value(R.value||T.element.val());y.notify(T)},events:[K,O,v],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:e,depth:e,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(S){var U=this,R=U.dateView,T=R.options;b.fn.setOptions.call(U,S);L(U.options);R.options=h(T,U.options,{change:T.change,close:T.close,open:T.open})},enable:function(R){var U=this,T=U._dateIcon.off(N),V=U._inputWrapper.off(N),S=U.element;if(R===false){V.removeClass(I).addClass(j);S.attr(u,u).attr(f,true)}else{V.addClass(I).removeClass(j).on(d,U._toggleHover);S.removeAttr(u).attr(f,false);T.on(G,M(U._click,U)).on(C,A)}},destroy:function(){var R=this;b.fn.destroy.call(R);R.dateView.destroy();R.element.off(N);R._dateIcon.off(N);R._inputWrapper.off(N);if(R._form){R._form.off("reset",R._resetHandler)}},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(R){return this._option(p,R)},max:function(R){return this._option(P,R)},value:function(S){var R=this;if(S===i){return R._value}R._old=R._update(S)},_toggleHover:function(R){x(R.currentTarget).toggleClass(m,R.type==="mouseenter")},_blur:function(){var R=this;R.close();R._change(R.element.val());R._inputWrapper.removeClass(B)},_click:function(T){var S=this,R=S.element;S.dateView.toggle();if(T.type==="click"&&R[0]!==document.activeElement){R.focus()}},_change:function(S){var R=this;S=R._update(S);if(+R._old!=+S){R._old=S;R.trigger(v);R.element.trigger(v)}},_keydown:function(T){var S=this,R=S.dateView;if(!R.popup.visible()&&T.keyCode==r.ENTER){S._change(S.element.val())}else{R.move(T);S._updateARIA(R._current)}},_icon:function(){var T=this,R=T.element,S;S=R.next("span.k-select");if(!S[0]){S=x('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(R)}T._dateIcon=S.attr({role:"button","aria-controls":T.dateView._dateViewID})},_option:function(S,U){var T=this,R=T.options;if(U===i){return R[S]}U=k(U,R.parseFormats,R.culture);if(!U){return}R[S]=new g(+U);T.dateView[S](U)},_update:function(X){var W=this,T=W.options,U=T.min,R=T.max,S=k(X,T.parseFormats,T.culture),V;if(+S===+W._value){V=y.toString(S,T.format,T.culture);if(V!==X){W.element.val(S===null?X:V)}return S}if(S!==null&&t(S,U)){S=a(S,U,R)}else{if(!z(S,U,R)){S=null}}W._value=S;W.dateView.value(S);W.element.val(S?y.toString(S,T.format,T.culture):X);W._updateARIA(S);return S},_wrapper:function(){var S=this,R=S.element,T;T=R.parents(".k-datepicker");if(!T[0]){T=R.wrap(H).parent().addClass("k-picker-wrap k-state-default");T=T.wrap(H).parent()}T[0].style.cssText=R[0].style.cssText;R.css({width:"100%",height:R[0].style.height});S.wrapper=T.addClass("k-widget k-datepicker k-header").addClass(R[0].className);S._inputWrapper=x(T[0].firstChild)},_reset:function(){var T=this,R=T.element,S=R.closest("form");if(S[0]){T._resetHandler=function(){T.value(R[0].defaultValue)};T._form=S.on("reset",T._resetHandler)}},_template:function(){this._ariaTemplate=c(this.options.ARIATemplate)},_updateARIA:function(R){this.element.attr("aria-label",this._ariaTemplate({current:R}))}});F.plugin(o)})(window.kendo.jQuery);(function(e,h){var n=window.kendo,i=n.support,r=i.placeholder,m=n.ui,l=n.keys,d=n.data.DataSource,a=m.List,c="aria-disabled",w="k-state-default",v="disabled",j="k-state-focused",f="k-state-selected",z="k-state-disabled",k="k-state-hover",y=".kendoAutoComplete",o="mouseenter"+y+" mouseleave"+y,q=a.caret,x=a.selectText,s=e.proxy;function u(C,B,A){return A?B.substring(0,C).split(A).length-1:0}function g(C,B,A){return B.split(A)[u(C,B,A)]}function t(E,D,B,A){var C=D.split(A);C.splice(u(E,D,A),1,B);if(A&&C[C.length-1]!==""){C.push("")}return C.join(A)}function b(A){var B=A.value.length;x(A,B,B)}var p=a.extend({init:function(B,A){var C=this,D;C.ns=y;A=e.isArray(A)?{dataSource:A}:A;a.fn.init.call(C,B,A);B=C.element;A=C.options;A.placeholder=A.placeholder||B.attr("placeholder");if(r){B.attr("placeholder",A.placeholder)}C._wrapper();C._accessors();C._dataSource();B[0].type="text";D=C.wrapper;C._popup();B.addClass("k-input").on("keydown"+y,s(C._keydown,C)).on("paste"+y,s(C._search,C)).on("focus"+y,function(){C._prev=C._accessor();C._placeholder(false);D.addClass(j)}).on("blur"+y,function(){C._change();C._placeholder();D.removeClass(j)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":true});C._enable();C._popup();C._old=C._accessor();if(B[0].id){B.attr("aria-owns",C.ul[0].id)}C._aria();C._placeholder();n.notify(C)},options:{name:"AutoComplete",enable:true,suggest:false,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{}},_dataSource:function(){var A=this;if(A.dataSource&&A._refreshHandler){A._unbindDataSource()}else{A._refreshHandler=s(A.refresh,A)}A.dataSource=d.create(A.options.dataSource).bind("change",A._refreshHandler)},setDataSource:function(A){this.options.dataSource=A;this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(A){a.fn.setOptions.call(this,A);this._template();this._accessors();this._aria()},enable:function(A){var C=this,B=C.element,D=C.wrapper.off(o);if(A===false){D.removeClass(w).addClass(z);B.attr(v,v).attr(c,true)}else{D.removeClass(z).addClass(w).on(o,C._toggleHover);B.removeAttr(v).attr(c,false)}},close:function(){var A=this;A.current(null);A.popup.close()},destroy:function(){var A=this;A.element.off(y);A.wrapper.off(y);a.fn.destroy.call(A)},refresh:function(){var E=this,C=E.ul[0],A=E.popup,B=E.options,G=E._data(),D=G.length,F;E.trigger("dataBinding");C.innerHTML=n.render(E.template,G);E._height(D);if(A.visible()){A._position()}if(D){if(B.highlightFirst){E.current(e(C.firstChild))}if(B.suggest){E.suggest(e(C.firstChild))}}if(E._open){E._open=false;F=D?"open":"close";if(E._typing&&E.element[0]!==document.activeElement){F="close"}A[F]();E._typing=h}if(E._touchScroller){E._touchScroller.reset()}E._makeUnselectable();E.trigger("dataBound")},select:function(A){this._select(A)},search:function(F){var D=this,B=D.options,A=B.ignoreCase,E=B.separator,C;F=F||D._accessor();D._current=null;clearTimeout(D._typing);if(E){F=g(q(D.element[0]),F,E)}C=F.length;if(!C){D.popup.close()}else{if(C>=D.options.minLength){D._open=true;D.dataSource.filter({value:A?F.toLowerCase():F,operator:B.filter,field:B.dataTextField,ignoreCase:A})}}},suggest:function(A){var E=this,J=E._last,I=E._accessor(),C=E.element[0],F=q(C),D=E.options.separator,G=I.split(D),B=u(F,I,D),K=F,H;if(J==l.BACKSPACE||J==l.DELETE){E._last=h;return}A=A||"";if(typeof A!=="string"){H=a.inArray(A[0],E.ul[0]);if(H>-1){A=E._text(E._data()[H])}else{A=""}}if(F<=0){F=I.toLowerCase().indexOf(A.toLowerCase())+1}H=I.substring(0,F).lastIndexOf(D);H=H>-1?F-(H+D.length):F;I=G[B].substring(0,H);if(A){H=A.toLowerCase().indexOf(I.toLowerCase());if(H>-1){A=A.substring(H+I.length);K=F+A.length;I+=A}if(D&&G[G.length-1]!==""){G.push("")}}G[B]=I;E._accessor(G.join(D||""));x(C,F,K)},value:function(A){if(A!==h){this._accessor(A);this._old=A}else{return this._accessor()}},_accessor:function(C){var B=this,A=B.element[0];if(C!==h){A.value=C;B._placeholder()}else{C=A.value;if(A.className.indexOf("k-readonly")>-1){if(C===B.options.placeholder){return""}else{return C}}return C}},_accept:function(A){var B=this;B._focus(A);b(B.element[0])},_keydown:function(E){var C=this,B=C.ul[0],A=E.keyCode,D=C._current,F=C.popup.visible();C._last=A;if(A===l.DOWN){if(F){C._move(D?D.next():e(B.firstChild))}E.preventDefault()}else{if(A===l.UP){if(F){C._move(D?D.prev():e(B.lastChild))}E.preventDefault()}else{if(A===l.ENTER||A===l.TAB){if(A===l.ENTER&&C.popup.visible()){E.preventDefault()}C._accept(D)}else{if(A===l.ESC){if(C.popup.visible()){E.preventDefault()}C.close()}else{C._search()}}}}},_move:function(A){var B=this;A=A[0]?A:null;B.current(A);if(B.options.suggest){B.suggest(A)}},_placeholder:function(A){if(r){return}var C=this,B=C.element,E=C.options.placeholder,D;if(E){D=B.val();if(A===h){A=!D}if(!A){if(D!==E){E=D}else{E=""}}if(D===C._old&&!A){return}B.toggleClass("k-readonly",A).val(E)}},_search:function(){var A=this;clearTimeout(A._typing);A._typing=setTimeout(function(){if(A._prev!==A._accessor()){A._prev=A._accessor();A.search()}},A.options.delay)},_select:function(B){var C=this,E=C.options.separator,D=C._data(),F,A;B=e(B);if(B[0]&&!B.hasClass(f)){A=a.inArray(B[0],C.ul[0]);if(A>-1){D=D[A];F=C._text(D);if(E){F=t(q(C.element[0]),C._accessor(),F,E)}C._accessor(F);C.current(B.addClass(f))}}},_toggleHover:function(A){e(A.currentTarget).toggleClass(k,A.type==="mouseenter")},_wrapper:function(){var B=this,A=B.element,D=A[0],C;C=A.parent();if(!C.is("span.k-widget")){C=A.wrap("<span />").parent()}C.attr("tabindex",-1);C.attr("role","presentation");C[0].style.cssText=D.style.cssText;A.css({width:"100%",height:D.style.height});B._focused=B.element;B.wrapper=C.addClass("k-widget k-autocomplete k-header").addClass(D.className)}});m.plugin(p)})(window.kendo.jQuery);(function(c,e){var l=window.kendo,k=l.ui,j=k.Select,f=l.support.mobileOS,r=".kendoDropDownList",b="disabled",i="change",a="select",h="k-state-focused",q="k-state-default",p="k-state-disabled",d="k-state-selected",m="mouseenter"+r+" mouseleave"+r,o=c.proxy;var g=j.extend({init:function(v,u){var x=this,t=u&&u.index,w,s,y;x.ns=r;u=c.isArray(u)?{dataSource:u}:u;j.fn.init.call(x,v,u);x._focusHandler=function(){x.wrapper.focus()};u=x.options;v=x.element.on("focus"+r,x._focusHandler);x._reset();x._word="";x._wrapper();x._tabindex();x._aria();x._span();x._popup();x._mobile();x._accessors();x._dataSource();x._enable();x._cascade();x.selectedIndex=-1;if(t!==e){u.index=t}if(u.autoBind){x.dataSource.fetch()}else{y=u.text;if(!y){w=x._optionLabelText(u.optionLabel),s=w&&u.index===0;if(v.is(a)){if(s){y=w}else{y=v.children(":selected").text()}}else{if(!v[0].value&&s){y=w}}}x.text(y)}l.notify(x)},options:{name:"DropDownList",enable:true,index:0,autoBind:true,text:"",template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:true,animation:{}},events:["open","close",i,"select","dataBinding","dataBound"],setOptions:function(s){j.fn.setOptions.call(this,s);this._template();this._accessors();this._aria()},destroy:function(){var s=this;s.wrapper.off(r);s.element.off(r);s._inputWrapper.off(r);j.fn.destroy.call(s)},enable:function(s){var u=this,t=u.element,w=u.wrapper.off(r),v=u._inputWrapper.off(m);if(s===false){t.attr(b,b);v.removeClass(q).addClass(p)}else{t.removeAttr(b,b);v.addClass(q).removeClass(p).on(m,u._toggleHover);w.on("touchend"+r+" click"+r,function(x){u._blured=false;x.preventDefault();u.toggle()}).on("keydown"+r,o(u._keydown,u)).on("keypress"+r,o(u._keypress,u)).on("focusin"+r,function(){v.addClass(h);u._blured=false}).on("focusout"+r,function(){if(!u._blured){u._blur();v.removeClass(h);u._blured=true;t.blur()}})}},open:function(){var s=this;if(!s.ul[0].firstChild){s._open=true;if(!s._request){s.dataSource.fetch()}}else{s.popup.open();s._scroll(s._current)}},toggle:function(s){this._toggle(s)},refresh:function(){var u=this,v=u._data(),t=v.length,s=u.options.optionLabel;u.trigger("dataBinding");if(u._current){u.current(null)}u.ul[0].innerHTML=l.render(u.template,v);u._height(t);if(u.popup.visible()){u.popup._position()}if(u.element.is(a)){if(s&&t){s=u._optionLabelText(s);s='<option value="">'+s+"</option>"}u._options(v,s)}if(u._open){u._open=false;u.toggle(!!t)}u._hideBusy();u._makeUnselectable();if(!u._valueCalled&&v[0]){u._selectItem()}u._valueCalled=false;u.trigger("dataBound")},search:function(u){if(u){var t=this,s=t.options.ignoreCase;if(s){u=u.toLowerCase()}t._select(function(v){var w=t._text(v);if(w!==e){w=(w+"");if(s){w=w.toLowerCase()}return w.indexOf(u)===0}})}},select:function(s){var t=this;if(s===e){return t.selectedIndex}else{t._select(s);t._old=t._accessor();t._oldIndex=t.selectedIndex}},text:function(t){var s=this.span;if(t!==e){s.text(t)}else{return s.text()}},value:function(u){var t=this,s;if(u!==e){if(u!==null){u=u.toString()}t._valueCalled=true;if(u&&t._valueOnFetch(u)){return}s=t._index(u);t.select(s>-1?s:0)}else{return t._accessor()}},_accept:function(s){this._focus(s)},_optionLabelText:function(){var s=this.options,u=s.dataTextField,t=s.optionLabel;if(t&&u&&typeof t==="object"){return this._text(t)}return t},_data:function(){var w=this,A=w.options,x=A.optionLabel,t=A.dataTextField,z=A.dataValueField,u=w.dataSource.view(),s=u.length,v=x,y=0;if(x&&s){if(typeof x==="object"){v=x}else{if(t){v={};t=t.split(".");z=z.split(".");n(v,z,"");n(v,t,x)}}v=new l.data.ObservableArray([v]);for(;y<s;y++){v.push(u[y])}u=v}return u},_keydown:function(w){var v=this,t=w.keyCode,u=l.keys,s=v.ul[0];if(t===u.LEFT){t=u.UP}else{if(t===u.RIGHT){t=u.DOWN}}w.keyCode=t;v._move(w);if(t===u.HOME){w.preventDefault();v._select(s.firstChild)}else{if(t===u.END){w.preventDefault();v._select(s.lastChild)}}},_keypress:function(t){var s=this;setTimeout(function(){s._word+=String.fromCharCode(t.keyCode||t.charCode);s._search()})},_popup:function(){j.fn._popup.call(this);this.popup.one("open",function(){this.wrapper=l.wrap(this.element).addClass("km-popup")})},_search:function(){var s=this;clearTimeout(s._typing);s._typing=setTimeout(function(){s._word=""},s.options.delay);s.search(s._word)},_select:function(t){var u=this,x=u._current,w=u._data(),v,y,s;t=u._get(t);if(t&&t[0]&&!t.hasClass(d)){if(x){x.removeClass(d)}s=k.List.inArray(t[0],u.ul[0]);if(s>-1){w=w[s];y=u._text(w);v=u._value(w);u.selectedIndex=s;u.text(y);u._accessor(v!==e?v:y,s);u.current(t.addClass(d));if(u._optionID){u._current.attr("aria-selected",true)}}}},_mobile:function(){var u=this,t=u.popup,s=t.element.parents(".km-root").eq(0);if(s.length&&f){t.options.animation.open.effects=(f.android||f.meego)?"fadeIn":f.ios?"slideIn:up":t.options.animation.open.effects}},_span:function(){var t=this,v=t.wrapper,u="span.k-input",s;s=v.find(u);if(!s[0]){v.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(t.element);s=v.find(u)}t.span=s;t._inputWrapper=c(v[0].firstChild);t._arrow=v.find(".k-icon").mousedown(function(w){w.preventDefault()})},_wrapper:function(){var t=this,s=t.element,v=s[0],u;u=s.parent();if(!u.is("span.k-widget")){u=s.wrap("<span />").parent();u[0].style.cssText=v.style.cssText}s.hide();t._focused=t.wrapper=u.addClass("k-widget k-dropdown k-header").addClass(v.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false})}});function n(u,t,v){var s=0,x=t.length-1,w;for(;s<x;++s){w=t[s];if(!(w in u)){u[w]={}}u=u[w]}u[t[x]]=v}k.plugin(g)})(window.kendo.jQuery);(function(f,h){var r=window.kendo,q=r.ui,a=q.List,p=q.Select,k=r.support,t=k.placeholder,A=p.removeFiltersForField,o=r.keys,B=".kendoComboBox",g="touchend"+B+" click"+B,e="disabled",n="change",w="k-state-default",v="k-state-disabled",l="k-state-focused",j="mousedown"+B+" touchstart"+B,b="select",c="aria-disabled",z="k-state-selected",m="filter",d="accept",i="rebind",s="mouseenter"+B+" mouseleave"+B,x=null,u=f.proxy;var y=p.extend({init:function(D,C){var E=this,G,F;E.ns=B;C=f.isArray(C)?{dataSource:C}:C;p.fn.init.call(E,D,C);E._focusHandler=function(){E.input.focus()};C=E.options;D=E.element.on("focus"+B,E._focusHandler);C.placeholder=C.placeholder||D.attr("placeholder");E._reset();E._wrapper();E._input();E._popup();E._accessors();E._dataSource();E._enable();E._cascade();G=E._inputWrapper;E.input.on("keydown"+B,u(E._keydown,E)).on("focus"+B,function(){G.addClass(l);E._placeholder(false)}).on("blur"+B,function(){G.removeClass(l);clearTimeout(E._typing);if(E.options.text!==E.input.val()){E.text(E.text())}E._placeholder();E._blur();D.blur()}).attr({role:"combobox","aria-expanded":false});E._aria();E._oldIndex=E.selectedIndex=-1;E._old=E.value();if(C.autoBind){E._filterSource()}else{F=C.text;if(!F&&D.is(b)){F=D.children(":selected").text()}if(F){E.input.val(F)}}if(!F){E._placeholder()}r.notify(E)},options:{name:"ComboBox",enable:true,index:-1,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:true,template:"",filter:"none",placeholder:"",suggest:false,ignoreCase:true,animation:{}},events:["open","close",n,"select","dataBinding","dataBound"],setOptions:function(C){p.fn.setOptions.call(this,C);this._template();this._accessors();this._aria()},current:function(C){var D=this,E=D._current;if(C===h){return E}if(E){E.removeClass(z)}p.fn.current.call(D,C)},destroy:function(){var C=this;C.input.off(B);C.element.off(B);C._inputWrapper.off(B);p.fn.destroy.call(C)},enable:function(D){var E=this,C=E.input.add(E.element),G=E._inputWrapper.off(s),F=E._arrow.parent().off(g+" "+j);if(D===false){G.removeClass(w).addClass(v);C.attr(e,e).attr(c,true)}else{G.removeClass(v).addClass(w).on(s,E._toggleHover);C.removeAttr(e).attr(c,false);F.on(g,function(){E.toggle()}).on(j,function(H){H.preventDefault()})}},open:function(){var C=this,D=C.dataSource.options.serverFiltering;if(C.popup.visible()){return}if(!C.ul[0].firstChild||(C._state===d&&!D)){C._open=true;C._state=i;C._filterSource()}else{C.popup.open();C._scroll(C._current)}},refresh:function(){var H=this,I=H.ul[0],K=H.options,D=H._state,F=H._data(),E=F.length,J,G,C;H.trigger("dataBinding");I.innerHTML=r.render(H.template,F);H._height(E);if(H.popup.visible()){H.popup._position()}if(H.element.is(b)){if(D===i){J=H.value();H._state=""}C=H._option;H._option=h;H._options(F);if(C&&C[0].selected){H._custom(C.val())}}if(E){if(K.highlightFirst){H.current(f(I.firstChild))}if(K.suggest&&H.input.val()&&H._valueCalled!==h){H.suggest(f(I.firstChild))}}if(H._open){H._open=false;G=!!E;if(H._typing&&H.input[0]!==document.activeElement){G=false}H.toggle(G);H._typing=h}if(H._touchScroller){H._touchScroller.reset()}H._makeUnselectable();if((!H._valueCalled&&D!==m)||D===i){H._selectItem(J)}H._valueCalled=false;H._hideBusy();H.trigger("dataBound")},select:function(C){var D=this;if(C===h){return D.selectedIndex}else{D._select(C);D._old=D._accessor();D._oldIndex=D.selectedIndex}},search:function(I){I=typeof I==="string"?I:this.text();var G=this,F=I.length,D=G.options,C=D.ignoreCase,E=D.filter,H=D.dataTextField;clearTimeout(G._typing);if(F>=D.minLength){G._state=m;if(E==="none"){G._filter(I)}else{G._open=true;G._filterSource({value:C?I.toLowerCase():I,field:H,operator:E,ignoreCase:C})}}},suggest:function(H){var F=this,E=F.input[0],G=F.text(),I=a.caret(E),D=F._last,C;if(D==o.BACKSPACE||D==o.DELETE){F._last=h;return}H=H||"";if(typeof H!=="string"){C=a.inArray(H[0],F.ul[0]);if(C>-1){H=F._text(F.dataSource.view()[C])}else{H=""}}if(I<=0){I=G.toLowerCase().indexOf(H.toLowerCase())+1}if(H){C=H.toLowerCase().indexOf(G.toLowerCase());if(C>-1){G+=H.substring(C+G.length)}}else{G=G.substring(0,I)}if(G.length!==I||!H){E.value=G;a.selectText(E,I,G.length)}},text:function(I){I=I===null?"":I;var G=this,H=G._text,D=G.input[0],C=G.options.ignoreCase,F=I,E;if(I!==h){E=G.dataItem();if(E&&H(E)===I){return}if(C){F=F.toLowerCase()}G._select(function(J){J=H(J);if(C){J=(J+"").toLowerCase()}return J===F});if(G.selectedIndex<0){G._custom(I);D.value=I}}else{return D.value}},toggle:function(C){var D=this;D._toggle(C)},value:function(E){var D=this,C;if(E!==h){if(E!==null){E=E.toString()}D._valueCalled=true;if(E&&D._valueOnFetch(E)){return}C=D._index(E);if(C>-1){D.select(C)}else{D.current(x);D._custom(E);D.text(E);D._placeholder()}D._old=D._accessor();D._oldIndex=D.selectedIndex}else{return D._accessor()}},_accept:function(C){var D=this;if(C&&D.popup.visible()){D._focus(C)}else{D.text(D.text());D._change()}},_custom:function(F){var D=this,C=D.element,E=D._option;if(D._state===m){D._state=d}if(C.is(b)){if(!E){E=D._option=f("<option/>");C.append(E)}E.text(F);E[0].selected=true}else{C.val(F)}},_filter:function(G){var F=this,E=F.options,H=F.dataSource,D=E.ignoreCase,C=function(I){var J=F._text(I);if(J!==h){J=J+"";if(J!==""&&G===""){return false}if(D){J=J.toLowerCase()}return J.indexOf(G)===0}};if(D){G=G.toLowerCase()}if(!F.ul[0].firstChild){H.one(n,function(){if(H.data()[0]){F.search(G)}}).fetch();return}if(F._highlight(C)!==-1){if(E.suggest&&F._current){F.suggest(F._current)}F.open()}F._hideBusy()},_highlight:function(D){var E=this,C;if(D===h||D===null){return -1}D=E._get(D);C=a.inArray(D[0],E.ul[0]);if(C==-1){if(E.options.highlightFirst&&!E.text()){D=f(E.ul[0].firstChild)}else{D=x}}E.current(D);return C},_input:function(){var H=this,G=H.element.removeClass("k-input")[0],E=G.tabIndex,K=G.accessKey,D=H.wrapper,F="input.k-input",J,I,C=G.name||"";if(C){C='name="'+C+'_input" '}J=D.find(F);if(!J[0]){D.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+C+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(H.element);J=D.find(F)}I=J[0];I.tabIndex=E;I.style.cssText=G.style.cssText;if(G.maxLength>-1){I.maxLength=G.maxLength}J.addClass(G.className).val(G.value).css({width:"100%",height:G.style.height}).show();if(t){J.attr("placeholder",H.options.placeholder)}if(K){G.accessKey="";J[0].accessKey=K}H._focused=H.input=J;H._inputWrapper=f(D[0].firstChild);H._arrow=D.find(".k-icon").attr({role:"button",tabIndex:-1});if(G.id){H._arrow.attr("aria-controls",H.ul[0].id)}},_keydown:function(E){var D=this,C=E.keyCode;D._last=C;clearTimeout(D._typing);if(C!=o.TAB&&!D._move(E)){D._search()}},_placeholder:function(C){if(t){return}var E=this,D=E.input,G=E.options.placeholder,F;if(G){F=E.value();if(C===h){C=!F}D.toggleClass("k-readonly",C);if(!C){if(!F){G=""}else{return}}D.val(G)}},_search:function(){var C=this;C._typing=setTimeout(function(){var D=C.text();if(C._prev!==D){C._prev=D;C.search(D)}},C.options.delay)},_select:function(D){var E=this,H,G,F=E._data(),C=E._highlight(D);E.selectedIndex=C;if(C!==-1){if(E._state===m){E._state=d}E._current.addClass(z);F=F[C];H=E._text(F);G=E._value(F);E._prev=E.input[0].value=H;E._accessor(G!==h?G:H,C);E._placeholder();if(E._optionID){E._current.attr("aria-selected",true)}}},_filterSource:function(D){var E=this,C=E.options,G=E.dataSource,F=G.filter()||{};A(F,C.dataTextField);if(D){F=F.filters||[];F.push(D)}G.filter(F)},_wrapper:function(){var D=this,C=D.element,E=C.parent();if(!E.is("span.k-widget")){E=C.hide().wrap("<span />").parent();E[0].style.cssText=C[0].style.cssText}D.wrapper=E.addClass("k-widget k-combobox k-header").addClass(C[0].className).css("display","")}});q.plugin(y)})(window.kendo.jQuery);(function(e,f){var m=window.kendo,l=m.ui,p=e.proxy,t=e.extend,i=e.grep,u=e.map,s=e.inArray,g="k-state-selected",q="asc",c="desc",j="change",n="kendoPopup",a="kendoFilterMenu",h="kendoMenu",r=".kendoColumnMenu",k=/(\[|\]|\$|\.|\:|\+)/g,b=l.Widget;function o(w){return e.trim(w).replace(/&nbsp;/gi,"")}var d=b.extend({init:function(x,w){var z=this,y;b.fn.init.call(z,x,w);x=z.element;w=z.options;z.owner=w.owner;z.dataSource=w.dataSource;z.field=x.attr(m.attr("field"));y=x.find(".k-header-column-menu");if(!y[0]){y=x.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")}z.link=y.attr("tabindex",-1).on("click"+r,p(z._click,z));z.wrapper=e('<div class="k-column-menu"/>');z.wrapper.html(m.template(v)({ns:m.ns,messages:w.messages,sortable:w.sortable,filterable:w.filterable,columns:z._ownerColumns(),showColumns:w.columns}));z.popup=z.wrapper[n]({anchor:y,open:p(z._open,z),activate:p(z._activate,z),close:z.options.closeCallback}).data(n);z._menu();z._sort();z._columns();z._filter()},options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns"},columns:true,sortable:true,filterable:true},destroy:function(){var w=this;b.fn.destroy.call(w);if(w.filterMenu){w.filterMenu.destroy()}w.dataSource.unbind("refresh",w._refreshHandler);if(w.options.columns){w.owner.unbind("columnShow",w._updateColumnsMenuHandler);w.owner.unbind("columnHide",w._updateColumnsMenuHandler)}w.menu.element.off(r);w.menu.destroy();w.wrapper.off(r);w.popup.destroy();w.link.off(r)},close:function(){this.menu.close();this.popup.close();this.popup.element.off("keydown"+r)},_click:function(w){w.preventDefault();w.stopPropagation();this.popup.toggle()},_open:function(){var w=this;e(".k-column-menu").not(w.wrapper).each(function(){e(this).data(n).close()});w.popup.element.on("keydown"+r,function(x){if(x.keyCode==m.keys.ESC){w.close()}})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var w=this.owner.columns,x=i(w,function(z){var y=true,A=o(z.title||"");if(z.menu===false||(!z.field&&!A.length)){y=false}return y});return u(x,function(y){return{field:y.field||y.title,title:y.title||y.field,hidden:y.hidden,index:s(y,w)}})},_menu:function(){this.menu=this.wrapper.children()[h]({orientation:"vertical",closeOnClick:false}).data(h)},_sort:function(){var w=this;if(w.options.sortable){w.refresh();w._refreshHandler=p(w.refresh,w);w.dataSource.bind(j,w._refreshHandler);w.menu.element.on("click"+r,".k-sort-asc, .k-sort-desc",function(){var y=e(this),x=y.hasClass("k-sort-asc")?q:c;y.parent().find(".k-sort-"+(x==q?c:q)).removeClass(g);w._sortDataSource(y,x);w.close()})}},_sortDataSource:function(B,x){var A=this,D=A.options.sortable,C=A.dataSource,w,z,y=C.sort()||[];if(B.hasClass(g)&&D&&D.allowUnsort!==false){B.removeClass(g);x=f}else{B.addClass(g)}if(D===true||D.mode==="single"){y=[{field:A.field,dir:x}]}else{for(w=0,z=y.length;w<z;w++){if(y[w].field===A.field){y.splice(w,1);break}}y.push({field:A.field,dir:x})}C.sort(y)},_columns:function(){var w=this;if(w.options.columns){w._updateColumnsMenu();w._updateColumnsMenuHandler=p(w._updateColumnsMenu,w);w.owner.bind(["columnHide","columnShow"],w._updateColumnsMenuHandler);w.menu.bind("select",function(D){var B=e(D.item),x,y,A,z=w.owner.columns,C;if(!B.parent().closest("li.k-columns-item")[0]){return}x=B.find(":checkbox");if(x.attr("disabled")){return}C=x.attr(m.attr("field"));A=i(z,function(E){return E.field==C||E.title==C})[0];y=s(A,z);if(A.hidden===true){w.owner.showColumn(y)}else{w.owner.hideColumn(y)}})}},_updateColumnsMenu:function(){var x="["+m.attr("field")+"=",y=this._ownerColumns(),z=u(y,function(B){return x+B.field.replace(k,"\\$1")+"]"}).join(","),A=i(y,function(B){return !B.hidden}),w=u(A,function(B){return x+B.field.replace(k,"\\$1")+"]"}).join(",");this.wrapper.find(z).attr("checked",false);this.wrapper.find(w).attr("checked",true).attr("disabled",A.length==1)},_filter:function(){var x=this,w=x.options;if(w.filterable!==false){x.filterMenu=x.wrapper.find(".k-filterable")[a](t(true,{},{appendToElement:true,dataSource:w.dataSource,values:w.values,field:x.field},w.filterable)).data(a)}},refresh:function(){var z=this,x=z.options.dataSource.sort()||[],B,A=z.field,w,y;z.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(g);for(w=0,y=x.length;w<y;w++){B=x[w];if(A==B.field){z.wrapper.find(".k-sort-"+B.dir).addClass(g)}}}});var v='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var col in columns) {#<li><input type="checkbox" data-#=ns#field="#=columns[col].field#" data-#=ns#index="#=columns[col].index#"/>#=columns[col].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';l.plugin(d)})(window.kendo.jQuery);(function(F,n){var H=window.kendo,Q=H.ui,O=H.data.DataSource,r=Q.Groupable,am=H.support.tbodyInnerHtml,f=Q.Widget,y=H.keys,ao=F.isPlainObject,l=F.extend,z=F.map,ak=F.grep,v=F.isArray,ah=F.inArray,aa=F.proxy,p=F.isFunction,J=F.isEmptyObject,A=Math,af="requestStart",I="error",S=":not(.k-group-cell):not(.k-hierarchy-cell):visible",ai="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",B="tr:not(.k-footer-template):visible",g=":not(.k-group-cell):not(.k-hierarchy-cell):visible",N=B+":first>"+g+":first",M=".kendoGrid",T="edit",V="save",e="remove",q="detailInit",D="change",o="columnHide",i="columnShow",R="saveChanges",j="dataBound",u="detailExpand",C="detailCollapse",L="k-state-focused",x="k-state-selected",W="columnResize",ab="columnReorder",U="click",E="height",w="tabIndex",c="function",Z="string",Y="Are you sure you want to delete this record?",a=/(\}|\#)/ig,m=3,k=/#/ig,b='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',ap=false;var s=f.extend({init:function(at,ar){var au=this;f.fn.init.call(au,at,ar);au._refreshHandler=aa(au.refresh,au);au.setDataSource(ar.dataSource);au.wrap()},setDataSource:function(at){var ar=this;if(ar.dataSource){ar.dataSource.unbind(D,ar._refreshHandler)}ar.dataSource=at;ar.dataSource.bind(D,ar._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:F.noop},destroy:function(){var ar=this;f.fn.destroy.call(ar);ar.dataSource.unbind(D,ar._refreshHandler);ar.wrapper.add(ar.verticalScrollbar).off(M);if(ar.drag){ar.drag.destroy()}},wrap:function(){var at=this,av=H.support.scrollbar()+1,ar=at.element,au;ar.css({width:"auto",overflow:"hidden"}).css((ap?"padding-left":"padding-right"),av);at.content=ar.children().first();au=at.wrapper=at.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+M+" mousewheel"+M,aa(at._wheelScroll,at));if(H.support.kineticScrollNeeded){at.drag=new H.UserEvents(at.wrapper,{global:true,move:function(aw){at.verticalScrollbar.scrollTop(at.verticalScrollbar.scrollTop()-aw.y.delta);au.scrollLeft(au.scrollLeft()-aw.x.delta);aw.preventDefault()}})}at.verticalScrollbar=F('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:av}).appendTo(ar).bind("scroll"+M,aa(at._scroll,at))},_wheelScroll:function(aw){var au=this,av=au.verticalScrollbar.scrollTop(),at=aw.originalEvent,ar=at.wheelDeltaY,ax;if(at.wheelDelta){if(ar===n||ar){ax=at.wheelDelta}}else{if(at.detail&&at.axis===at.VERTICAL_AXIS){ax=(-at.detail)*10}}if(ax){aw.preventDefault();au.verticalScrollbar.scrollTop(av+(-ax))}},_scroll:function(ay){var ax=this,av=ay.currentTarget.scrollTop,ar=ax.dataSource,at=ax.itemHeight,aB=ar.skip()||0,au=ax._rangeStart||aB,aC=ax.element.innerHeight(),aw=!!(ax._scrollbarTop&&ax._scrollbarTop>av),aA=A.max(A.floor(av/at),0),az=A.max(aA+A.floor(aC/at),0);ax._scrollTop=av-(au*at);ax._scrollbarTop=av;if(!ax._fetch(aA,az,aw)){ax.wrapper[0].scrollTop=ax._scrollTop}},_fetch:function(aB,ay,az){var aw=this,ar=aw.dataSource,au=aw.itemHeight,at=ar.take(),aC=aw._rangeStart||ar.skip()||0,aA=A.floor(aB/at)*at,av=false,ax=0.33;if(aB<aC){av=true;aC=A.max(0,ay-at);aw._scrollTop=(aB-aC)*au;aw._page(aC,at)}else{if(ay>=aC+at&&!az){av=true;aC=aB;aw._scrollTop=au;aw._page(aC,at)}else{if(!aw._fetching){if(aB<(aA+at)-at*ax&&aB>at){ar.prefetch(aA-at,at)}if(ay>aA+at*ax){ar.prefetch(aA+at,at)}}}}return av},_page:function(au,ar){var at=this,av=at.dataSource;clearTimeout(at._timeout);at._fetching=true;at._rangeStart=au;if(av.inRange(au,ar)){av.range(au,ar)}else{H.ui.progress(at.wrapper.parent(),true);at._timeout=setTimeout(function(){av.range(au,ar)},100)}},refresh:function(){var aw=this,av="",az=250000,ar=aw.dataSource,aA=aw._rangeStart,aB=!H.support.kineticScrollNeeded?H.support.scrollbar():0,aC=aw.wrapper[0],ax,ay,at;H.ui.progress(aw.wrapper.parent(),false);clearTimeout(aw._timeout);at=aw.itemHeight=aw.options.itemHeight()||0;var au=(aC.scrollWidth>aC.offsetWidth)?aB:0;ax=ar.total()*at+au;for(ay=0;ay<A.floor(ax/az);ay++){av+='<div style="width:1px;height:'+az+'px"></div>'}if(ax%az){av+='<div style="width:1px;height:'+(ax%az)+'px"></div>'}aw.verticalScrollbar.html(av);aC.scrollTop=aw._scrollTop;if(aw.drag){aw.drag.cancel()}if(aA&&!aw._fetching){aw._rangeStart=ar.skip()}aw._fetching=false}});function ag(ar){return new Array(ar+1).join('<td class="k-group-cell">&nbsp;</td>')}function X(au){var at,ar=" ";if(au){if(typeof au===Z){return au}for(at in au){ar+=at+'="'+au[at]+'"'}}return ar}var P={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}};function ae(ar){var at=0;F("> .k-grouping-header, > .k-grid-toolbar",ar).each(function(){at+=this.offsetHeight});return at}function h(ar,at){F("th, th .k-grid-filter, th .k-link",ar).add(document.body).css("cursor",at)}function aj(aw){var ar,au,at={},av={};if(!J(aw)){if(!v(aw)){aw=[aw]}for(ar=0,au=aw.length;ar<au;ar++){at[aw[ar].aggregate]=0;av[aw[ar].field]=at}}return av}function d(at,ar,av){var aw=at.eq(ar),au=at.eq(av);aw[ar>av?"insertBefore":"insertAfter"](au)}function t(aw,au,at){var ar,ax,ay,av;at=!v(at)?[at]:at;for(ar=0,ax=at.length;ar<ax;ar++){ay=at[ar];if(ao(ay)&&ay.click){av=ay.name||ay.text;au.on("touchend "+U,"a.k-grid-"+(av||"").replace(/\s/g,""),{commandName:av},aa(ay.click,aw))}}}function al(ar){return ak(ar,function(at){return !at.hidden})}function aq(ar){ar=ar||{};var at=ar.style;if(!at){at="display:none"}else{at=at.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(at===ar.style){at=at.replace(/(.*)?/i,"display:none;$1")}}return l({},ar,{style:at})}function an(ar){ar=ar||{};var at=ar.style;if(at){ar.style=at.replace(/(display\s*:\s*none\s*;?)*/ig,"")}return ar}function ad(aw,au,ay,ar){var at=aw.find(">colgroup"),av,ax=z(au,function(az){av=az.width;if(av&&parseInt(av,10)!==0){return H.format('<col style="width:{0}"/>',typeof av===Z?av:av+"px")}return"<col />"});if(ay||at.find(".k-hierarchy-col").length){ax.splice(0,0,'<col class="k-hierarchy-col" />')}if(at.length){at.remove()}at=F("<colgroup/>").append(F(new Array(ar+1).join('<col class="k-group-col">')+ax.join("")));aw.prepend(at)}var G=f.extend({init:function(at,ar){var au=this;ar=v(ar)?{dataSource:ar}:ar;f.fn.init.call(au,at,ar);ap=H.support.isRtl(at);au._element();au._aria();au._columns(au.options.columns);au._dataSource();au._tbody();au._pageable();au._thead();au._groupable();au._toolbar();au._setContentHeight();au._templates();au._navigatable();au._selectable();au._details();au._editable();au._attachCustomCommandsEvent();if(au.options.autoBind){au.dataSource.fetch()}else{au._footer()}H.notify(au)},events:[D,"dataBinding",j,u,C,q,T,V,e,R,W,ab,i,o],setDataSource:function(at){var ar=this;ar.options.dataSource=at;ar._dataSource();ar._pageable();if(ar.options.groupable){ar._groupable()}ar._thead();if(ar.virtualScrollable){ar.virtualScrollable.setDataSource(ar.options.dataSource)}if(ar.options.autoBind){at.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null},destroy:function(){var ar=this;f.fn.destroy.call(ar);if(ar.pager){ar.pager.destroy()}if(ar.groupable){ar.groupable.destroy()}if(ar.virtualScrollable){ar.virtualScrollable.destroy()}ar.thead.find("th").each(function(){var at=F(this),aw=at.data("kendoFilterMenu"),av=at.data("kendoSortable"),au=at.data("kendoColumnMenu");if(aw){aw.destroy()}if(av){av.destroy()}if(au){au.destroy()}});ar._destroyEditable();ar.dataSource.unbind(D,ar._refreshHandler).unbind(af,ar._requestStartHandler).unbind(I,ar._errorHandler);ar.element.add(ar.wrapper).add(ar.table).add(ar.thead).add(ar.wrapper.find(">.k-grid-toolbar"));if(ar.content){ar.element.add(ar.content).add(ar.content.find(">.k-virtual-scrollable-wrap"))}ar.element.off(M);H.destroy(ar.wrapper)},setOptions:function(ar){var at=this;f.fn.setOptions.call(this,ar);at._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_attachCustomCommandsEvent:function(){var av=this,at=av.columns||[],aw,ar,au;for(ar=0,au=at.length;ar<au;ar++){aw=at[ar].command;if(aw){t(av,av.wrapper,aw)}}},_aria:function(){var ar=this.element.attr("id")||"aria";if(ar){this._cellId=ar+"_active_cell"}},_element:function(){var at=this,ar=at.element;if(!ar.is("table")){if(at.options.scrollable){ar=at.element.find("> .k-grid-content > table")}else{ar=at.element.children("table")}if(!ar.length){ar=F("<table />").appendTo(at.element)}}at.table=ar.attr("cellspacing",0).attr("role",at._hasDetails()?"treegrid":"grid");at._wrapper()},_positionColumnResizeHandle:function(ar){var au=this,av=au.options.scrollable,at=au.resizeHandle,aw;au.thead.on("mousemove"+M,"th:not(.k-group-cell,.k-hierarchy-cell)",function(aD){var ay=F(this),az=aD.clientX,aF=F(window).scrollLeft(),aB=ay.offset().left+(!ap?this.offsetWidth:0);if(az+aF>aB-m&&az+aF<aB+m){if(!at){at=au.resizeHandle=F('<div class="k-resize-handle"/>');ar.append(at)}if(!ap){aw=this.offsetWidth;ay.prevAll(":visible").each(function(){aw+=this.offsetWidth})}else{var aE=ay.closest(".k-grid-header-wrap"),ax=F.browser.msie?aE.scrollLeft():0,aA=F.browser.webkit?(aE[0].scrollWidth-aE[0].offsetWidth-aE.scrollLeft()):0,aC=F.browser.mozilla?(aE[0].scrollWidth-aE[0].offsetWidth-(aE[0].scrollWidth-aE[0].offsetWidth-aE.scrollLeft())):0;aw=ay.position().left-aA+aC-ax}at.css({top:av?0:ae(au.wrapper),left:aw-m,height:ay.outerHeight(),width:m*3}).data("th",ay).show()}else{if(at){at.hide()}else{h(au.wrapper,"")}}})},_resizable:function(){var aw=this,av=aw.options,at,ar,ax,ay,au;if(av.resizable){at=av.scrollable?aw.wrapper.find(".k-grid-header-wrap:first"):aw.wrapper;aw._positionColumnResizeHandle(at);at.kendoResizable({handle:".k-resize-handle",hint:function(az){return F('<div class="k-grid-resize-indicator" />').css({height:az.data("th").outerHeight()+aw.tbody.attr("clientHeight")})},start:function(aC){var aB=F(aC.currentTarget).data("th"),aA=F.inArray(aB[0],aB.parent().children(":visible")),az=aw.tbody.parent(),aD=aw.footer||F();h(aw.wrapper,"col-resize");if(av.scrollable){au=aw.thead.parent().find("col:eq("+aA+")").add(az.children("colgroup").find("col:eq("+aA+")")).add(aD.find("colgroup").find("col:eq("+aA+")"))}else{au=az.children("colgroup").find("col:eq("+aA+")")}ar=aC.x.location;ax=aB.outerWidth();ay=aw.tbody.outerWidth()},resize:function(aB){var az=ap?-1:1,aA=ax+(aB.x.location*az)-(ar*az),aC=aw.footer||F();if(aA>10){au.css("width",aA);if(av.scrollable){aw._footerWidth=ay+(aB.x.location*az)-(ar*az);aw.tbody.parent().add(aw.thead.parent()).add(aC.find("table")).css("width",aw._footerWidth)}}},resizeend:function(aC){var aB=F(aC.currentTarget).data("th"),aA=aB.outerWidth(),az;h(aw.wrapper,"");if(ax!=aA){az=aw.columns[aB.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(aB)];az.width=aA;aw.trigger(W,{column:az,oldWidth:ax,newWidth:aA})}aw.resizeHandle.hide()}})}},_draggable:function(){var ar=this;if(ar.options.reorderable){ar._draggableInstance=ar.wrapper.kendoDraggable({group:H.guid(),filter:".k-header:not(.k-group-cell,.k-hierarchy-cell)",hint:function(at){return F('<div class="k-header k-drag-clue" />').css({width:at.width(),paddingLeft:at.css("paddingLeft"),paddingRight:at.css("paddingRight"),lineHeight:at.height()+"px",paddingTop:at.css("paddingTop"),paddingBottom:at.css("paddingBottom")}).html(at.attr(H.attr("title"))||at.attr(H.attr("field"))||at.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable")}},_reorderable:function(){var ar=this;if(ar.options.reorderable){ar.thead.kendoReorderable({draggable:ar._draggableInstance,change:function(av){var at=ah(ar.columns[av.newIndex],ar.columns),au=ar.columns[av.oldIndex];ar.trigger(ab,{newIndex:at,oldIndex:ah(au,ar.columns),column:au});ar.reorderColumn(at,au)}})}},reorderColumn:function(av,au){var aw=this,ax=ah(au,aw.columns),ar=ah(au,al(aw.columns)),aA,az,at,ay=aw.footer||aw.wrapper.find(".k-grid-footer");if(ax===av){return}aw.columns.splice(ax,1);aw.columns.splice(av,0,au);aw._templates();d(aw.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),ar,av);if(aw.options.scrollable){d(aw.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),ar,av)}d(aw.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),ax,av);if(ay&&ay.length){d(ay.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),ar,av);d(ay.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),ax,av)}aA=aw.tbody.children(":not(.k-grouping-row,.k-detail-row)");for(az=0,at=aA.length;az<at;az+=1){d(aA.eq(az).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),ax,av)}},cellIndex:function(ar){return F(ar).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(ar)},_modelForContainer:function(ar){ar=F(ar);if(!ar.is("tr")&&this._editMode()!=="popup"){ar=ar.closest("tr")}var at=ar.attr(H.attr("uid"));return this.dataSource.getByUid(at)},_editable:function(){var au=this,ar=au.options.editable,at=function(){var ax=document.activeElement,aw=au._editContainer;if(aw&&!F.contains(aw[0],ax)&&aw[0]!==ax&&!F(ax).closest(".k-animation-container").length){if(au.editable.end()){au.closeCell()}}};if(ar){var av=au._editMode();if(av==="incell"){if(ar.update!==false){au.wrapper.on("touchend"+M+" "+U+M,"tr:not(.k-grouping-row) > td",function(aw){var ax=F(this);if(ax.hasClass("k-hierarchy-cell")||ax.hasClass("k-detail-cell")||ax.hasClass("k-group-cell")||ax.hasClass("k-edit-cell")||ax.has("a.k-grid-delete").length||ax.has("button.k-grid-delete").length||ax.closest("tbody")[0]!==au.tbody[0]||F(aw.target).is(":input")){return}if(au.editable){if(au.editable.end()){au.closeCell();au.editCell(ax)}}else{au.editCell(ax)}}).on("focusin"+M,function(aw){clearTimeout(au.timer);au.timer=null}).on("focusout"+M,function(aw){au.timer=setTimeout(at,1)})}}else{if(ar.update!==false){au.wrapper.on("touchend"+M+" "+U+M,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(aw){aw.preventDefault();au.editRow(F(this).closest("tr"))})}}if(ar.destroy!==false){au.wrapper.on("touchend"+M+" "+U+M,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(aw){aw.preventDefault();aw.stopPropagation();au.removeRow(F(this).closest("tr"))})}else{au.wrapper.on("touchend"+M+" "+U+M,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(aw){if(!au._confirmation()){aw.preventDefault()}})}}},editCell:function(ar){var av=this,au=av.columns[av.cellIndex(ar)],at=av._modelForContainer(ar);if(at&&(!at.editable||at.editable(au.field))&&!au.command&&au.field){av._attachModelChange(at);av._editContainer=ar;av.editable=ar.addClass("k-edit-cell").kendoEditable({fields:{field:au.field,format:au.format,editor:au.editor,values:au.values},model:at,change:function(aw){if(av.trigger(V,{values:aw.values,container:ar,model:at})){aw.preventDefault()}}}).data("kendoEditable");ar.parent().addClass("k-grid-edit-row");av.trigger(T,{container:ar,model:at})}},_destroyEditable:function(){var at=this;var ar=function(){if(at.editable){at._detachModelChange();at.editable.destroy();at.editable=null;at._editContainer=null}};if(at.editable){if(at._editMode()==="popup"){at._editContainer.data("kendoWindow").bind("deactivate",ar).close()}else{ar()}}},_attachModelChange:function(ar){var at=this;at._modelChangeHandler=function(au){at._modelChange({field:au.field,model:this})};ar.bind("change",at._modelChangeHandler)},_detachModelChange:function(){var au=this,ar=au._editContainer,at=au._modelForContainer(ar);if(at){at.unbind(D,au._modelChangeHandler)}},closeCell:function(){var av=this,ar=av._editContainer.removeClass("k-edit-cell"),aw=ar.closest("tr").attr(H.attr("uid")),au=av.columns[av.cellIndex(ar)],at=av.dataSource.getByUid(aw);ar.parent().removeClass("k-grid-edit-row");av._destroyEditable();av._displayCell(ar,au,at);if(ar.hasClass("k-dirty-cell")){F('<span class="k-dirty"/>').prependTo(ar)}},_displayCell:function(ar,aw,au){var ax=this,ay={storage:{},count:0},av=l({},H.Template,ax.options.templateSettings),at=H.template(ax._cellTmpl(aw,ay),av);if(ay.count>0){at=aa(at,ay.storage)}ar.empty().html(at(au))},removeRow:function(av){var at=this,ar,au;if(!at._confirmation()){return}av=F(av).hide();ar=at._modelForContainer(av);if(ar&&!at.trigger(e,{row:av,model:ar})){at.dataSource.remove(ar);au=at._editMode();if(au==="inline"||au==="popup"){at.dataSource.sync()}}},_editMode:function(){var at="incell",ar=this.options.editable;if(ar!==true){if(typeof ar=="string"){at=ar}else{at=ar.mode||at}}return at},editRow:function(ax){var au=this,at=au._modelForContainer(ax),aw=au._editMode(),av=au.options.navigatable,ar;au.cancelRow();if(at){au._attachModelChange(at);if(aw==="popup"){au._createPopupEditor(at)}else{if(aw==="inline"){au._createInlineEditor(ax,at)}else{if(aw==="incell"){F(ax).children(S).each(function(){var ay=F(this);var az=au.columns[ay.index()];at=au._modelForContainer(ay);if(at&&(!at.editable||at.editable(az.field))&&az.field){au.editCell(ay);return false}})}}}ar=au._editContainer;ar.on("touchend"+M+" "+U+M,"a.k-grid-cancel",function(az){az.preventDefault();az.stopPropagation();var ay=au.items().index(F(au.current()).parent());au.cancelRow();if(av){au.current(au.items().eq(ay).children().filter(g).first());au.table.focus()}});ar.on("touchend"+M+" "+U+M,"a.k-grid-update",function(ay){ay.preventDefault();ay.stopPropagation();au.saveRow()})}},_createPopupEditor:function(au){var ay=this,aA="<div "+H.attr("uid")+'="'+au.uid+'"><div class="k-edit-form-container">',ar,av,aE=[],aD,aw,az,aH,aB,aF,aG=ay.options.editable,aJ=aG.template,at=ao(aG)?aG.window:{},aI=l({},H.Template,ay.options.templateSettings);if(aJ){if(typeof aJ===Z){aJ=window.unescape(aJ)}aA+=(H.template(aJ,aI))(au);for(aD=0,aw=ay.columns.length;aD<aw;aD++){ar=ay.columns[aD];if(ar.command){av=K(ar.command,"edit")}}}else{for(aD=0,aw=ay.columns.length;aD<aw;aD++){ar=ay.columns[aD];if(!ar.command){aA+='<div class="k-edit-label"><label for="'+ar.field+'">'+(ar.title||ar.field||"")+"</label></div>";if((!au.editable||au.editable(ar.field))&&ar.field){aE.push({field:ar.field,format:ar.format,editor:ar.editor,values:ar.values});aA+="<div "+H.attr("container-for")+'="'+ar.field+'" class="k-edit-field"></div>'}else{var ax={storage:{},count:0};az=H.template(ay._cellTmpl(ar,ax),aI);if(ax.count>0){az=aa(az,ax.storage)}aA+='<div class="k-edit-field">'+az(au)+"</div>"}}else{if(ar.command){av=K(ar.command,"edit")}}}}if(av){if(ao(av)){if(av.text&&ao(av.text)){aH=av.text.update;aB=av.text.cancel}if(av.attr){aF=av.attr}}}aA+=ay._createButton({name:"update",text:aH,attr:aF})+ay._createButton({name:"canceledit",text:aB,attr:aF});aA+="</div></div>";var aC=ay._editContainer=F(aA).appendTo(ay.wrapper).eq(0).kendoWindow(l({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(aK){if(aK.userTriggered){ay.cancelRow()}}},at));ay.editable=ay._editContainer.kendoEditable({fields:aE,model:au,clearContainer:false}).data("kendoEditable");aC.data("kendoWindow").center().open();ay.trigger(T,{container:aC,model:au})},_createInlineEditor:function(ay,au){var aw=this,av,at,ax,ar=[];ay.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){at=F(this);av=aw.columns[aw.cellIndex(at)];if(!av.command&&av.field&&(!au.editable||au.editable(av.field))){ar.push({field:av.field,format:av.format,editor:av.editor,values:av.values});at.attr("data-container-for",av.field);at.empty()}else{if(av.command){ax=K(av.command,"edit");if(ax){at.empty();var aB,aA,az;if(ao(ax)){if(ax.text&&ao(ax.text)){aB=ax.text.update;aA=ax.text.cancel}if(ax.attr){az=ax.attr}}F(aw._createButton({name:"update",text:aB,attr:az})+aw._createButton({name:"canceledit",text:aA,attr:az})).appendTo(at)}}}});aw._editContainer=ay;aw.editable=ay.addClass("k-grid-edit-row").kendoEditable({fields:ar,model:au,clearContainer:false}).data("kendoEditable");aw.trigger(T,{container:ay,model:au})},cancelRow:function(){var au=this,ar=au._editContainer,at;if(ar){at=au._modelForContainer(ar);au.dataSource.cancelChanges(at);if(au._editMode()!=="popup"){au._displayRow(ar)}else{au._displayRow(au.items().filter("["+H.attr("uid")+"="+at.uid+"]"))}au._destroyEditable()}},saveRow:function(){var av=this,ar=av._editContainer,at=av._modelForContainer(ar),au=av.editable;if(ar&&au&&au.end()&&!av.trigger(V,{container:ar,model:at})){av.dataSource.sync()}},_displayRow:function(au){var at=this,ar=at._modelForContainer(au);if(ar){au.replaceWith(F((au.hasClass("k-alt")?at.altRowTemplate:at.rowTemplate)(ar)))}},_showMessage:function(ar){return window.confirm(ar)},_confirmation:function(){var au=this,ar=au.options.editable,at=ar===true||typeof ar===Z?Y:ar.confirmation;return at!==false&&at!=null?au._showMessage(at):true},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var ar=this;if(((ar.editable&&ar.editable.end())||!ar.editable)&&!ar.trigger(R)){ar.dataSource.sync()}},addRow:function(){var aw=this,ay,ar=aw.dataSource,av=aw._editMode(),ax=aw.options.editable.createAt||"",az=ar.pageSize(),aA=ar.view()||[];if((aw.editable&&aw.editable.end())||!aw.editable){if(av!="incell"){aw.cancelRow()}ay=ar.indexOf(aA[0]);if(ax.toLowerCase()=="bottom"){ay+=aA.length;if(az&&!ar.options.serverPaging&&az<=aA.length){ay-=1}}if(ay<0){ay=0}var au=ar.insert(ay,{}),at=au.uid,aC=aw.table.find("tr["+H.attr("uid")+"="+at+"]"),aB=aC.children("td:not(.k-group-cell,.k-hierarchy-cell)").first();if((av==="inline"||av==="popup")&&aC.length){aw.editRow(aC)}else{if(aB.length){aw.editCell(aB)}}}},_toolbar:function(){var aw=this,ax=aw.wrapper,av=aw.options.toolbar,at=aw.options.editable,ar,au;if(av){ar=aw.wrapper.find(".k-grid-toolbar");if(!ar.length){av=p(av)?av({}):(typeof av===Z?av:aw._toolbarTmpl(av).replace(k,"\\#"));au=aa(H.template(av),aw);ar=F('<div class="k-toolbar k-grid-toolbar" />').html(au({})).prependTo(ax)}if(at&&at.create!==false){ar.on("touchend"+M+" "+U+M,".k-grid-add",function(ay){ay.preventDefault();aw.addRow()}).on("touchend"+M+" "+U+M,".k-grid-cancel-changes",function(ay){ay.preventDefault();aw.cancelChanges()}).on("touchend"+M+" "+U+M,".k-grid-save-changes",function(ay){ay.preventDefault();aw.saveChanges()})}}},_toolbarTmpl:function(at){var aw=this,ar,av,au="";if(v(at)){for(ar=0,av=at.length;ar<av;ar++){au+=aw._createButton(at[ar])}}return au},_createButton:function(av){var au=av.template||b,at=typeof av===Z?av:av.name||av.text,ar={className:"k-grid-"+(at||"").replace(/\s/g,""),text:at,imageClass:"",attr:"",iconClass:""};if(!at&&!(ao(av)&&av.template)){throw new Error("Custom commands should have name specified")}if(ao(av)){if(av.className){av.className+=" "+ar.className}if(at==="edit"&&ao(av.text)){av=l(true,{},av);av.text=av.text.edit}if(av.attr&&ao(av.attr)){av.attr=X(av.attr)}ar=l(true,ar,P[at],av)}else{ar=l(true,ar,P[at])}return H.template(au)(ar)},_groupable:function(){var ar=this;ar.table.on("touchend"+M+" "+U+M,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",function(av){var at=F(this),au=at.closest("tr");if(at.hasClass("k-i-collapse")){ar.collapseGroup(au)}else{ar.expandGroup(au)}av.preventDefault();av.stopPropagation()});ar._attachGroupable()},_attachGroupable:function(){var at=this,au=at.wrapper,ar=at.options.groupable;if(ar){if(!au.has("div.k-grouping-header")[0]){F("<div />").addClass("k-grouping-header").prependTo(au)}if(at.groupable){at.groupable.destroy()}at.groupable=new r(au,l({},ar,{draggable:at._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:at.dataSource,filter:".k-header:not(.k-group-cell,.k-hierarchy-cell):visible["+H.attr("field")+"]",allowDrag:at.options.reorderable}))}},_selectable:function(){var au=this,av,ar,at=au.options.selectable;if(at){av=typeof at===Z&&at.toLowerCase().indexOf("multiple")>-1;ar=typeof at===Z&&at.toLowerCase().indexOf("cell")>-1;au.selectable=new H.ui.Selectable(au.table,{filter:">"+(ar?ai:"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:true,multiple:av,change:function(){au.trigger(D)}});if(au.options.navigatable){au.table.on("keydown"+M,function(ax){var aw=au.current();if(ax.keyCode===y.SPACEBAR&&ax.target==au.table[0]&&!aw.is(".k-edit-cell,.k-header")&&aw.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){ax.preventDefault();ax.stopPropagation();aw=ar?aw:aw.parent();if(av){if(!ax.ctrlKey){au.selectable.clear()}else{if(aw.hasClass(x)){aw.removeClass(x);aw=null}}}else{au.selectable.clear()}au.selectable.value(aw)}})}}},clearSelection:function(){var ar=this;ar.selectable.clear();ar.trigger(D)},select:function(ar){var au=this,at=au.selectable;ar=F(ar);if(ar.length){if(!at.options.multiple){at.clear();ar=ar.first()}at.value(ar);return}return at.value()},current:function(ar){var au=this,av=au.options.scrollable,aw=au._current,at=au.table.add(au.thead.parent());if(ar!==n&&ar.length){if(!aw||aw[0]!==ar[0]){if(aw){aw.removeClass(L).removeAttr("id");at.removeAttr("aria-activedescendant")}ar.attr("id",au._cellId);au._current=ar.addClass(L);at.attr("aria-activedescendant",au._cellId);if(ar.length&&av){au._scrollTo(ar.parent()[0],au.content[0]);if(av.virtual){au._scrollTo(ar[0],au.content.find(">.k-virtual-scrollable-wrap")[0])}else{au._scrollTo(ar[0],au.content[0])}}}}return au._current},_removeCurrent:function(){if(this._current){this._current.removeClass(L);this._current=null}},_scrollTo:function(av,at){var az=av.tagName.toLowerCase()==="td",au=av[az?"offsetLeft":"offsetTop"],ar=av[az?"offsetWidth":"offsetHeight"],ay=at[az?"scrollLeft":"scrollTop"],ax=at[az?"clientWidth":"clientHeight"],aw=au+ar;at[az?"scrollLeft":"scrollTop"]=ay>au?au:(aw>(ay+ax)?(aw-ax):ay)},_navigatable:function(){var av=this,ar=aa(av.current,av),au=av.table,at=av.thead.parent(),aw=au;if(!av.options.navigatable){return}if(av.options.scrollable){aw=au.add(at);at.attr(w,-1)}at.on("keydown"+M,function(ax){if(ax.altKey&&ax.keyCode==y.DOWN){ar().find(".k-grid-filter, .k-header-column-menu").click();ax.stopImmediatePropagation()}}).find("a.k-link").attr("tabIndex",-1);au.attr(w,A.max(au.attr(w)||0,0)).on("mousedown"+M+" keydown"+M,".k-detail-cell",function(ax){if(ax.target!==ax.currentTarget){ax.stopImmediatePropagation()}});aw.on("mousedown"+M,B+">"+g,aa(ac,av)).on("focus"+M,function(ay){var ax=ar();if(ax&&ax.is(":visible")){ax.addClass(L)}else{ar(F(this).find(N))}if(this==au[0]){at.attr(w,-1);au.attr(w,0)}else{au.attr(w,-1);at.attr(w,0)}}).on("focusout"+M,function(ay){var ax=ar();if(ax){ax.removeClass(L)}}).on("keydown"+M,function(aE){var aK=aE.keyCode,aC=false,aH=!aE.isDefaultPrevented()&&!F(aE.target).is(":button,a,:input,a>.k-icon"),ay=av.options.pageable,ax=av.dataSource,aA=av._editMode()=="incell",aF,aL,aB,aG=aE.shiftKey,az=H.support.browser,aD=ar();if(aD&&aD.is("th")){aH=true}if(aH&&aK==y.UP){if(aD){aL=aD.parent().prevAll(B).first();if(!aL[0]){aL=av.thead.parent().focus().find(B).first()}aB=aD.index();aD=aL.children().eq(aB);if(!aD[0]||!aD.is(g)){aD=aL.children(g).first()}}else{aD=au.find(N)}aC=true;ar(aD)}else{if(aH&&aK==y.DOWN){if(aD){aL=aD.parent().nextAll(B).first();if(!aL[0]&&aD.is("th")){aL=av.tbody.parent().focus().end().find(B).first()}aB=aD.index();aD=aL.children().eq(aB);if(!aD[0]||!aD.is(g)){aD=aL.children(g).first()}}else{aD=au.find(N)}aC=true;ar(aD)}else{if(aH&&aK==y.LEFT){ar(aD?aD.prevAll(S+":first"):au.find(N));aC=true}else{if(aH&&aK==y.RIGHT){if(aD){if(aD.next()[0]){aD=aD.nextAll(S+":first")}}else{aD=au.find(N)}aC=true;ar(aD)}else{if(aH&&ay&&y.PAGEDOWN==aK){ax.page(ax.page()+1);aC=true}else{if(aH&&ay&&y.PAGEUP==aK){ax.page(ax.page()-1);aC=true}else{if(aK==y.ENTER||y.F2==aK){aD=aD?aD:au.find(N);if(aD.is("th")){aD.find(".k-link").click();aC=true}else{if(aD.parent().is(".k-master-row,.k-grouping-row")){aD.parent().find(".k-icon:first").click();aC=true}else{var aI=aD.find(":focusable:first");if(!aD.hasClass("k-edit-cell")&&aI[0]&&aD.hasClass("k-state-focused")){aI.focus();aC=true}else{if(av.options.editable&&!F(aE.target).is(":button,.k-button")){av._handleEditing(aD);aC=true}}}}}else{if(y.ESC==aK){if(aD&&F.contains(aD[0],document.activeElement)&&!aD.hasClass("k-edit-cell")&&!aD.parent().hasClass("k-grid-edit-row")){av.table[0].focus();aC=true}else{if(av._editContainer&&(!aD||av._editContainer.has(aD[0])||aD[0]===av._editContainer[0])){if(aA){av.closeCell()}else{aF=av.items().index(F(aD).parent());document.activeElement.blur();av.cancelRow();if(aF>=0){av.current(av.items().eq(aF).children().filter(g).first())}}if(az.msie&&parseInt(az.version,10)<9){document.body.focus()}au.focus();aC=true}}}else{if(y.TAB==aK){var aJ;aD=F(aD);if(av.options.editable&&aA){aJ=F(document.activeElement).closest(".k-edit-cell");if(aJ[0]&&aJ[0]!==aD[0]){aD=aJ}}aJ=aG?aD.prevAll(S+":first"):aD.nextAll(":visible:first");if(!aJ.length){aJ=aD.parent()[aG?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(S+(aG?":last":":first"))}if(!aD.is("th")&&aJ.length&&av.options.editable&&aA){av._handleEditing(aD,aJ);aC=true}}}}}}}}}}if(aC){aE.preventDefault();aE.stopPropagation()}})},_handleEditing:function(ax,ar){var au=this,at=F(document.activeElement),az=au._editMode(),aw=au._editContainer,ay,av;if(az=="incell"){av=ax.hasClass("k-edit-cell")}else{av=ax.parent().hasClass("k-grid-edit-row")}if(au.editable){if(F.contains(aw[0],at[0])){at.blur();if(H.support.browser.opera){at.change()}}if(!au.editable){au.table.focus();return}if(au.editable.end()){if(az=="incell"){au.closeCell()}else{au.saveRow();av=true}}else{if(az=="incell"){au.current(aw)}else{au.current(aw.children().filter(S).first())}ay=aw.find(":focusable:first")[0];if(ay){ay.focus()}return}}if(ar){au.current(ar)}au.table.focus();if((!av&&!ar)||ar){if(az=="incell"){au.editCell(au.current())}else{au.editRow(au.current().parent())}}},_wrapper:function(){var au=this,at=au.table,ar=au.options.height,av=au.element;if(!av.is("div")){av=av.wrap("<div/>").parent()}au.wrapper=av.addClass("k-grid k-widget");if(ar){au.wrapper.css(E,ar);at.css(E,"auto")}},_tbody:function(){var au=this,at=au.table,ar;ar=at.find(">tbody");if(!ar.length){ar=F("<tbody/>").appendTo(at)}au.tbody=ar},_scrollable:function(){var av=this,au,az,aB=av.options,aw=aB.scrollable,at=aw!==true&&aw.virtual&&!av.virtualScrollable,aA=!H.support.kineticScrollNeeded||at?H.support.scrollbar():0;if(aw){au=av.wrapper.children(".k-grid-header");if(!au[0]){au=F('<div class="k-grid-header" />').insertBefore(av.table)}au.css((ap?"padding-left":"padding-right"),aw.virtual?aA+1:aA);az=F('<table role="grid" cellspacing="0" />');az.append(av.thead);au.empty().append(F('<div class="k-grid-header-wrap" />').append(az));av.content=av.table.parent();if(av.content.is(".k-virtual-scrollable-wrap")){av.content=av.content.parent()}if(!av.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){av.content=av.table.wrap('<div class="k-grid-content" />').parent()}if(at){av.virtualScrollable=new s(av.content,{dataSource:av.dataSource,itemHeight:aa(av._averageRowHeight,av)})}av.scrollables=au.children(".k-grid-header-wrap");var ax=av.wrapper.find(".k-grid-footer"),ay=(ap&&F.browser.webkit)?aA:0;if(ax.length){av.scrollables=av.scrollables.add(ax.children(".k-grid-footer-wrap"))}if(aw.virtual){av.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+M,function(){av.scrollables.scrollLeft(this.scrollLeft+ay)})}else{av.content.bind("scroll"+M,function(){av.scrollables.scrollLeft(this.scrollLeft+ay)});var ar=H.touchScroller(av.content);if(ar&&ar.movable){ar.movable.bind("change",function(aC){av.scrollables.scrollLeft(-aC.sender.x)})}}}},_setContentHeight:function(){var av=this,at=av.options,ar=av.wrapper.innerHeight(),ax=av.wrapper.children(".k-grid-header"),aw=H.support.scrollbar();if(at.scrollable){ar-=ax.outerHeight();if(av.pager){ar-=av.pager.element.outerHeight()}if(at.groupable){ar-=av.wrapper.children(".k-grouping-header").outerHeight()}if(at.toolbar){ar-=av.wrapper.children(".k-grid-toolbar").outerHeight()}if(av.footerTemplate){ar-=av.wrapper.children(".k-grid-footer").outerHeight()}var au=function(aA){var az,ay;if(aA[0].style.height){return true}else{az=aA.height()}aA.height("auto");ay=aA.height();if(az!=ay){aA.height("");return true}aA.height("");return false};if(au(av.wrapper)){if(ar>aw*2){av.content.height(ar)}else{av.content.height(aw*2+1)}}}},_averageRowHeight:function(){var ar=this._rowHeight;this._rowHeight=ar=this.table.outerHeight()/this.table[0].rows.length;return ar},_dataSource:function(){var au=this,at=au.options,ar,av=at.dataSource;av=v(av)?{data:av}:av;if(ao(av)){l(av,{table:au.table,fields:au.columns});ar=at.pageable;if(ao(ar)&&ar.pageSize!==n){av.pageSize=ar.pageSize}}if(au.dataSource&&au._refreshHandler){au.dataSource.unbind(D,au._refreshHandler).unbind(af,au._requestStartHandler).unbind(I,au._errorHandler)}else{au._refreshHandler=aa(au.refresh,au);au._requestStartHandler=aa(au._requestStart,au);au._errorHandler=aa(au._error,au)}au.dataSource=O.create(av).bind(D,au._refreshHandler).bind(af,au._requestStartHandler).bind(I,au._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(ay){var ax=this,aw=ay.model,aB=ax.tbody.find("tr["+H.attr("uid")+"="+aw.uid+"]"),aA,at,au=aB.hasClass("k-alt"),av,az,ar;if(aB.children(".k-edit-cell").length&&!ax.options.rowTemplate){aB.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){aA=F(this);at=ax.columns[ax.cellIndex(aA)];if(at.field===ay.field){if(!aA.hasClass("k-edit-cell")){ax._displayCell(aA,at,aw);F('<span class="k-dirty"/>').prependTo(aA)}else{aA.addClass("k-dirty-cell")}}})}else{if(!aB.hasClass("k-grid-edit-row")){av=F((au?ax.altRowTemplate:ax.rowTemplate)(aw));aB.replaceWith(av);for(az=0,ar=ax.columns.length;az<ar;az++){at=ax.columns[az];if(at.field===ay.field){aA=av.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(az);F('<span class="k-dirty"/>').prependTo(aA)}}ax.trigger("itemChange",{item:av,data:aw,ns:Q})}}},_pageable:function(){var at=this,au,ar=at.options.pageable;if(ar){au=at.wrapper.children("div.k-grid-pager");if(!au.length){au=F('<div class="k-pager-wrap k-grid-pager"/>').appendTo(at.wrapper)}if(at.pager){at.pager.destroy()}if(typeof ar==="object"&&ar instanceof H.ui.Pager){at.pager=ar}else{at.pager=new H.ui.Pager(au,l({},ar,{dataSource:at.dataSource}))}}},_footer:function(){var aw=this,ay=aw.dataSource.aggregates(),av="",ar=aw.footerTemplate,at=aw.options,ax=aw.footer||aw.wrapper.find(".k-grid-footer");if(ar){ay=!J(ay)?ay:aj(aw.dataSource.aggregate());av=F(aw._wrapFooter(ar(ay)));if(ax.length){var au=av;ax.replaceWith(au);ax=aw.footer=au}else{if(at.scrollable){ax=aw.footer=at.pageable?av.insertBefore(aw.wrapper.children("div.k-grid-pager")):av.appendTo(aw.wrapper)}else{ax=aw.footer=av.insertBefore(aw.tbody)}}}else{if(ax&&!aw.footer){aw.footer=ax}}if(ax.length){if(at.scrollable){aw.scrollables=aw.scrollables.not(".k-grid-footer-wrap").add(aw.footer.attr("tabindex",-1).children(".k-grid-footer-wrap"))}if(at.resizable&&aw._footerWidth){ax.find("table").css("width",aw._footerWidth)}}},_wrapFooter:function(at){var au=this,ar="",av=!H.support.mobileOS?H.support.scrollbar():0;if(au.options.scrollable){ar=F('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table cellspacing="0"><tbody>'+at+"</tbody></table></div></div>");au._appendCols(ar.find("table"));ar.css((ap?"padding-left":"padding-right"),av);return ar}return'<tfoot class="k-grid-footer">'+at+"</tfoot>"},_columnMenu:function(){var aA=this,au,ay=aA.columns,ax,aC=aA.options,aw=aC.columnMenu,av,az,ar,at=function(){aA.thead.parent().focus()},aB;if(aw){if(typeof aw=="boolean"){aw={}}aA.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aD){ax=ay[aD];aB=F(this);if(!ax.command&&(ax.field||aB.attr("data-"+H.ns+"field"))){au=aB.data("kendoColumnMenu");if(au){au.destroy()}az=ax.sortable!==false&&aw.sortable!==false?aC.sortable:false;ar=aC.filterable&&ax.filterable!==false&&aw.filterable!==false?l({},ax.filterable,aC.filterable):false;av={dataSource:aA.dataSource,values:ax.values,columns:aw.columns,sortable:az,filterable:ar,messages:aw.messages,owner:aA,closeCallback:at};aB.kendoColumnMenu(av)}})}},_filterable:function(){var au=this,at=au.columns,ar,ax,aw=function(){au.thead.parent().focus()},av=au.options.filterable;if(av&&!au.options.columnMenu){au.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(ay){ar=F(this);if(at[ay].filterable!==false&&!at[ay].command&&(at[ay].field||ar.attr("data-"+H.ns+"field"))){ax=ar.data("kendoFilterMenu");if(ax){ax.destroy()}ar.kendoFilterMenu(l(true,{},av,at[ay].filterable,{dataSource:au.dataSource,values:at[ay].values,closeCallback:aw}))}})}},_sortable:function(){var au=this,ar=au.columns,at,av=au.options.sortable;if(av){au.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aw){at=ar[aw];if(at.sortable!==false&&!at.command&&at.field){F(this).attr("data-"+H.ns+"field",at.field).kendoSortable(l({},av,{dataSource:au.dataSource,aria:true}))}})}},_columns:function(ar){var au=this,at=au.table,aw,av=at.find("col"),ax=au.options.dataSource;ar=ar.length?ar:z(at.find("th"),function(aB,ay){aB=F(aB);var aF=aB.attr(H.attr("sortable")),aC=aB.attr(H.attr("filterable")),aA=aB.attr(H.attr("type")),az=aB.attr(H.attr("groupable")),aD=aB.attr(H.attr("field")),aE=aB.attr(H.attr("menu"));if(!aD){aD=aB.text().replace(/\s|[^A-z0-9]/g,"")}return{field:aD,type:aA,sortable:aF!=="false",filterable:aC!=="false",groupable:az!=="false",menu:aE,template:aB.attr(H.attr("template")),width:av.eq(ay).css("width")}});aw=!(au.table.find("tbody tr").length>0&&(!ax||!ax.transport));au.columns=z(ar,function(ay){ay=typeof ay===Z?{field:ay}:ay;if(ay.hidden){ay.attributes=aq(ay.attributes);ay.footerAttributes=aq(ay.footerAttributes);ay.headerAttributes=aq(ay.headerAttributes)}return l({encoded:aw},ay)})},_groups:function(){var ar=this.dataSource.group();return ar?ar.length:0},_tmpl:function(aC,ax){var ay=this,aw=l({},H.Template,ay.options.templateSettings),aD,at=ay.columns.length,aE,ar={storage:{},count:0},av,aA,aB=ay._hasDetails(),az=[],au=ay._groups();if(!aC){aC="<tr";if(ax){az.push("k-alt")}if(aB){az.push("k-master-row")}if(az.length){aC+=' class="'+az.join(" ")+'"'}if(at){aC+=" "+H.attr("uid")+'="#='+aw.paramName+'.uid#"'}aC+=" role='row'>";if(au>0){aC+=ag(au)}if(aB){aC+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'}for(aD=0;aD<at;aD++){av=ay.columns[aD];aE=av.template;aA=typeof aE;aC+="<td"+X(av.attributes)+" role='gridcell'>";aC+=ay._cellTmpl(av,ar);aC+="</td>"}aC+="</tr>"}aC=H.template(aC,aw);if(ar.count>0){return aa(aC,ar.storage)}return aC},_headerCellText:function(av){var aw=this,au=l({},H.Template,aw.options.templateSettings),at=av.headerTemplate,ar=typeof(at),ax=av.title||av.field||"";if(ar===c){ax=H.template(at,au)({})}else{if(ar===Z){ax=at}}return ax},_cellTmpl:function(au,ar){var ay=this,av=l({},H.Template,ay.options.templateSettings),aE=au.template,aw=av.paramName,aB=au.field,ax="",aD,at,aC=au.format,aA=typeof aE,az=au.values;if(au.command){if(v(au.command)){for(aD=0,at=au.command.length;aD<at;aD++){ax+=ay._createButton(au.command[aD])}return ax.replace(k,"\\#")}return ay._createButton(au.command).replace(k,"\\#")}if(aA===c){ar.storage["tmpl"+ar.count]=aE;ax+="#=this.tmpl"+ar.count+"("+aw+")#";ar.count++}else{if(aA===Z){ax+=aE}else{if(az&&az.length&&ao(az[0])&&"value" in az[0]){ax+="#var v ="+H.stringify(az)+"#";ax+="#for (var idx=0,length=v.length;idx<length;idx++) {#";ax+="#if (v[idx].value == ";if(!av.useWithBlock){ax+=aw+"."}ax+=aB;ax+=") { #";ax+="${v[idx].text}";ax+="#break;#";ax+="#}#";ax+="#}#"}else{ax+=au.encoded?"${":"#=";if(aC){ax+='kendo.format("'+aC.replace(a,"\\$1")+'",'}if(aB){aB=aw+"."+aB;ax+=aB+"==null?'':"+aB}else{ax+="''"}if(aC){ax+=")"}ax+=au.encoded?"}":"#"}}}return ax},_templates:function(){var au=this,at=au.options,av=au.dataSource,ar=av.group(),ax=au.footer||au.wrapper.find(".k-grid-footer"),aw=av.aggregate();au.rowTemplate=au._tmpl(at.rowTemplate);au.altRowTemplate=au._tmpl(at.altRowTemplate||at.rowTemplate,true);if(au._hasDetails()){au.detailTemplate=au._detailTmpl(at.detailTemplate||"")}if((!J(aw)&&!ax.length)||ak(au.columns,function(ay){return ay.footerTemplate}).length){au.footerTemplate=au._footerTmpl(aw,"footerTemplate","k-footer-template")}if(ar&&ak(au.columns,function(ay){return ay.groupFooterTemplate}).length){aw=F.map(ar,function(ay){return ay.aggregates});au.groupFooterTemplate=au._footerTmpl(aw,"groupFooterTemplate","k-group-footer")}},_footerTmpl:function(ax,ay,aF){var aC=this,aH=l({},H.Template,aC.options.templateSettings),aA=aH.paramName,aD="",aE,aw,at=aC.columns,aJ,av,aG={},aB=0,ar={},aI=aC._groups(),az=aj(ax),au;aD+='<tr class="'+aF+'">';if(aI>0){aD+=ag(aI)}if(aC._hasDetails()){aD+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(aE=0,aw=aC.columns.length;aE<aw;aE++){au=at[aE];aJ=au[ay];av=typeof aJ;aD+="<td"+X(au.footerAttributes)+">";if(aJ){if(av!==c){ar=az[au.field]?l({},aH,{paramName:aA+"."+au.field}):{};aJ=H.template(aJ,ar)}aG["tmpl"+aB]=aJ;aD+="#=this.tmpl"+aB+"("+aA+")#";aB++}else{aD+="&nbsp;"}aD+="</td>"}aD+="</tr>";aD=H.template(aD,aH);if(aB>0){return aa(aD,aG)}return aD},_detailTmpl:function(aA){var ay=this,ax="",au=l({},H.Template,ay.options.templateSettings),av=au.paramName,aB={},aw=0,at=ay._groups(),ar=al(ay.columns).length,az=typeof aA;ax+='<tr class="k-detail-row">';if(at>0){ax+=ag(at)}ax+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(ar?' colspan="'+ar+'"':"")+">";if(az===c){aB["tmpl"+aw]=aA;ax+="#=this.tmpl"+aw+"("+av+")#";aw++}else{ax+=aA}ax+="</td></tr>";ax=H.template(ax,au);if(aw>0){return aa(ax,aB)}return ax},_hasDetails:function(){var ar=this;return ar.options.detailTemplate!==null||(ar._events[q]||[]).length},_details:function(){var ar=this;ar.table.on("touchend"+M+" "+U+M,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(aw){var at=F(this),aA=at.hasClass("k-plus"),av=at.closest("tr.k-master-row"),ax,az=ar.detailTemplate,au,ay=ar._hasDetails();at.toggleClass("k-plus",!aA).toggleClass("k-minus",aA);if(ay&&!av.next().hasClass("k-detail-row")){au=ar.dataItem(av);F(az(au)).addClass(av.hasClass("k-alt")?"k-alt":"").insertAfter(av);ar.trigger(q,{masterRow:av,detailRow:av.next(),data:au,detailCell:av.next().find(".k-detail-cell")})}ax=av.next();ar.trigger(aA?u:C,{masterRow:av,detailRow:ax});ax.toggle(aA);if(ar._current){ar._current.attr("aria-expanded",aA)}aw.preventDefault();return false})},dataItem:function(ar){return this._data[this.tbody.find("> tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)").index(F(ar))]},expandRow:function(ar){F(ar).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(ar){F(ar).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var aw=this,au=aw.columns,az=aw._hasDetails()&&au.length,aA,at,av="",ax=aw.table.find(">thead"),ay,aB,ar;if(!ax.length){ax=F("<thead/>").insertBefore(aw.tbody)}ay=aw.element.find("tr:has(th):first");if(!ay.length){ay=ax.children().first();if(!ay.length){ay=F("<tr/>")}}if(!ay.children().length){if(az){av+='<th class="k-hierarchy-cell">&nbsp;</th>'}for(aA=0,at=au.length;aA<at;aA++){ar=au[aA];aB=aw._headerCellText(ar);if(!ar.command){av+="<th role='columnheader' "+H.attr("field")+"='"+(ar.field||"")+"' ";if(ar.title){av+=H.attr("title")+'="'+ar.title.replace(/'/g,"'")+'" '}if(ar.groupable!==n){av+=H.attr("groupable")+"='"+ar.groupable+"' "}if(ar.aggregates){av+=H.attr("aggregates")+"='"+ar.aggregates+"'"}av+=X(ar.headerAttributes);av+=">"+aB+"</th>"}else{av+="<th"+X(ar.headerAttributes)+">"+aB+"</th>"}}ay.html(av)}else{if(az&&!ay.find(".k-hierarchy-cell")[0]){ay.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}}ay.find("th").addClass("k-header");if(!aw.options.scrollable){ax.addClass("k-grid-header")}ay.find("script").remove().end().appendTo(ax);aw.thead=ax;aw._sortable();aw._filterable();aw._scrollable();aw._updateCols();aw._resizable();aw._draggable();aw._reorderable();if(aw.groupable){aw._attachGroupable()}aw._columnMenu()},_updateCols:function(){var ar=this;ar._appendCols(ar.thead.parent().add(ar.table))},_appendCols:function(at){var ar=this;ad(at,al(ar.columns),ar._hasDetails(),ar._groups())},_autoColumns:function(at){if(at&&at.toJSON){var ar=this,au;at=at.toJSON();for(au in at){ar.columns.push({field:au})}ar._thead();ar._templates()}},_rowsHtml:function(ax){var aw=this,at="",ar,av,ay=aw.rowTemplate,au=aw.altRowTemplate;for(ar=0,av=ax.length;ar<av;ar++){if(ar%2){at+=au(ax[ar])}else{at+=ay(ax[ar])}aw._data.push(ax[ar])}return at},_groupRowHtml:function(aE,au,ar){var az=this,ay="",aC,at,aA=aE.field,av=ak(az.columns,function(aH){return aH.field==aA})[0]||{},aB=av.format?H.format(av.format,aE.value):aE.value,aD=av.groupHeaderTemplate,aF=(av.title||aA)+": "+aB,ax=l({},{field:aE.field,value:aE.value},aE.aggregates[aE.field]),aw=az._groupAggregatesDefaultObject||{},aG=aE.items;if(aD){aF=typeof aD===c?aD(ax):H.template(aD)(ax)}ay+='<tr class="k-grouping-row">'+ag(ar)+'<td colspan="'+au+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+aF+"</p></td></tr>";if(aE.hasSubgroups){for(aC=0,at=aG.length;aC<at;aC++){ay+=az._groupRowHtml(aG[aC],au-1,ar+1)}}else{ay+=az._rowsHtml(aG)}if(az.groupFooterTemplate){ay+=az.groupFooterTemplate(l(aw,aE.aggregates))}return ay},collapseGroup:function(au){au=F(au).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var aw=au.find(".k-group-cell").length,ar=1,av,at;au.find("td:first").attr("aria-expanded",false);au.nextAll("tr").each(function(){at=F(this);av=at.find(".k-group-cell").length;if(at.hasClass("k-grouping-row")){ar++}else{if(at.hasClass("k-group-footer")){ar--}}if(av<=aw||(at.hasClass("k-group-footer")&&ar<0)){return false}at.hide()})},expandGroup:function(av){av=F(av).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var at=this,ax=av.find(".k-group-cell").length,au,aw,ar=1;av.find("td:first").attr("aria-expanded",true);av.nextAll("tr").each(function(){au=F(this);aw=au.find(".k-group-cell").length;if(aw<=ax){return false}if(aw==ax+1&&!au.hasClass("k-detail-row")){au.show();if(au.hasClass("k-grouping-row")&&au.find(".k-icon").hasClass("k-i-collapse")){at.expandGroup(au)}if(au.hasClass("k-master-row")&&au.find(".k-icon").hasClass("k-minus")){au.next().show()}}if(au.hasClass("k-grouping-row")){ar++}if(au.hasClass("k-group-footer")){if(ar==1){au.show()}else{ar--}}})},_updateHeader:function(ar){var av=this,at=av.thead.find("th.k-group-cell"),au=at.length;if(ar>au){F(new Array(ar-au+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(av.thead.find("tr"))}else{if(ar<au){au=au-ar;F(ak(at,function(ax,aw){return au>aw})).remove()}}},_firstDataItem:function(at,ar){if(at&&ar){if(at.hasSubgroups){at=this._firstDataItem(at.items[0],ar)}else{at=at.items[0]}}return at},hideColumn:function(av){var ax=this,aF,aE,aC,aD,aB,az,aw,ar=0,at,aA=ax.footer||ax.wrapper.find(".k-grid-footer"),au=ax.columns,ay;if(typeof av=="number"){av=au[av]}else{av=ak(au,function(aG){return aG.field===av})[0]}if(!av||av.hidden){return}ay=ah(av,al(au));av.hidden=true;av.attributes=aq(av.attributes);av.footerAttributes=aq(av.footerAttributes);av.headerAttributes=aq(av.headerAttributes);ax._templates();ax._updateCols();ax.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell):visible").eq(ay).hide();if(aA){ax._appendCols(aA.find("table:first"));aA.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell):visible").eq(ay).hide()}aF=ax.tbody.children();for(aB=0,at=aF.length;aB<at;aB+=1){aE=aF.eq(aB);if(aE.is(".k-grouping-row,.k-detail-row")){aC=aE.children(":not(.k-group-cell):first,.k-detail-cell").last();aC.attr("colspan",parseInt(aC.attr("colspan"),10)-1)}else{if(aE.hasClass("k-grid-edit-row")&&(aC=aE.children(".k-edit-container")[0])){aC=F(aC);aC.attr("colspan",parseInt(aC.attr("colspan"),10)-1);aC.find("col").eq(ay).remove();aE=aC.find("tr:first")}aE.children(":not(.k-group-cell,.k-hierarchy-cell):visible").eq(ay).hide()}}az=ax.thead.prev().find("col");for(aB=0,at=az.length;aB<at;aB+=1){aw=az[aB].style.width;if(aw&&aw.indexOf("%")==-1){ar+=parseInt(aw,10)}else{ar=0;break}}aD=F(">.k-grid-header table:first,>.k-grid-footer table:first",ax.wrapper).add(ax.table);if(ar){aD.width(ar)}if(F.browser.msie&&parseInt(F.browser.version,10)==8){aD.css("display","inline-table");setTimeout(function(){aD.css("display","table")},1)}ax.trigger(o,{column:av})},showColumn:function(av){var ax=this,aF,aB,at,aE,aC,aD,ar,aw,az,au=ax.columns,aA=ax.footer||ax.wrapper.find(".k-grid-footer"),ay;if(typeof av=="number"){av=au[av]}else{av=ak(au,function(aG){return aG.field===av})[0]}if(!av||!av.hidden){return}ay=ah(av,au);av.hidden=false;av.attributes=an(av.attributes);av.footerAttributes=an(av.footerAttributes);av.headerAttributes=an(av.headerAttributes);ax._templates();ax._updateCols();ax.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell)").eq(ay).show();if(aA){ax._appendCols(aA.find("table:first"));aA.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell)").eq(ay).show()}aF=ax.tbody.children();for(aB=0,at=aF.length;aB<at;aB+=1){aE=aF.eq(aB);if(aE.is(".k-grouping-row,.k-detail-row")){aC=aE.children(":not(.k-group-cell):first,.k-detail-cell").last();aC.attr("colspan",parseInt(aC.attr("colspan"),10)+1)}else{if(aE.hasClass("k-grid-edit-row")&&(aC=aE.children(".k-edit-container")[0])){aC=F(aC);aC.attr("colspan",parseInt(aC.attr("colspan"),10)+1);ad(aC.find(">form>table"),al(au),false,0);aE=aC.find("tr:first")}aE.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(ay).show()}}aD=F(">.k-grid-header table:first,>.k-grid-footer table:first",ax.wrapper).add(ax.table);if(!av.width){aD.width("")}else{ar=0;az=ax.thead.prev().find("col");for(aB=0,at=az.length;aB<at;aB+=1){aw=az[aB].style.width;if(aw.indexOf("%")>-1){ar=0;break}ar+=parseInt(aw,10)}if(ar){aD.width(ar)}}ax.trigger(i,{column:av})},_progress:function(ar){var au=this,at=au.element.is("table")?au.element.parent():(au.content&&au.content.length?au.content:au.element);H.ui.progress(at,ar)},refresh:function(aC){var az=this,ar,aF,ay="",av=az.dataSource.view(),aD=az.options.navigatable,aw,aE,aB,aA=F(az.current()),ax=false,au=(az.dataSource.group()||[]).length,at=au+al(az.columns).length;if(aC&&aC.action==="itemchange"&&az.editable){return}aC=aC||{};if(az.trigger("dataBinding",{action:aC.action||"rebind",index:aC.index,items:aC.items})){return}if(aD&&(az.table[0]===document.activeElement||F.contains(az.table[0],document.activeElement))){ax=aA.is("th");aB=0;if(ax){aB=az.thead.find("th:not(.k-group-cell)").index(aA)}}az._destroyEditable();az._progress(false);az._data=[];if(!az.columns.length){az._autoColumns(az._firstDataItem(av[0],au));at=au+az.columns.length}az._group=au>0||az._group;if(az._group){az._templates();az._updateCols();az._updateHeader(au);az._group=au>0}if(au>0){if(az.detailTemplate){at++}if(az.groupFooterTemplate){az._groupAggregatesDefaultObject=aj(az.dataSource.aggregate())}for(aF=0,ar=av.length;aF<ar;aF++){ay+=az._groupRowHtml(av[aF],at,0)}}else{ay+=az._rowsHtml(av)}if(am){az.tbody[0].innerHTML=ay}else{aE=document.createElement("div");aE.innerHTML="<table><tbody>"+ay+"</tbody></table>";aw=aE.firstChild.firstChild;az.table[0].replaceChild(aw,az.tbody[0]);az.tbody=F(aw)}az._footer();az._setContentHeight();if(aB>=0){az._removeCurrent();if(!ax){az.current(az.items().eq(aB).children().filter(S).first())}else{az.current(az.thead.find("th:not(.k-group-cell)").eq(aB))}az._current.closest("table")[0].focus()}az.trigger(j)}});function K(at,au){var ar,av,aw;if(typeof at===Z&&at===au){return at}if(ao(at)&&at.name===au){return at}if(v(at)){for(ar=0,av=at.length;ar<av;ar++){aw=at[ar];if((typeof aw===Z&&aw===au)||(aw.name===au)){return aw}}}return null}function ac(au){var at=F(au.currentTarget),ar=at.closest("table")[0];if(ar!==this.table[0]&&ar!==this.thead.parent()[0]){return}this.current(at);if(at.is("th")||!F(au.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input")){setTimeout(function(){ar.focus()})}if(at.is("th")){au.preventDefault()}}Q.plugin(G);Q.plugin(s)})(window.kendo.jQuery);(function(e,h){var q=window.kendo,n="change",r="dataBound",p="dataBinding",c=q.ui.Widget,o=q.keys,u=">*",v="requestStart",j="error",k="k-state-focused",g="k-state-selected",x="k-edit-item",m="string",w="edit",l="remove",b="save",f="click",t=".kendoListView",s=e.proxy,i=q.ui.progress,d=q.data.DataSource;var a=c.extend({init:function(z,y){var A=this;y=e.isArray(y)?{dataSource:y}:y;c.fn.init.call(A,z,y);y=A.options;A.wrapper=z=A.element;if(z[0].id){A._itemId=z[0].id+"_lv_active"}A._element();A._dataSource();A.template=q.template(y.template||"");A.altTemplate=q.template(y.altTemplate||y.template);A.editTemplate=q.template(y.editTemplate||"");A._navigatable();A._selectable();A._pageable();A._crudHandlers();if(A.options.autoBind){A.dataSource.fetch()}q.notify(A)},events:[n,p,r,w,l,b],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,template:"",altTemplate:"",editTemplate:""},_item:function(y){return this.element.children()[y]()},items:function(){return this.element.children()},setDataSource:function(y){this.options.dataSource=y;this._dataSource();if(this.options.autoBind){y.fetch()}},_unbindDataSource:function(){var y=this;y.dataSource.unbind(n,y._refreshHandler).unbind(v,y._requestStartHandler).unbind(j,y._errorHandler)},_dataSource:function(){var y=this;if(y.dataSource&&y._refreshHandler){y._unbindDataSource()}else{y._refreshHandler=s(y.refresh,y);y._requestStartHandler=s(y._requestStart,y);y._errorHandler=s(y._error,y)}y.dataSource=d.create(y.options.dataSource).bind(n,y._refreshHandler).bind(v,y._requestStartHandler).bind(j,y._errorHandler)},_requestStart:function(){i(this.element,true)},_error:function(){i(this.element,false)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(C){var B=this,F=B.dataSource.view(),z,D,I,A="",G,y,H=B.template,E=B.altTemplate;if(C&&C.action==="itemchange"){if(!B.editable){z=C.items[0];G=e.inArray(z,F);if(G>=0){I=e(H(z)).attr(q.attr("uid"),z.uid);B.items().eq(G).replaceWith(I);B.trigger("itemChange",{item:I,data:z})}}return}C=C||{};if(B.trigger(p,{action:C.action||"rebind",items:C.items,index:C.index})){return}B._destroyEditable();for(G=0,y=F.length;G<y;G++){if(G%2){A+=E(F[G])}else{A+=H(F[G])}}B.element.html(A);D=B.items();for(G=0,y=F.length;G<y;G++){D.eq(G).attr(q.attr("uid"),F[G].uid).attr("role","option").attr("aria-selected","false")}if(B.element[0]===document.activeElement&&B.options.navigatable){B.current(D.eq(0))}B.trigger(r)},_pageable:function(){var B=this,y=B.options.pageable,A,z;if(e.isPlainObject(y)){z=y.pagerId;A=e.extend({},y,{dataSource:B.dataSource,pagerId:null});B.pager=new q.ui.Pager(e("#"+z),A)}},_selectable:function(){var z=this,B,A,y=z.options.selectable,C=z.options.navigatable;if(y){B=typeof y===m&&y.toLowerCase().indexOf("multiple")>-1;if(B){z.element.attr("aria-multiselectable",true)}z.selectable=new q.ui.Selectable(z.element,{aria:true,multiple:B,filter:u,change:function(){z.trigger(n)}});if(C){z.element.on("keydown"+t,function(D){if(D.keyCode===o.SPACEBAR){A=z.current();if(D.target==D.currentTarget){D.preventDefault()}if(B){if(!D.ctrlKey){z.selectable.clear()}else{if(A&&A.hasClass(g)){A.removeClass(g);return}}}else{z.selectable.clear()}z.selectable.value(A)}})}}},current:function(z){var A=this,y=A.element,B=A._current;if(z===h){return B}if(B){B.removeClass(k).removeAttr("id");y.removeAttr("aria-activedescendant")}if(z&&z[0]){A._scrollTo(z[0]);y.attr("aria-activedescendant",A._itemId);z.addClass(k).attr("id",A._itemId)}A._current=z},_scrollTo:function(A){var B=this,z,C=false,D="scroll";if(B.wrapper.css("overflow")=="auto"||B.wrapper.css("overflow")==D){z=B.wrapper[0]}else{z=window;C=true}var y=function(H,G){var E=C?e(A).offset()[H.toLowerCase()]:A["offset"+H],I=A["client"+G],J=e(z)[D+H](),F=e(z)[G.toLowerCase()]();if(E+I>J+F){e(z)[D+H](E+I-F)}else{if(E<J){e(z)[D+H](E)}}};y("Top","Height");y("Left","Width")},_navigatable:function(){var A=this,B=A.options.navigatable,y=A.element,z=function(C){A.current(e(C.currentTarget));if(!e(C.target).is(":button,a,:input,a>.k-icon,textarea")){y.focus()}};if(B){A._tabindex();y.on("focus"+t,function(){var C=A._current;if(!C||!C.is(":visible")){C=A._item("first")}A.current(C)}).on("focusout"+t,function(){if(A._current){A._current.removeClass(k)}}).on("keydown"+t,function(F){var L=F.keyCode,G=A.current(),H=e(F.target),J=!H.is(":button,textarea,a,a>.t-icon,input"),D=H.is(":text"),I=q.preventDefault,E=y.find("."+x),K;if((!J&&!D&&o.ESC!=L)||(D&&o.ESC!=L&&o.ENTER!=L)){return}if(o.UP===L||o.LEFT===L){if(G){G=G.prev()}A.current(!G||!G[0]?A._item("last"):G);I(F)}else{if(o.DOWN===L||o.RIGHT===L){if(G){G=G.next()}A.current(!G||!G[0]?A._item("first"):G);I(F)}else{if(o.PAGEUP===L){A.current(null);A.dataSource.page(A.dataSource.page()-1);I(F)}else{if(o.PAGEDOWN===L){A.current(null);A.dataSource.page(A.dataSource.page()+1);I(F)}else{if(o.HOME===L){A.current(A._item("first"));I(F)}else{if(o.END===L){A.current(A._item("last"));I(F)}else{if(o.ENTER===L){if(E.length!==0&&(J||D)){K=A.items().index(E);document.activeElement.blur();A.save();var C=function(){A.element.trigger("focus");A.current(A.items().eq(K))};A.one("dataBound",C)}else{if(A.options.editTemplate!==""){A.edit(G)}}}else{if(o.ESC===L){E=y.find("."+x);if(E.length===0){return}K=A.items().index(E);A.cancel();A.element.trigger("focus");A.current(A.items().eq(K))}}}}}}}}});y.on("mousedown"+t+" touchstart"+t,u,s(z,A))}},clearSelection:function(){var y=this;y.selectable.clear();y.trigger(n)},select:function(y){var A=this,z=A.selectable;y=e(y);if(y.length){if(!z.options.multiple){z.clear();y=y.first()}z.value(y);return}return z.value()},_destroyEditable:function(){var y=this;if(y.editable){y.editable.destroy();delete y.editable}},_modelFromElement:function(z){var y=z.attr(q.attr("uid"));return this.dataSource.getByUid(y)},_closeEditable:function(D){var B=this,z=B.editable,C,y,A=true;if(z){if(D){A=z.end()}if(A){C=B._modelFromElement(z.element);y=e(B.template(C)).attr(q.attr("uid"),C.uid);B._destroyEditable();z.element.replaceWith(y)}}return A},edit:function(A){var z=this,B=z._modelFromElement(A),y=e(z.editTemplate(B)).addClass(x);z.cancel();y.attr(q.attr("uid"),B.uid);A.replaceWith(y);z.editable=y.kendoEditable({model:B,clearContainer:false,errorTemplate:false}).data("kendoEditable");z.trigger(w,{model:B,item:y})},save:function(){var A=this,z=A.editable.element,y=A._modelFromElement(z);if(!A.trigger(b,{model:y,item:z})&&A._closeEditable(true)){A.dataSource.sync()}},remove:function(z){var y=this,B=y.dataSource,A=y._modelFromElement(z);if(!y.trigger(l,{model:A,item:z})){z.hide();B.remove(A);B.sync()}},add:function(){var z=this,A=z.dataSource,y=A.indexOf((A.view()||[])[0]);if(y<0){y=0}z.cancel();A.insert(y,{});z.edit(z.element.children().first())},cancel:function(){var y=this,z=y.dataSource;if(y.editable){z.cancelChanges(y._modelFromElement(y.editable.element));y._closeEditable(false)}},_crudHandlers:function(){var y=this,z="touchend"+t+" "+f+t;y.element.on(z,".k-edit-button",function(B){var A=e(this).closest("["+q.attr("uid")+"]");y.edit(A);B.preventDefault()});y.element.on(z,".k-delete-button",function(B){var A=e(this).closest("["+q.attr("uid")+"]");y.remove(A);B.preventDefault()});y.element.on(z,".k-update-button",function(A){y.save();A.preventDefault()});y.element.on(z,".k-cancel-button",function(A){y.cancel();A.preventDefault()})},destroy:function(){var y=this;c.fn.destroy.call(y);y._unbindDataSource();y._destroyEditable();y.element.off(t);if(y.pager){y.pager.destroy()}if(y.selectable){y.selectable.destroy()}q.destroy(y.element)}});q.ui.plugin(a)})(window.kendo.jQuery);(function(f,j){var u=window.kendo,c=u.ui.Widget,t=f.isPlainObject,y=f.proxy,D=f.extend,x=u.support.placeholder,a=f.isFunction,w=/(^\/|\/$)/g,s="change",h="apply",l="error",g="click",z=".kendoImageBrowser",e=".kendoBreadcrumbs",p=".kendoSearchBox",q="name",r="size",b="type",B={field:b,dir:"asc"},E=u.template('<li data-#=ns#value="#=value#" class="k-item">${text}</li>'),m=u.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),F='<div class="k-widget k-toolbar k-floatwrap"><div class="k-toolbar-wrap">#if(showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-button-bare k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div>#}##if(showCreate) {#<button type="button" class="k-button k-button-icon k-button-bare"><span class="k-icon k-addfolder"></span></button>#}##if(showDelete) {#<button type="button" class="k-button k-button-icon k-button-bare k-state-disabled"><span class="k-icon k-delete"></span></button>&nbsp;#}#</div><div class="k-tiles-arrange">#=messages.orderBy#: <a href="\\#" class="k-link"><span>#=messages.orderByName#</span><span class="k-icon k-i-arrow-s"></span></a></div></div>';D(true,u.data,{schemas:{imagebrowser:{data:function(G){return G.items||G||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});D(true,u.data,{transports:{imagebrowser:u.data.RemoteTransport.extend({init:function(G){u.data.RemoteTransport.fn.init.call(this,f.extend(true,{},this.options,G))},_call:function(H,G){G.data=f.extend({},G.data,{path:this.options.path()});if(a(this.options[H])){this.options[H].call(this,G)}else{u.data.RemoteTransport.fn[H].call(this,G)}},read:function(G){this._call("read",G)},create:function(G){this._call("create",G)},destroy:function(G){this._call("destroy",G)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function v(I,K,H){var G,J;I.on("dragenter"+z,function(L){K();J=new Date();if(!G){G=setInterval(function(){var M=new Date()-J;if(M>100){H();clearInterval(G);G=null}},100)}}).on("dragover"+z,function(L){J=new Date()})}var A;if(f.browser.msie&&parseFloat(f.browser.version)<8){A=function(G){return G.offsetTop}}else{A=function(G){return G.offsetTop-f(G).height()}}function d(G,H){var I=G[H];if(t(I)){return I.field||H}return I}function i(H,G){if(H===j||!H.match(/\/$/)){H=(H||"")+"/"}return H+G}function n(G){if(!G){return""}var H=" bytes";if(G>=1073741824){H=" GB";G/=1073741824}else{if(G>=1048576){H=" MB";G/=1048576}else{if(G>=1024){H=" KB";G/=1024}}}return Math.round(G*100)/100+H}var k=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);I.element.addClass("k-imagebrowser");I.element.on(g+z,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",y(I._deleteClick,I)).on(g+z,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",y(I._addClick,I)).on("keydown"+z,"li.k-state-selected input",y(I._directoryKeyDown,I)).on("blur"+z,"li.k-state-selected input",y(I._directoryBlur,I));I._dataSource();I.refresh();I.path(I.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop files here to upload"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[l,s,h],destroy:function(){var G=this;c.fn.destroy.call(G);G.dataSource.unbind(l,G._errorHandler);G.element.add(G.list).add(G.toolbar).off(z);if(G.arrangeByPopup){G.arrangeByPopup.destroy()}u.destroy(G.element)},value:function(){var I=this,H=I._selectedItem(),J,G=I.options.transport.imageUrl;if(H&&H.get(I._getFieldName(b))==="f"){J=i(I.path(),H.get(I._getFieldName(q))).replace(w,"");if(G){J=a(G)?G(J):u.format(G,J)}return J}},_selectedItem:function(){var G=this.listView,H=G.select();if(H.length){return this.dataSource.getByUid(H.attr(u.attr("uid")))}},_toolbar:function(){var K=this,H=u.template(F),J=K.options.messages,I,G,L=[{text:J.orderByName,value:"name",ns:u.ns},{text:J.orderBySize,value:"size",ns:u.ns}];K.toolbar=f(H({messages:J,showUpload:K.options.transport.uploadUrl,showCreate:K.options.transport.create,showDelete:K.options.transport.destroy})).appendTo(K.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:J.dropFilesHere},async:{saveUrl:K.options.transport.uploadUrl,autoUpload:true},upload:y(K._fileUpload,K)}).end();K.upload=K.toolbar.find(".k-upload input").data("kendoUpload");I=K.toolbar.find(".k-tiles-arrange a");K.arrangeByPopup=G=f("<ul>"+u.render(E,L)+"</ul>").kendoPopup({anchor:I}).on(g+z,"li",function(){var M=f(this),N=M.attr(u.attr("value"));K.toolbar.find(".k-tiles-arrange a span:first").html(M.text());G.close();K.orderBy(N)}).data("kendoPopup");I.on(g+z,function(M){M.preventDefault();G.toggle()});K._attachDropzoneEvents()},_attachDropzoneEvents:function(){var G=this;if(G.options.transport.uploadUrl){v(f(document.documentElement),f.proxy(G._dropEnter,G),f.proxy(G._dropLeave,G));G._scrollHandler=y(G._positionDropzone,G)}},_dropEnter:function(){this._positionDropzone();f(document).on("scroll"+z,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();f(document).off("scroll"+z,this._scrollHandler)},_positionDropzone:function(){var H=this,G=H.element,I=G.offset();H.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(I).css({width:G[0].clientWidth,height:G[0].clientHeight,lineHeight:G[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var I=this,H=I.listView.select(),G=u.format(I.options.messages.deleteFile,H.find("strong").text());if(H.length&&I._showMessage(G,"confirm")){I.listView.remove(H)}},_addClick:function(){this.createDirectory()},_fileUpload:function(L){var K=this,O=K.options,G=O.fileTypes,N=new RegExp(("("+G.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),H=L.files[0].name,I=K._getFieldName(q),M=K._getFieldName(r),J;if(N.test(H)){L.data={path:K.path()};J=K._createFile(H);if(!J){L.preventDefault()}else{K.upload.one("success",function(P){J.set(I,P.response[I]);J.set(M,P.response[M]);K._tiles=K.listView.items().filter("["+u.attr("type")+"=f]")})}}else{L.preventDefault();K._showMessage(u.format(O.messages.invalidFileType,H,G))}},_findFile:function(J){var L=this.dataSource.data(),H,G,M=this._getFieldName(b),I=this._getFieldName(q),K;J=J.toLowerCase();for(H=0,K=L.length;H<K;H++){if(L[H].get(M)==="f"&&L[H].get(I).toLowerCase()===J){G=L[H];break}}return G},_createFile:function(I){var K=this,O,G,L=0,J={},N=K._getFieldName(b),M=K.dataSource.view(),H=K._findFile(I);if(H&&!K._showMessage(u.format(K.options.messages.overwriteFile,I),"confirm")){return null}if(H){return H}for(O=0,G=M.length;O<G;O++){if(M[O].get(N)==="f"){L=O;break}}J[N]="f";J[K._getFieldName(q)]=I;J[K._getFieldName(r)]=0;return K.dataSource.insert(++L,J)},createDirectory:function(){var K=this,O,H,I=0,M=K._getFieldName(b),N=K._getFieldName(q),L=K.dataSource.data(),G=K._nameDirectory(),J=new K.dataSource.reader.model();for(O=0,H=L.length;O<H;O++){if(L[O].get(M)==="d"){I=O}}J.set(M,"d");J.set(N,G);K.listView.one("dataBound",function(){var Q=K.listView.items().filter("["+u.attr("uid")+"="+J.uid+"]"),P=Q.find("input");if(Q.length){this.edit(Q)}this.element.scrollTop(Q.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){P.select()})}).one("save",function(Q){var P=Q.model.get(N);if(!P){Q.model.set(N,G)}else{Q.model.set(N,K._nameExists(P,J.uid)?K._nameDirectory():P)}});K.dataSource.insert(++I,J)},_directoryKeyDown:function(G){if(G.keyCode==13){G.currentTarget.blur()}},_directoryBlur:function(G){this.listView.save()},_nameExists:function(I,J){var L=this.dataSource.data(),M=this._getFieldName(b),H=this._getFieldName(q),G,K;for(G=0,K=L.length;G<K;G++){if(L[G].get(M)==="d"&&L[G].get(H).toLowerCase()===I.toLowerCase()&&L[G].uid!==J){return true}}return false},_nameDirectory:function(){var J="New folder",M=this.dataSource.data(),I=[],N=this._getFieldName(b),H=this._getFieldName(q),K,G,L;for(G=0,L=M.length;G<L;G++){if(M[G].get(N)==="d"&&M[G].get(H).toLowerCase().indexOf(J.toLowerCase())>-1){I.push(M[G].get(H))}}if(f.inArray(J,I)>-1){G=2;do{K=J+" ("+G+")";G++}while(f.inArray(K,I)>-1);J=K}return J},orderBy:function(G){this.dataSource.sort([{field:this._getFieldName(b),dir:"asc"},{field:this._getFieldName(G),dir:"asc"}])},search:function(G){this.dataSource.filter({field:this._getFieldName(q),operator:"contains",value:G})},_content:function(){var G=this;G.list=f('<ul class="k-reset k-floats k-tiles" />').appendTo(G.element).on("scroll"+z,y(G._scroll,G)).on("dblclick"+z,"li",y(G._dblClick,G));G.listView=new u.ui.ListView(G.list,{dataSource:G.dataSource,template:G._itemTmpl(),editTemplate:G._editTmpl(),selectable:true,autoBind:false,dataBinding:function(H){G.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(H.action==="remove"||H.action==="sync"){H.preventDefault()}},dataBound:function(){if(G.dataSource.view().length){G._tiles=this.items().filter("["+u.attr("type")+"=f]");G._scroll()}else{this.wrapper.append(m({text:G.options.messages.emptyFolder}))}},change:y(G._listViewChange,G)})},_dblClick:function(J){var I=this,G=f(J.currentTarget);if(G.filter("["+u.attr("type")+"=d]").length){var H=I.dataSource.getByUid(G.attr(u.attr("uid")));if(H){I.path(i(I.path(),H.get(I._getFieldName(q))));I.breadcrumbs.value(I.path())}}else{if(G.filter("["+u.attr("type")+"=f]").length){I.trigger(h)}}},_listViewChange:function(){var G=this._selectedItem();this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled");if(G&&G.get(this._getFieldName(b))==="f"){this.trigger(s)}},_dataSource:function(){var J=this,H=J.options,M=H.transport,G=D({},B),K={field:q,dir:"asc"},I,L={type:M.type||"imagebrowser",sort:[G,K]};if(t(M)){M.path=y(J.path,J);L.transport=M}if(t(H.schema)){L.schema=H.schema;if(t(H.schema.model)&&H.schema.model.fields){G.field=d(H.schema.model.fields,b);K.field=d(H.schema.model.fields,q)}}else{if(M.type&&t(u.data.schemas[M.type])){I=u.data.schemas[M.type];if(t(I.model)&&I.model.fields){G.field=d(I.model.fields,b);K.field=d(I.model.fields,q)}}}if(J.dataSource&&J._errorHandler){J.dataSource.unbind(l,J._errorHandler)}else{J._errorHandler=y(J._error,J)}J.dataSource=u.data.DataSource.create(L).bind(l,J._errorHandler)},_navigation:function(){var H=this,G=f('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);H.breadcrumbs=G.find("input:first").kendoBreadcrumbs({value:H.options.path,change:function(){H.path(this.value())}}).data("kendoBreadcrumbs");H.searchBox=G.parent().find("input:last").kendoSearchBox({change:function(){H.search(this.value())}}).data("kendoSearchBox")},_error:function(I){var H=this,G;if(!H.trigger(l,I)){G=I.xhr.status;if(I.status=="error"){if(G=="404"){H._showMessage(H.options.messages.directoryNotFound)}else{if(G!="0"){H._showMessage("Error! The requested URL returned "+G+" - "+I.xhr.statusText)}}}else{if(G=="timeout"){H._showMessage("Error! Server timeout.")}}}},_showMessage:function(H,G){return window[G||"alert"](H)},refresh:function(){var G=this;G._navigation();G._toolbar();G._content()},_loadImage:function(G){var L=this,K=f(G),J=L.dataSource.getByUid(K.attr(u.attr("uid"))),I=J.get(L._getFieldName(q)),H=f("<img />",{alt:I}).hide().on("load"+z,function(){f(this).prev().remove().end().addClass("k-image").fadeIn()});K.find(".k-loading").after(H);H.attr("src",L.options.transport.thumbnailUrl+"?path="+L.path()+encodeURIComponent(I));G.loaded=true},_scroll:function(H){var G=this;if(G.options.transport&&G.options.transport.thumbnailUrl){clearTimeout(G._timeout);G._timeout=setTimeout(function(){var J=G.list.outerHeight(),I=G.list.scrollTop(),K=I+J;G._tiles.each(function(){var M=A(this),L=M+this.offsetHeight;if((M>=I&&M<K)||(L>=I&&L<K)){G._loadImage(this)}if(M>K){return false}});G._tiles=G._tiles.filter(function(){return !this.loaded})},250)}},_editTmpl:function(){var H=this,G='<li class="k-tile k-state-selected" '+u.attr("uid")+'="#=uid#" ';G+=u.attr("type")+'="${'+H._getFieldName(b)+'}">';G+="#if("+H._getFieldName(b)+' == "d") { #';G+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';G+="#}else{#";G+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>';G+="#}#";G+="#if("+H._getFieldName(b)+' == "d") { #';G+='<input class="k-input" '+u.attr("bind")+'="value:'+H._getFieldName(q)+'"/>';G+="#}#";G+="</li>";return y(u.template(G),{sizeFormatter:n})},_itemTmpl:function(){var H=this,G='<li class="k-tile" '+u.attr("uid")+'="#=uid#" ';G+=u.attr("type")+'="${'+H._getFieldName(b)+'}">';G+="#if("+H._getFieldName(b)+' == "d") { #';G+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';G+="#}else{#";if(H.options.transport&&H.options.transport.thumbnailUrl){G+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>'}else{G+='<div class="k-thumb"><span class="k-icon k-file"></span></div>'}G+="#}#";G+="<strong>${"+H._getFieldName(q)+"}</strong>";G+="#if("+H._getFieldName(b)+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+H._getFieldName(r)+")}</span> #}#";G+="</li>";return y(u.template(G),{sizeFormatter:n})},_getFieldName:function(G){return d(this.dataSource.reader.model.fields,G)},path:function(H){var G=this,I=G._path||"";if(H!==j){G._path=H.replace(w,"")+"/";G.dataSource.read({path:G._path});return}if(I){I=I.replace(w,"")}return I==="/"||I===""?"":(I+"/")}});var o=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);if(x){I.element.attr("placeholder",I.options.label)}I._wrapper();I.element.on("keydown"+p,y(I._keydown,I)).on("change"+p,y(I._updateValue,I));I.wrapper.on(g+p,"a",y(I._click,I));if(!x){I.element.on("focus"+p,y(I._focus,I)).on("blur"+p,y(I._blur,I))}},options:{name:"SearchBox",label:"Search",value:""},events:[s],destroy:function(){var G=this;G.wrapper.add(G.element).add(G.label).off(p);c.fn.destroy.call(G)},_keydown:function(G){if(G.keyCode===13){this._updateValue()}},_click:function(G){G.preventDefault();this._updateValue()},_updateValue:function(){var G=this,H=G.element.val();if(H!==G.value()){G.value(H);G.trigger(s)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!x){this.label.toggle(!this.element.val())}},_focus:function(){this.label.hide()},_wrapper:function(){var G=this.element,H=G.parents(".k-search-wrap");G[0].style.width="";G.addClass("k-input k-textbox");if(!H.length){H=G.wrap(f('<div class="k-widget k-search-wrap k-textbox"/>')).parent();if(!x){f('<label style="display:block">'+this.options.label+"</label>").insertBefore(G)}f('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(H)}this.wrapper=H;this.label=H.find(">label")},value:function(H){var G=this;if(H!==j){G.options.value=H;G.element.val(H);G._toggleLabel();return}return G.options.value}});var C=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);I._wrapper();I.wrapper.on("focus"+e,"input",y(I._focus,I)).on("blur"+e,"input",y(I._blur,I)).on("keydown"+e,"input",y(I._keydown,I)).on(g+e,"a.k-i-arrow-n:first",y(I._rootClick,I)).on(g+e,"a:not(.k-i-arrow-n)",y(I._click,I));I.value(I.options.value)},options:{name:"Breadcrumbs",gap:50},events:[s],destroy:function(){var G=this;c.fn.destroy.call(G);G.wrapper.add(G.wrapper.find("input")).add(G.wrapper.find("a")).off(e)},_update:function(G){G=(G||"").charAt(0)==="/"?G:("/"+(G||""));if(G!==this.value()){this.value(G);this.trigger(s)}},_click:function(G){G.preventDefault();this._update(this._path(f(G.target).prevAll("a:not(.k-i-arrow-n)").andSelf()))},_rootClick:function(G){G.preventDefault();this._update("")},_focus:function(){var H=this,G=H.element;H.overlay.hide();H.element.val(H.value());setTimeout(function(){G.select()})},_blur:function(){if(this.overlay.is(":visible")){return}var H=this,G=H.element,I=G.val().replace(/\/{2,}/g,"/");H.overlay.show();G.val("");H._update(I)},_keydown:function(H){var G=this;if(H.keyCode===13){G._blur();setTimeout(function(){G.overlay.find("a:first").focus()})}},_wrapper:function(){var H=this.element,I=H.parents(".k-breadcrumbs"),G;H[0].style.width="";H.addClass("k-input");if(!I.length){I=H.wrap(f('<div class="k-widget k-breadcrumbs k-header k-state-default"/>')).parent()}G=I.find(".k-breadcrumbs-wrap");if(!G.length){G=f('<div class="k-breadcrumbs-wrap"/>').appendTo(I)}this.wrapper=I;this.overlay=G},refresh:function(){var I="",L=this.value(),H,K,G,J;if(L===j||!L.match(/^\//)){L="/"+(L||"")}H=L.split("/");for(G=0,J=H.length;G<J;G++){K=H[G];if(K){if(!I){I+='<a href="#" class="k-icon k-i-arrow-n">root</a>'}I+='<a class="k-link" href="#">'+H[G]+"</a>";I+='<span class="k-icon k-i-arrow-e">&gt;</span>'}}this.overlay.empty().append(f(I));this._adjustSectionWidth()},_adjustSectionWidth:function(){var J=this,K=J.wrapper,I=K.width()-J.options.gap,H=J.overlay.find("a"),G;H.each(function(L){G=f(this);if(G.parent().width()>I){if(L==H.length-1){G.width(I)}else{G.prev().andSelf().hide()}}})},value:function(G){if(G!==j){this._value=G.replace(/\/{2,}/g,"/");this.refresh();return}return this._value},_path:function(G){return"/"+f.map(G,function(H){return f(H).text()}).join("/")}});u.ui.plugin(k);u.ui.plugin(C);u.ui.plugin(o)})(window.kendo.jQuery);(function(d,e){var n=window.kendo,t=n.Class,b=n.ui.Widget,g=n.support.mobileOS,w=n.support.browser,u=d.extend,j=n.deepExtend,s=".kendoEditor",l=n.keys;var p=t.extend({init:function(x){var y=this;y.options=x},getHtml:function(){var x=this.options;return n.template(x.template)({cssClass:x.cssClass,tooltip:x.title,initialValue:x.initialValue})}});var i={select:function(x){x.trigger("select",{})},editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar"></ul></td></tr><tr><td class="k-editable-area"></td></tr></tbody></table>',buttonTemplate:'<li class="k-editor-button" role="presentation"><a href="" role="button" class="k-tool-icon #= cssClass #" unselectable="on" title="#= tooltip #">#= tooltip #</a></li>',colorPickerTemplate:'<li class="k-editor-colorpicker" role="presentation"><div class="k-widget k-colorpicker k-header #= cssClass #" role="combobox" title="#=tooltip#"><span class="k-tool-icon"><span class="k-selected-color"></span></span><span class="k-icon k-i-arrow-s"></span></div></li>',comboBoxTemplate:'<li class="k-editor-combobox"><select title="#= tooltip #" class="#= cssClass #"></select></li>',dropDownListTemplate:'<li class="k-editor-selectbox"><select title="#= tooltip #" class="#= cssClass #"></select></li>',separatorTemplate:'<li class="k-separator"></li>',focusable:".k-colorpicker,a.k-tool-icon:not(.k-state-disabled),.k-selectbox, .k-combobox .k-input",wrapTextarea:function(z){var y=z.width(),C=z.height(),B=i.editorWrapperTemplate,x=d(B).insertBefore(z).width(y).height(C),A=x.find(".k-editable-area");z.appendTo(A).addClass("k-content k-raw-content").hide();return z.closest(".k-editor")},renderTools:function(A,z){var D={},y,B,x,C=A._nativeTools,E,G,F=d(A.element).closest(".k-editor").find(".k-editor-toolbar");if(z){for(x=0;x<z.length;x++){y=z[x];G=null;if(d.isPlainObject(y)){if(y.name&&A.tools[y.name]){d.extend(A.tools[y.name].options,y);D[y.name]=A.tools[y.name];G=D[y.name].options}else{G=u({cssClass:"k-i-custom",type:"button",tooltip:""},y);if(G.name){G.cssClass="k-"+(G.name=="custom"?"i-custom":G.name)}if(!G.template){if(G.type=="button"){G.template=i.buttonTemplate}}}}else{if(A.tools[y]){D[y]=A.tools[y];G=D[y].options}}if(!G){continue}E=G.template;if(E){if(E.getHtml){E=E.getHtml()}else{if(!d.isFunction(E)){E=n.template(E)}E=E(G)}if(E.indexOf("<li")!==0){E="<li class='k-editor-template'>"+E+"</li>"}B=d(E).appendTo(F);if(G.type=="button"&&G.exec){B.find(".k-tool-icon").click(d.proxy(G.exec,A.element[0]))}}}}for(x=0;x<C.length;x++){if(!D[C[x]]){D[C[x]]=A.tools[C[x]]}}A.options.tools=D},decorateStyleToolItems:function(x){var z=x.data.closest(".k-editor").find(".k-style").data("kendoSelectBox");if(!z){return}var y=z.dataSource.view();z.list.find(".k-item").each(function(A,B){var D=d(B),E=D.text(),C=n.ui.editor.Dom.inlineStyle(x.data.data("kendoEditor").document,"span",{className:y[A].value});D.html('<span unselectable="on" style="display:block;'+C+'">'+E+"</span>")})},createContentElement:function(x,C){var z,A,B,y=n.support.isRtl(x)?"direction:rtl;":"";x.hide();z=d("<iframe />",{src:'javascript:""',frameBorder:"0"}).css("display","").addClass("k-content").insertBefore(x)[0];A=z.contentWindow||z;if(C.length>0){d(z).one("load",x,i.decorateStyleToolItems)}B=A.document||z.contentDocument;B.open();B.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;font-family:Verdana,Geneva,sans-serif;background:#fff;height:100%;min-height:100%;}html{font-size:100%}body{font-size:.75em;line-height:1.5;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+y+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}</style>"+d.map(C,function(D){return"<link rel='stylesheet' href='"+D+"'>"}).join("")+"</head><body contenteditable='true'></body></html>");B.close();return A},initializeContentElement:function(y){var x=true;y.window=i.createContentElement(d(y.textarea),y.options.stylesheets);y.document=y.window.contentDocument||y.window.document;y.body=y.document.body;d(y.document).on("keydown"+s,function(B){if(B.keyCode===l.F10){setTimeout(function(){var D="tabIndex",E=y.wrapper,C=E.attr(D);E.attr(D,C||0).focus().find("li:has("+r+")").first().focus();if(!C&&C!==0){E.removeAttr(D)}},100);B.preventDefault();return}var A=y.keyboard.toolFromShortcut(y.options.tools,B);if(A){B.preventDefault();if(!/undo|redo/.test(A)){y.keyboard.endTyping(true)}y.exec(A);return false}if(y.keyboard.isTypingKey(B)&&y.pendingFormats.hasPending()){if(x){x=false}else{var z=y.getRange();y.pendingFormats.apply(z);y.selectRange(z)}}y.keyboard.clearTimeout();y.keyboard.keydown(B)}).on("keyup"+s,function(B){var A=[8,9,33,34,35,36,37,38,39,40,40,45,46];if(d.inArray(B.keyCode,A)>-1||(B.keyCode==65&&B.ctrlKey&&!B.altKey&&!B.shiftKey)){y.pendingFormats.clear();o(y)}if(y.keyboard.isTypingKey(B)){if(y.pendingFormats.hasPending()){var z=y.getRange();y.pendingFormats.apply(z);y.selectRange(z)}}else{x=true}y.keyboard.keyup(B)}).on("mousedown"+s,function(A){y.pendingFormats.clear();var z=d(A.target);if(!w.gecko&&A.which==2&&z.is("a[href]")){window.open(z.attr("href"),"_new")}}).on("mouseup"+s,function(){o(y)});d(y.window).on("blur"+s,function(){var z=y.textarea.value,A=y.encodedValue();y.update();if(A!=z){y.trigger("change")}});d(y.body).on("cut"+s+" paste"+s,function(z){y.clipboard["on"+z.type](z)})},formatByName:function(x,z){for(var y=0;y<z.length;y++){if(d.inArray(x,z[y].tags)>=0){return z[y]}}},registerTool:function(y,x){var z=q.fn._tools;z[y]=x;if(z[y].options&&z[y].options.template){z[y].options.template.options.cssClass="k-"+y}},registerFormat:function(x,y){n.ui.Editor.fn.options.formats[x]=y},createDialog:function(x,z,A){var y=n.support.isRtl(z.wrapper),B=d(x).appendTo(document.body).kendoWindow(A);if(y){B.closest(".k-window").addClass("k-rtl")}return B}};var o=i.select,r=i.focusable,f=i.wrapTextarea,m=i.renderTools,k=i.initializeContentElement;var v={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel"};var a=!g||(g.ios&&g.flatVersion>=500)||(!g.ios&&typeof(document.documentElement.contentEditable)!="undefined");var q=b.extend({init:function(B,J){if(!a){return}var D=this,x,H,A=n.ui.editor;b.fn.init.call(D,B,J);D.tools=j({},n.ui.Editor.fn._tools);D.options=j({},D.options,J);B=d(B);B.closest("form").on("submit"+s,function(){D.update()});for(var y in D.tools){D.tools[y].name=y.toLowerCase()}D.textarea=B.attr("autocomplete","off")[0];x=D.wrapper=f(B);if(D.textarea.id){x.find(".k-editor-toolbar").attr("aria-controls",D.textarea.id)}m(D,D.options.tools);k(D);D.keyboard=new A.Keyboard([new A.TypingHandler(D),new A.SystemHandler(D)]);D.clipboard=new A.Clipboard(this);D.pendingFormats=new A.PendingFormats(this);D.undoRedoStack=new A.UndoRedoStack();if(J&&J.value){H=J.value}else{H=B.val().replace(/[\r\n\v\f\t ]+/ig," ")}D.value(H);function F(L){var K=d.grep(L.className.split(" "),function(M){return !/^k-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(M)});return K[0]?K[0].substring(K[0].lastIndexOf("-")+1):"custom"}function I(M,K){if(!K.key){return M}var L=M+" (";if(K.ctrl){L+="Ctrl + "}if(K.shift){L+="Shift + "}if(K.alt){L+="Alt + "}L+=K.key+")";return L}var C=".k-editor-toolbar > li > *, .k-editor-toolbar > li select",E=".k-editor-button .k-tool-icon",z=E+":not(.k-state-disabled)",G=E+".k-state-disabled";x.find(".k-combobox .k-input").keydown(function(M){var K=d(this).closest(".k-combobox").data("kendoComboBox"),L=M.keyCode;if(L==l.RIGHT||L==l.LEFT){K.close()}else{if(L==l.DOWN){if(!K.dropDown.isOpened()){M.stopImmediatePropagation();K.open()}}}});x.on("mouseenter"+s,z,function(){d(this).addClass("k-state-hover")}).on("mouseleave"+s,z,function(){d(this).removeClass("k-state-hover")}).on("mousedown"+s,E,false).on("keydown"+s,r,function(N){var L=d(this).closest("li"),O="li:has("+r+")",K,M=N.keyCode;if(M==l.RIGHT){K=L.nextAll(O).first().find(r)}else{if(M==l.LEFT){K=L.prevAll(O).first().find(r)}else{if(M==l.ESC){K=D}else{if(M==l.TAB&&!(N.ctrlKey||N.altKey)){if(N.shiftKey){K=L.prevAll(O).first().find(r);if(K.length){N.preventDefault()}else{return}}else{N.preventDefault();K=L.nextAll(O).first().find(r);if(!K.length){K=D}}}}}}if(K){K.focus()}}).on("click"+s,z,function(K){K.preventDefault();K.stopPropagation();D.exec(F(this))}).on("click"+s,G,function(K){K.preventDefault()}).find(C).each(function(){var N=F(this),L=D.options,K=L.tools[N],M=L.messages[N],O=d(this);if(!K){return}if(N=="fontSize"||N=="fontName"){var P=L.messages[N+"Inherit"]||v[N+"Inherit"];O.find("input").val(P).end().find("span.k-input").text(P).end()}K.initialize(O,{title:I(M,K),editor:D})});D.bind("select",function(){var L=D.getRange();var K=A.RangeUtils.textNodes(L);if(!K.length){K=[L.startContainer]}x.find(C).each(function(){var M=D.options.tools[F(this)];if(M){M.update(d(this),K,D.pendingFormats)}})});D._DOMNodeInsertedHandler=function(K){D._DOMNodeInserted(K)};D._endTypingHandler=function(){D._endTyping()};d(document).on("DOMNodeInserted",D._DOMNodeInsertedHandler).on("mousedown",D._endTypingHandler);n.notify(D)},_endTyping:function(){var x=this;try{if(x.keyboard.isTypingInProgress()){x.keyboard.endTyping(true)}if(!x.selectionRestorePoint){x.selectionRestorePoint=new n.ui.editor.RestorePoint(x.getRange())}}catch(y){}},_DOMNodeInserted:function(y){var x=this,z=x.wrapper;if(d.contains(y.target,z[0])||z[0]==y.target){x.textarea.value=x.value();z.find("iframe").remove();k(x);x.value(x.textarea.value)}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:v,formats:{},encoded:true,stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:["bold","italic","underline","strikethrough","fontName","fontSize","foreColor","backColor","justifyLeft","justifyCenter","justifyRight","justifyFull","insertUnorderedList","insertOrderedList","indent","outdent","formatBlock","createLink","unlink","insertImage"]},destroy:function(){var x=this;b.fn.destroy.call(x);d(x.window).add(x.document).add(x.wrapper).add(x.element.closest("form")).off(s);d(document).off("DOMNodeInserted",x._DOMNodeInsertedHandler).off("mousedown",x._endTypingHandler);n.destroy(x.wrapper)},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","insertHtml"],_tools:{undo:{options:{key:"Z",ctrl:true}},redo:{options:{key:"Y",ctrl:true}}},tools:{},value:function(B){var y=this.body,C=n.ui.editor.Dom,A=n.ui.editor.Serializer.domToXhtml(y);if(B===e){return A}if(B==A){return}this.pendingFormats.clear();B=(B||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<telerik:script $1>$2</telerik:script>").replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1");if(!w.msie){B=B.replace(/<p([^>]*)>(\s*)?<\/p>/ig,'<p $1><br _moz_dirty="" /></p>')}if(w.msie&&parseInt(w.version,10)<9){B="<br/>"+B;var x="originalsrc",z="originalhref";B=B.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,z+'="$1"');B=B.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,x+'="$1"');y.innerHTML=B;C.remove(y.firstChild);d(y).find("telerik\\:script,script,link,img,a").each(function(){var D=this;if(D[z]){D.setAttribute("href",D[z]);D.removeAttribute(z)}if(D[x]){D.setAttribute("src",D[x]);D.removeAttribute(x)}})}else{y.innerHTML=B;if(w.msie){C.normalize(y);setTimeout(function(){var G=y.getElementsByTagName("ol"),F,D,E;for(F=0;F<G.length;F++){D=G[F];E=D.getAttribute("start");D.setAttribute("start",1);if(E){D.setAttribute("start",E)}else{D.removeAttribute(E)}}},1)}}this.selectionRestorePoint=null;this.update()},focus:function(){this.window.focus()},update:function(x){this.textarea.value=x||this.options.encoded?this.encodedValue():this.value()},encodedValue:function(){return n.ui.editor.Dom.encode(this.value())},createRange:function(x){return n.ui.editor.RangeUtils.createRange(x||this.document)},getSelection:function(){return n.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(x){this.focus();var y=this.getSelection();y.removeAllRanges();y.addRange(x)},getRange:function(){var y=this.getSelection(),x=y.rangeCount>0?y.getRangeAt(0):this.createRange(),z=this.document;if(x.startContainer==z&&x.endContainer==z&&!x.startOffset&&!x.endOffset){x.setStart(this.body,0);x.collapse(true)}return x},selectedHtml:function(){return n.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(x){this.clipboard.paste(x)},exec:function(x,A){var E=this,C,D,y,F="",B;x=x.toLowerCase();if(!E.keyboard.isTypingInProgress()){E.focus();C=E.getRange();D=E.document.body}for(y in E.options.tools){if(y.toLowerCase()==x){F=E.options.tools[y];break}}if(F){C=E.getRange();if(!/undo|redo/i.test(x)&&F.willDelayExecution(C)){B=d.extend({},F);d.extend(B.options,{params:A});E.pendingFormats.toggle(B);o(E);return}var z=F.command?F.command(u({range:C},A)):null;E.trigger("execute",{name:x,command:z});if(/undo|redo/i.test(x)){E.undoRedoStack[x]()}else{if(z){if(!z.managesUndoRedo){E.undoRedoStack.push(z)}z.editor=E;z.exec();if(z.async){z.change=d.proxy(function(){o(E)},E);return}}}o(E)}}});n.ui.plugin(q);var h=t.extend({init:function(x){this.options=x},initialize:function(y,x){y.attr({unselectable:"on",title:x.title})},command:function(x){return new this.options.command(x)},update:function(){},willDelayExecution:function(){return false}});h.exec=function(y,x,z){y.exec(x,{value:z})};var c=h.extend({init:function(x){h.fn.init.call(this,x)},command:function(x){var y=this;return new n.ui.editor.FormatCommand(u(x,{formatter:y.options.formatter}))},update:function(B,z,C){var y=C.isPending(this.name),x=this.options.finder.isFormatted(z),A=y?!x:x;B.toggleClass("k-state-active",A);B.attr("aria-pressed",A)}});i.registerTool("separator",new h({template:new p({template:i.separatorTemplate})}));u(n.ui,{editor:{ToolTemplate:p,EditorUtils:i,Tool:h,FormatTool:c}})})(window.kendo.jQuery);(function(g){var t=window.kendo,B=g.map,z=g.extend,A=t.support.browser,j="style",p="float",h="cssFloat",x="styleFloat",c="class",o="k-marker";function u(D){var F={},E,C;for(E=0,C=D.length;E<C;E++){F[D[E]]=true}return F}var n=u("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),e="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul".split(","),m=u(e),r="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var".split(","),f=u(r),d=u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var w=function(C){if(C.nodeType==1){C.normalize()}};if(A.msie&&parseInt(A.version,10)>=8){w=function(C){if(C.nodeType==1&&C.firstChild){var E=C.firstChild,D=E;while(true){D=D.nextSibling;if(!D){break}if(D.nodeType==3&&E.nodeType==3){D.nodeValue=E.nodeValue+D.nodeValue;b.remove(E)}E=D}}}}var y=/^\s+$/,a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,l=/&/g,q=/</g,k=/>/g,i=/\u00a0/g,v=/\ufeff/g;var s=("color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height").split(",");var b={findNodeIndex:function(D){var C=0;while(true){D=D.previousSibling;if(!D){break}C++}return C},isDataNode:function(C){return C&&C.nodeValue!==null&&C.data!==null},isAncestorOf:function(C,D){try{return !b.isDataNode(C)&&(g.contains(C,b.isDataNode(D)?D.parentNode:D)||D.parentNode==C)}catch(E){return false}},isAncestorOrSelf:function(C,D){return b.isAncestorOf(C,D)||C==D},findClosestAncestor:function(C,D){if(b.isAncestorOf(C,D)){while(D&&D.parentNode!=C){D=D.parentNode}}return D},getNodeLength:function(C){return b.isDataNode(C)?C.length:C.childNodes.length},splitDataNode:function(E,G){var C=E.cloneNode(false),F="",D=E;while(D.nextSibling&&D.nextSibling.nodeType==3&&D.nextSibling.nodeValue){F+=D.nextSibling.nodeValue;D=D.nextSibling}E.deleteData(G,E.length);C.deleteData(0,G);C.nodeValue+=F;b.insertAfter(C,E)},attrEquals:function(E,C){for(var D in C){var F=E[D];if(D==p){F=E[g.support.cssFloat?h:x]}if(typeof F=="object"){if(!b.attrEquals(F,C[D])){return false}}else{if(F!=C[D]){return false}}}return true},blockParentOrBody:function(C){return b.parentOfType(C,e)||C.ownerDocument.body},blockParents:function(D){var G=[],E,C;for(E=0,C=D.length;E<C;E++){var F=b.parentOfType(D[E],b.blockElements);if(F&&g.inArray(F,G)<0){G.push(F)}}return G},windowFromDocument:function(C){return C.defaultView||C.parentWindow},normalize:w,blockElements:e,inlineElements:r,empty:n,fillAttrs:d,toHex:function(C){var D=a.exec(C);if(!D){return C}return"#"+B(D.slice(1),function(E){E=parseInt(E,10).toString(16);return E.length>1?E:"0"+E}).join("")},encode:function(C){return C.replace(l,"&amp;").replace(q,"&lt;").replace(k,"&gt;").replace(i,"&nbsp;")},name:function(C){return C.nodeName.toLowerCase()},significantChildNodes:function(C){return g.grep(C.childNodes,function(D){return D.nodeType!=3||!b.isWhitespace(D)})},lastTextNode:function(D){var C=null;if(D.nodeType==3){return D}for(var E=D.lastChild;E;E=E.previousSibling){C=b.lastTextNode(E);if(C){return C}}return C},is:function(C,D){return b.name(C)==D},isMarker:function(C){return C.className==o},isWhitespace:function(C){return y.test(C.nodeValue)},isBlock:function(C){return m[b.name(C)]},isEmpty:function(C){return n[b.name(C)]},isInline:function(C){return f[b.name(C)]},scrollTo:function(G){var C=G.ownerDocument.body,E=g(b.isDataNode(G)?G.parentNode:G),H=b.windowFromDocument(G.ownerDocument).innerHeight,D,F;if(b.name(E[0])=="br"){E=E.parent()}D=E.offset().top;F=E[0].offsetHeight;if(F+D>C.scrollTop+H){C.scrollTop=F+D-H}},insertAt:function(D,E,C){D.insertBefore(E,D.childNodes[C]||null)},insertBefore:function(D,C){if(C.parentNode){return C.parentNode.insertBefore(D,C)}else{return C}},insertAfter:function(D,C){return C.parentNode.insertBefore(D,C.nextSibling)},remove:function(C){C.parentNode.removeChild(C)},trim:function(D){for(var C=D.childNodes.length-1;C>=0;C--){var E=D.childNodes[C];if(b.isDataNode(E)){if(!E.nodeValue.replace(v,"").length){b.remove(E)}if(b.isWhitespace(E)){b.insertBefore(E,D)}}else{if(E.className!=o){b.trim(E);if(!E.childNodes.length&&!b.isEmpty(E)){b.remove(E)}}}}return D},parentOfType:function(D,C){do{D=D.parentNode}while(D&&!(b.ofType(D,C)));return D},ofType:function(D,C){return g.inArray(b.name(D),C)>=0},changeTag:function(F,E){var I=b.create(F.ownerDocument,E),G=F.attributes,H,J,C,K,D;for(H=0,J=G.length;H<J;H++){D=G[H];if(D.specified){C=D.nodeName;K=D.nodeValue;if(C==c){I.className=K}else{if(C==j){I.style.cssText=F.style.cssText}else{I.setAttribute(C,K)}}}}while(F.firstChild){I.appendChild(F.firstChild)}b.insertBefore(I,F);b.remove(F);return I},wrap:function(C,D){b.insertBefore(D,C);D.appendChild(C);return D},unwrap:function(D){var C=D.parentNode;while(D.firstChild){C.insertBefore(D.firstChild,D)}C.removeChild(D)},create:function(C,E,D){return b.attr(C.createElement(E),D)},attr:function(D,C){C=z({},C);if(C&&j in C){b.style(D,C.style);delete C.style}return z(D,C)},style:function(C,D){g(C).css(D||{})},unstyle:function(D,E){for(var C in E){if(C==p){C=g.support.cssFloat?h:x}D.style[C]=""}if(D.style.cssText===""){D.removeAttribute(j)}},inlineStyle:function(C,E,D){var G=g(b.create(C,E,D)),F;C.body.appendChild(G[0]);F=B(s,function(H){if(A.msie&&H=="line-height"&&G.css(H)=="1px"){return"line-height:1.5"}else{return H+":"+G.css(H)}}).join(";");G.remove();return F},removeClass:function(G,H){var F=" "+G.className+" ",E=H.split(" "),D,C;for(D=0,C=E.length;D<C;D++){F=F.replace(" "+E[D]+" "," ")}F=g.trim(F);if(F.length){G.className=F}else{G.removeAttribute(c)}},commonAncestor:function(){var I=arguments.length,J=[],C=Infinity,D=null,G,K,E,H,F;if(!I){return null}if(I==1){return arguments[0]}for(G=0;G<I;G++){K=[];E=arguments[G];while(E){K.push(E);E=E.parentNode}J.push(K.reverse());C=Math.min(C,K.length)}if(I==1){return J[0][0]}for(G=0;G<C;G++){H=J[0][G];for(F=1;F<I;F++){if(H!=J[F][G]){return D}}D=H}return D}};t.ui.editor.Dom=b})(window.kendo.jQuery);(function(g,b){var l=window.kendo,i=l.ui.editor,e=i.Dom,k=g.extend;var d="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),f=/"/g,c=/<br[^>]*>/i,a=/<p><\/p>/i,h=/([\w|\-]+)\s*:\s*([^;]+);?/i;var j={domToXhtml:function(o){var n=[];var q={"telerik:script":{start:function(s){n.push("<script");m(s);n.push(">")},end:function(){n.push("<\/script>")}},b:{start:function(){n.push("<strong>")},end:function(){n.push("</strong>")}},i:{start:function(){n.push("<em>")},end:function(){n.push("</em>")}},u:{start:function(){n.push('<span style="text-decoration:underline;">')},end:function(){n.push("</span>")}},iframe:{start:function(s){n.push("<iframe");m(s);n.push(">")},end:function(){n.push("</iframe>")}},font:{start:function(u){n.push('<span style="');var s=u.getAttribute("color");var t=d[u.getAttribute("size")];var v=u.getAttribute("face");if(s){n.push("color:");n.push(e.toHex(s));n.push(";")}if(v){n.push("font-face:");n.push(v);n.push(";")}if(t){n.push("font-size:");n.push(t);n.push(";")}n.push('">')},end:function(s){n.push("</span>")}}};function m(F){var x=[],w=F.attributes,z,H,G,I=g.trim;if(e.is(F,"img")){var D=F.style.width,A=F.style.height,K=g(F);if(D){K.attr("width",parseInt(D,10));e.unstyle(F,{width:b})}if(A){K.attr("height",parseInt(A,10));e.unstyle(F,{height:b})}}for(H=0,G=w.length;H<G;H++){z=w[H];var L=z.nodeName;if(z.specified||(L=="value"&&!F.value)||(L=="type"&&z.nodeValue=="text")){if(L.indexOf("_moz")<0&&L!="complete"&&L!="altHtml"){x.push(z)}}}if(!x.length){return}x.sort(function(N,M){return N.nodeName>M.nodeName?1:N.nodeName<M.nodeName?-1:0});for(H=0,G=x.length;H<G;H++){z=x[H];var B=z.nodeName;var t=z.nodeValue;n.push(" ");n.push(B);n.push('="');if(B=="style"){var y=I(t||F.style.cssText).split(";");for(var s=0,J=y.length;s<J;s++){var C=y[s];if(C.length){var v=h.exec(C);var u=I(v[1].toLowerCase()),E=I(v[2]);if(u=="font-size-adjust"||u=="font-stretch"){continue}if(u.indexOf("color")>=0){E=e.toHex(E)}if(u.indexOf("font")>=0){E=E.replace(f,"'")}n.push(u);n.push(":");n.push(E);n.push(";")}}}else{if(B=="src"||B=="href"){n.push(F.getAttribute(B,2))}else{n.push(e.fillAttrs[B]?B:t)}}n.push('"')}}function p(u,t){for(var s=u.firstChild;s;s=s.nextSibling){r(s,t)}}function r(x,w){var s=x.nodeType,t,z,u,y,v;if(s==1){t=e.name(x);if(!t||((x.attributes._moz_dirty||x.attributes._moz_editor_bogus_node)&&e.is(x,"br"))||x.className=="k-marker"){return}z=q[t];if(z){z.start(x);p(x);z.end(x);return}n.push("<");n.push(t);m(x);if(e.empty[t]){n.push(" />")}else{n.push(">");p(x,w||e.is(x,"pre"));n.push("</");n.push(t);n.push(">")}}else{if(s==3){y=x.nodeValue;if(!w&&g.support.leadingWhitespace){u=x.parentNode;v=x.previousSibling;if(!v){v=(e.isInline(u)?u:x).previousSibling}if(!v||v.innerHTML===""||e.isBlock(v)){y=y.replace(/^[\r\n\v\f\t ]+/,"")}y=y.replace(/ +/," ")}n.push(e.encode(y))}else{if(s==4){n.push("<![CDATA[");n.push(x.data);n.push("]]>")}else{if(s==8){if(x.data.indexOf("[CDATA[")<0){n.push("<!--");n.push(x.data);n.push("-->")}else{n.push("<!");n.push(x.data);n.push(">")}}}}}}p(o);n=n.join("");if(n.replace(c,"").replace(a,"")===""){return""}return n}};k(i,{Serializer:j})})(window.kendo.jQuery);(function(d){var j=window.kendo,q=j.Class,r=d.extend,k=j.ui.editor,x=j.support.browser,p=k.Dom,b=p.findNodeIndex,y=p.isDataNode,i=p.findClosestAncestor,c=p.getNodeLength,m=p.normalize;var n={selectionFromWindow:function(A){if(x.msie&&x.version<9){return new v(A.document)}return A.getSelection()},selectionFromRange:function(A){var B=w.documentFromRange(A);return n.selectionFromDocument(B)},selectionFromDocument:function(A){return n.selectionFromWindow(p.windowFromDocument(A))}};var z=q.extend({init:function(A){d.extend(this,{ownerDocument:A,startContainer:A,endContainer:A,commonAncestorContainer:A,startOffset:0,endOffset:0,collapsed:true})},setStart:function(A,B){this.startContainer=A;this.startOffset=B;a(this);f(this,true)},setEnd:function(A,B){this.endContainer=A;this.endOffset=B;a(this);f(this,false)},setStartBefore:function(A){this.setStart(A.parentNode,b(A))},setStartAfter:function(A){this.setStart(A.parentNode,b(A)+1)},setEndBefore:function(A){this.setEnd(A.parentNode,b(A))},setEndAfter:function(A){this.setEnd(A.parentNode,b(A)+1)},selectNode:function(A){this.setStartBefore(A);this.setEndAfter(A)},selectNodeContents:function(A){this.setStart(A,0);this.setEnd(A,A[A.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(A){var B=this;if(A){B.setEnd(B.startContainer,B.startOffset)}else{B.setStart(B.endContainer,B.endOffset)}},deleteContents:function(){var B=this,A=B.cloneRange();if(B.startContainer!=B.commonAncestorContainer){B.setStartAfter(i(B.commonAncestorContainer,B.startContainer))}B.collapse(true);(function C(D){while(D.next()){if(D.hasPartialSubtree()){C(D.getSubtreeIterator())}else{D.remove()}}})(new l(A))},cloneContents:function(){var B=w.documentFromRange(this);return(function A(C){var D,E=B.createDocumentFragment();while(D=C.next()){D=D.cloneNode(!C.hasPartialSubtree());if(C.hasPartialSubtree()){D.appendChild(A(C.getSubtreeIterator()))}E.appendChild(D)}return E})(new l(this))},extractContents:function(){var D=this,B=D.cloneRange();if(D.startContainer!=D.commonAncestorContainer){D.setStartAfter(i(D.commonAncestorContainer,D.startContainer))}D.collapse(true);var A=w.documentFromRange(D);return(function C(E){var F,G=A.createDocumentFragment();while(F=E.next()){if(E.hasPartialSubtree()){F=F.cloneNode(false);F.appendChild(C(E.getSubtreeIterator()))}else{E.remove(D.originalRange)}G.appendChild(F)}return G})(new l(B))},insertNode:function(B){var A=this;if(y(A.startContainer)){if(A.startOffset!=A.startContainer.nodeValue.length){p.splitDataNode(A.startContainer,A.startOffset)}p.insertAfter(B,A.startContainer)}else{p.insertAt(A.startContainer,B,A.startOffset)}A.setStart(A.startContainer,A.startOffset)},cloneRange:function(){return d.extend(new z(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var A=this.startContainer.nodeName,B=this.endContainer.nodeName;return[A=="#text"?this.startContainer.nodeValue:A,"(",this.startOffset,") : ",B=="#text"?this.endContainer.nodeValue:B,"(",this.endOffset,")"].join("")}});function h(H,D,A,E){if(H==D){return E-A}var C=D;while(C&&C.parentNode!=H){C=C.parentNode}if(C){return b(C)-A}C=H;while(C&&C.parentNode!=D){C=C.parentNode}if(C){return E-b(C)-1}var B=p.commonAncestor(H,D);var F=H;while(F&&F.parentNode!=B){F=F.parentNode}if(!F){F=B}var G=D;while(G&&G.parentNode!=B){G=G.parentNode}if(!G){G=B}if(F==G){return 0}return b(G)-b(F)}function f(B,C){function A(D){try{return h(D.startContainer,D.endContainer,D.startOffset,D.endOffset)<0}catch(E){return true}}if(A(B)){if(C){B.commonAncestorContainer=B.endContainer=B.startContainer;B.endOffset=B.startOffset}else{B.commonAncestorContainer=B.startContainer=B.endContainer;B.startOffset=B.endOffset}B.collapsed=true}}function a(A){A.collapsed=A.startContainer==A.endContainer&&A.startOffset==A.endOffset;var B=A.startContainer;while(B&&B!=A.endContainer&&!p.isAncestorOf(B,A.endContainer)){B=B.parentNode}A.commonAncestorContainer=B}var l=q.extend({init:function(B){d.extend(this,{range:B,_current:null,_next:null,_end:null});if(B.collapsed){return}var A=B.commonAncestorContainer;this._next=B.startContainer==A&&!y(B.startContainer)?B.startContainer.childNodes[B.startOffset]:i(A,B.startContainer);this._end=B.endContainer==A&&!y(B.endContainer)?B.endContainer.childNodes[B.endOffset]:i(A,B.endContainer).nextSibling},hasNext:function(){return !!this._next},next:function(){var A=this,B=A._current=A._next;A._next=A._current&&A._current.nextSibling!=A._end?A._current.nextSibling:null;if(y(A._current)){if(A.range.endContainer==A._current){B=B.cloneNode(true);B.deleteData(A.range.endOffset,B.length-A.range.endOffset)}if(A.range.startContainer==A._current){B=B.cloneNode(true);B.deleteData(0,A.range.startOffset)}}return B},traverse:function(D){var B=this,C;function A(){B._current=B._next;B._next=B._current&&B._current.nextSibling!=B._end?B._current.nextSibling:null;return B._current}while(C=A()){if(B.hasPartialSubtree()){B.getSubtreeIterator().traverse(D)}else{D(C)}}return C},remove:function(D){var E=this,F=E.range.startContainer==E._current,I=E.range.endContainer==E._current,A,C,H;if(y(E._current)&&(F||I)){A=F?E.range.startOffset:0;C=I?E.range.endOffset:E._current.length;H=C-A;if(D&&(F||I)){if(E._current==D.startContainer&&A<=D.startOffset){D.startOffset-=H}if(E._current==D.endContainer&&C<=D.endOffset){D.endOffset-=H}}E._current.deleteData(A,H)}else{var G=E._current.parentNode;if(D&&(E.range.startContainer==G||E.range.endContainer==G)){var B=b(E._current);if(G==D.startContainer&&B<=D.startOffset){D.startOffset-=1}if(G==D.endContainer&&B<D.endOffset){D.endOffset-=1}}p.remove(E._current)}},hasPartialSubtree:function(){return !y(this._current)&&(p.isAncestorOrSelf(this._current,this.range.startContainer)||p.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var B=this,A=B.range.cloneRange();A.selectNodeContents(B._current);if(p.isAncestorOrSelf(B._current,B.range.startContainer)){A.setStart(B.range.startContainer,B.range.startOffset)}if(p.isAncestorOrSelf(B._current,B.range.endContainer)){A.setEnd(B.range.endContainer,B.range.endOffset)}return new l(A)}});var v=q.extend({init:function(A){this.ownerDocument=A;this.rangeCount=1},addRange:function(A){var B=this.ownerDocument.body.createTextRange();g(B,A,false);g(B,A,true);B.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var J,D=new z(this.ownerDocument),G=this.ownerDocument.selection,C;try{J=G.createRange();C=J.item?J.item(0):J.parentElement();if(C.ownerDocument!=this.ownerDocument){return D}}catch(F){return D}if(G.type=="Control"){D.selectNode(J.item(0))}else{t(J,D,true);t(J,D,false);if(D.startContainer.nodeType==9){D.setStart(D.endContainer,D.startOffset)}if(D.endContainer.nodeType==9){D.setEnd(D.startContainer,D.endOffset)}if(J.compareEndPoints("StartToEnd",J)===0){D.collapse(false)}var B=D.startContainer,I=D.endContainer,E=this.ownerDocument.body;if(!D.collapsed&&D.startOffset===0&&D.endOffset==c(D.endContainer)&&!(B==I&&y(B)&&B.parentNode==E)){var H=false,A=false;while(b(B)===0&&B==B.parentNode.firstChild&&B!=E){B=B.parentNode;H=true}while(b(I)==c(I.parentNode)-1&&I==I.parentNode.lastChild&&I!=E){I=I.parentNode;A=true}if(B==E&&I==E&&H&&A){D.setStart(B,0);D.setEnd(I,c(E))}}}return D}});function g(J,F,C){var B=F[C?"startContainer":"endContainer"];var E=F[C?"startOffset":"endOffset"],D=0;var H=y(B)?B:B.childNodes[E]||null;var G=y(B)?B.parentNode:B;if(B.nodeType==3||B.nodeType==4){D=E}var A=G.insertBefore(p.create(F.ownerDocument,"a"),H);var I=F.ownerDocument.body.createTextRange();I.moveToElementText(A);p.remove(A);I[C?"moveStart":"moveEnd"]("character",D);I.collapse(false);J.setEndPoint(C?"StartToStart":"EndToStart",I)}function t(D,A,G){var B=p.create(A.ownerDocument,"a"),F=D.duplicate();F.collapse(G);var C=F.parentElement();do{C.insertBefore(B,B.previousSibling);F.moveToElementText(B)}while(F.compareEndPoints(G?"StartToStart":"StartToEnd",D)>0&&B.previousSibling);F.setEndPoint(G?"EndToStart":"EndToEnd",D);var E=B.nextSibling;if(!E){E=B.previousSibling;if(E&&y(E)){A.setEnd(E,E.nodeValue.length);p.remove(B)}else{A.selectNodeContents(C);p.remove(B);A.endOffset-=1}return}p.remove(B);if(y(E)){A[G?"setStart":"setEnd"](E,F.text.length)}else{A[G?"setStartBefore":"setEndBefore"](E)}}var s=q.extend({init:function(A){this.enumerate=function(){var B=[];function C(D){if(p.is(D,"img")||(D.nodeType==3&&!p.isWhitespace(D))){B.push(D)}else{D=D.firstChild;while(D){C(D);D=D.nextSibling}}}new l(A).traverse(C);return B}}});var u=q.extend({init:function(A){var B=this;B.range=A;B.rootNode=w.documentFromRange(A);B.body=B.rootNode.body;B.html=B.body.innerHTML;B.startContainer=B.nodeToPath(A.startContainer);B.endContainer=B.nodeToPath(A.endContainer);B.startOffset=B.offset(A.startContainer,A.startOffset);B.endOffset=B.offset(A.endContainer,A.endOffset)},index:function(D){var A=0,C=D.nodeType;while(D=D.previousSibling){var B=D.nodeType;if(B!=3||C!=B){A++}C=B}return A},offset:function(A,B){if(A.nodeType==3){while((A=A.previousSibling)&&A.nodeType==3){B+=A.nodeValue.length}}return B},nodeToPath:function(A){var B=[];while(A!=this.rootNode){B.push(this.index(A));A=A.parentNode}return B},toRangePoint:function(A,G,E,D){var C=this.rootNode,B=E.length,F=D;while(B--){C=C.childNodes[E[B]]}while(C.nodeType==3&&C.nodeValue.length<F){F-=C.nodeValue.length;C=C.nextSibling}A[G?"setStart":"setEnd"](C,F)},toRange:function(){var B=this,A=B.range.cloneRange();B.toRangePoint(A,true,B.startContainer,B.startOffset);B.toRangePoint(A,false,B.endContainer,B.endOffset);return A}});var e=q.extend({init:function(){this.caret=null},addCaret:function(A){var B=this;B.caret=p.create(w.documentFromRange(A),"span",{className:"k-marker"});A.insertNode(B.caret);A.selectNode(B.caret);return B.caret},removeCaret:function(C){var G=this,F=G.caret.previousSibling,A=0;if(F){A=y(F)?F.nodeValue.length:b(F)}var B=G.caret.parentNode;var D=F?b(F):0;p.remove(G.caret);m(B);var E=B.childNodes[D];if(y(E)){C.setStart(E,A)}else{if(E){var H=p.lastTextNode(E);if(H){C.setStart(H,H.nodeValue.length)}else{C[F?"setStartAfter":"setStartBefore"](E)}}else{if(!x.msie&&!B.innerHTML){B.innerHTML='<br _moz_dirty="" />'}C.selectNodeContents(B)}}C.collapse(true)},add:function(A,B){var D=this;if(B&&A.collapsed){D.addCaret(A);A=w.expand(A)}var C=A.cloneRange();C.collapse(false);D.end=p.create(w.documentFromRange(A),"span",{className:"k-marker"});C.insertNode(D.end);C=A.cloneRange();C.collapse(true);D.start=D.end.cloneNode(true);C.insertNode(D.start);A.setStartBefore(D.start);A.setEndAfter(D.end);m(A.commonAncestorContainer);return A},remove:function(L){var M=this,E=M.start,H=M.end,F,B,A;m(L.commonAncestorContainer);while(!E.nextSibling&&E.parentNode){E=E.parentNode}while(!H.previousSibling&&H.parentNode){H=H.parentNode}F=(E.previousSibling&&E.previousSibling.nodeType==3)&&(E.nextSibling&&E.nextSibling.nodeType==3);B=(H.previousSibling&&H.previousSibling.nodeType==3)&&(H.nextSibling&&H.nextSibling.nodeType==3);A=F&&B;E=E.nextSibling;H=H.previousSibling;var I=false;var G=false;if(E==M.end){G=!!M.start.previousSibling;E=H=M.start.previousSibling||M.end.nextSibling;I=true}p.remove(M.start);p.remove(M.end);if(!E||!H){L.selectNodeContents(L.commonAncestorContainer);L.collapse(true);return}var N=I?y(E)?E.nodeValue.length:E.childNodes.length:0;var O=y(H)?H.nodeValue.length:H.childNodes.length;if(E.nodeType==3){while(E.previousSibling&&E.previousSibling.nodeType==3){E=E.previousSibling;N+=E.nodeValue.length}}if(H.nodeType==3){while(H.previousSibling&&H.previousSibling.nodeType==3){H=H.previousSibling;O+=H.nodeValue.length}}var Q=b(E),C=E.parentNode;var K=b(H),D=H.parentNode;for(var J=E;J.previousSibling;J=J.previousSibling){if(J.nodeType==3&&J.previousSibling.nodeType==3){Q--}}for(var P=H;P.previousSibling;P=P.previousSibling){if(P.nodeType==3&&P.previousSibling.nodeType==3){K--}}m(C);if(E.nodeType==3){E=C.childNodes[Q]}m(D);if(H.nodeType==3){H=D.childNodes[K]}if(I){if(E.nodeType==3){L.setStart(E,N)}else{L[G?"setStartAfter":"setStartBefore"](E)}L.collapse(true)}else{if(E.nodeType==3){L.setStart(E,N)}else{L.setStartBefore(E)}if(H.nodeType==3){L.setEnd(H,O)}else{L.setEndAfter(H)}}if(M.caret){M.removeCaret(L)}}});var o=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var w={nodes:function(B){var A=w.textNodes(B);if(!A.length){B.selectNodeContents(B.commonAncestorContainer);A=w.textNodes(B);if(!A.length){A=p.significantChildNodes(B.commonAncestorContainer)}}return A},textNodes:function(A){return new s(A).enumerate()},documentFromRange:function(A){var B=A.startContainer;return B.nodeType==9?B:B.ownerDocument},createRange:function(A){if(x.msie&&x.version<9){return new z(A)}return A.createRange()},selectRange:function(A){var C=w.image(A);if(C){A.setStartAfter(C);A.setEndAfter(C)}var B=n.selectionFromRange(A);B.removeAllRanges();B.addRange(A)},split:function(B,D,A){function C(G){var F=B.cloneRange();F.collapse(G);F[G?"setStartBefore":"setEndAfter"](D);var E=F.extractContents();if(A){E=p.trim(E)}p[G?"insertBefore":"insertAfter"](E,D)}C(true);C(false)},getMarkers:function(A){var B=[];new l(A).traverse(function(C){if(C.className=="k-marker"){B.push(C)}});return B},image:function(B){var A=[];new l(B).traverse(function(C){if(p.is(C,"img")){A.push(C)}});if(A.length==1){return A[0]}},expand:function(D){var C=D.cloneRange();var F=C.startContainer.childNodes[C.startOffset===0?0:C.startOffset-1];var H=C.endContainer.childNodes[C.endOffset];if(!y(F)||!y(H)){return C}var G=F.nodeValue;var B=H.nodeValue;if(!G||!B){return C}var A=G.split("").reverse().join("").search(o);var E=B.search(o);if(!A||!E){return C}E=E==-1?B.length:E;A=A==-1?0:G.length-A;C.setStart(F,A);C.setEnd(H,E);return C},isExpandable:function(E){var B=E.startContainer;var A=w.documentFromRange(E);if(B==A||B==A.body){return false}var I=E.cloneRange();var H=B.nodeValue;if(!H){return false}var C=H.substring(0,I.startOffset);var D=H.substring(I.startOffset);var F=0,G=0;if(C){F=C.split("").reverse().join("").search(o)}if(D){G=D.search(o)}return F&&G}};r(k,{SelectionUtils:n,W3CRange:z,RangeIterator:l,W3CSelection:v,RangeEnumerator:s,RestorePoint:u,Marker:e,RangeUtils:w})})(window.kendo.jQuery);(function(c){var j=window.kendo,t=j.Class,n=j.ui.editor,f=n.EditorUtils,l=f.registerTool,s=n.Dom,x=n.RangeUtils,v=x.selectRange,e=n.Tool,m=n.ToolTemplate,w=n.RestorePoint,d=n.Marker,u=c.extend;var q=t.extend({init:function(y){var z=this;z.options=y;z.restorePoint=new w(y.range);z.marker=new d();z.formatter=y.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(y){return this.marker.add(this.getRange(),y)},releaseRange:function(y){this.marker.remove(y);v(y)},undo:function(){var y=this.restorePoint;y.body.innerHTML=y.html;v(y.toRange())},redo:function(){this.exec()},exec:function(){var z=this,y=z.lockRange(true);z.formatter.editor=z.editor;z.formatter.toggle(y);z.releaseRange(y)}});var p=t.extend({init:function(z,y){this.body=z.body;this.startRestorePoint=z;this.endRestorePoint=y},redo:function(){this.body.innerHTML=this.endRestorePoint.html;v(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;v(this.startRestorePoint.toRange())}});var a=q.extend({init:function(y){q.fn.init.call(this,y);this.managesUndoRedo=true},exec:function(){var A=this.editor;var y=A.getRange();var z=new w(y);A.clipboard.paste(this.options.value||"");A.undoRedoStack.push(new p(z,new w(A.getRange())));A.focus()}});var k=e.extend({initialize:function(A,z){var y=z.editor;new n.SelectBox(A,{dataSource:y.options.insertHtml||[],dataTextField:"text",dataValueField:"value",change:function(B){e.exec(y,"insertHtml",this.value())},title:y.options.messages.insertHtml,highlightFirst:false})},command:function(y){return new a(y)},update:function(A,z){var y=A.data("kendoSelectBox")||A.find("select").data("kendoSelectBox");y.close();y.value(y.options.title)}});var r=t.extend({init:function(){this.stack=[];this.currentCommandIndex=-1},push:function(z){var y=this;y.stack=y.stack.slice(0,y.currentCommandIndex+1);y.currentCommandIndex=y.stack.push(z)-1},undo:function(){if(this.canUndo()){this.stack[this.currentCommandIndex--].undo()}},redo:function(){if(this.canRedo()){this.stack[++this.currentCommandIndex].redo()}},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});var h=t.extend({init:function(y){this.editor=y},keydown:function(E){var D=this,C=D.editor,y=C.keyboard,B=y.isTypingKey(E),z=u(c.Event(),E);D.editor.trigger("keydown",z);if(z.isDefaultPrevented()){E.preventDefault()}if(!z.isDefaultPrevented()&&B&&!y.isTypingInProgress()){var A=C.getRange();D.startRestorePoint=new w(A);y.startTyping(function(){C.selectionRestorePoint=D.endRestorePoint=new w(C.getRange());C.undoRedoStack.push(new p(D.startRestorePoint,D.endRestorePoint))});return true}return false},keyup:function(z){var y=this.editor.keyboard;this.editor.trigger("keyup",z);if(y.isTypingInProgress()){y.endTyping();return true}return false}});var i=t.extend({init:function(y){this.editor=y;this.systemCommandIsInProgress=false},createUndoCommand:function(){var y=this;y.endRestorePoint=new w(y.editor.getRange());y.editor.undoRedoStack.push(new p(y.startRestorePoint,y.endRestorePoint));y.startRestorePoint=y.endRestorePoint},changed:function(){if(this.startRestorePoint){return this.startRestorePoint.html!=this.editor.body.innerHTML}return false},keydown:function(B){var A=this,z=A.editor,y=z.keyboard;if(y.isModifierKey(B)){if(y.isTypingInProgress()){y.endTyping(true)}A.startRestorePoint=new w(z.getRange());return true}if(y.isSystem(B)){A.systemCommandIsInProgress=true;if(A.changed()){A.systemCommandIsInProgress=false;A.createUndoCommand()}return true}return false},keyup:function(z){var y=this;if(y.systemCommandIsInProgress&&y.changed()){y.systemCommandIsInProgress=false;y.createUndoCommand(z);return true}return false}});var b=t.extend({init:function(y){this.handlers=y;this.typingInProgress=false},isCharacter:function(y){return(y>=48&&y<=90)||(y>=96&&y<=111)||(y>=186&&y<=192)||(y>=219&&y<=222)},toolFromShortcut:function(B,A){var y=String.fromCharCode(A.keyCode),z,C;for(z in B){C=c.extend({ctrl:false,alt:false,shift:false},B[z].options);if((C.key==y||C.key==A.keyCode)&&C.ctrl==A.ctrlKey&&C.alt==A.altKey&&C.shift==A.shiftKey){return z}}},isTypingKey:function(z){var y=z.keyCode;return(this.isCharacter(y)&&!z.ctrlKey&&!z.altKey)||y==32||y==13||y==8||(y==46&&!z.shiftKey&&!z.ctrlKey&&!z.altKey)},isModifierKey:function(z){var y=z.keyCode;return(y==17&&!z.shiftKey&&!z.altKey)||(y==16&&!z.ctrlKey&&!z.altKey)||(y==18&&!z.ctrlKey&&!z.shiftKey)},isSystem:function(y){return y.keyCode==46&&y.ctrlKey&&!y.altKey&&!y.shiftKey},startTyping:function(y){this.onEndTyping=y;this.typingInProgress=true},stopTyping:function(){this.typingInProgress=false;if(this.onEndTyping){this.onEndTyping()}},endTyping:function(z){var y=this;y.clearTimeout();if(z){y.stopTyping()}else{y.timeout=window.setTimeout(c.proxy(y.stopTyping,y),1000)}},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(B,A){var z,y=this.handlers;for(z=0;z<y.length;z++){if(y[z][A](B)){break}}},keydown:function(y){this.notify(y,"keydown")},keyup:function(y){this.notify(y,"keyup")}});var g=t.extend({init:function(y){this.editor=y;this.cleaners=[new o()]},htmlToFragment:function(A){var B=this.editor,C=B.document,y=s.create(C,"div"),z=C.createDocumentFragment();y.innerHTML=A;while(y.firstChild){z.appendChild(y.firstChild)}return z},isBlock:function(y){return(/<(div|p|ul|ol|table|h[1-6])/i).test(y)},oncut:function(A){var z=this.editor,y=new w(z.getRange());setTimeout(function(){z.undoRedoStack.push(new p(y,new w(z.getRange())))})},onpaste:function(E){var D=this.editor,B=D.getRange(),F="\ufeff",A=new w(B),y=s.create(D.document,"div",{className:"k-paste-container",innerHTML:F});D.body.appendChild(y);if(D.body.createTextRange){E.preventDefault();var z=D.createRange();z.selectNodeContents(y);D.selectRange(z);var G=D.body.createTextRange();G.moveToElementText(y);c(D.body).unbind("paste");G.execCommand("Paste");c(D.body).bind("paste",c.proxy(arguments.callee,this))}else{var C=D.createRange();C.selectNodeContents(y);v(C)}setTimeout(function(){var I,H={html:""};v(B);s.remove(y);if(y.lastChild&&s.is(y.lastChild,"br")){s.remove(y.lastChild)}I=y.innerHTML;if(I!=F){H.html=I}D.trigger("paste",H);D.clipboard.paste(H.html,true);D.undoRedoStack.push(new p(A,new w(D.getRange())));n.EditorUtils.select(D)})},splittableParent:function(B,A){var z,y;if(B){return s.parentOfType(A,["p","ul","ol"])||A.parentNode}z=A.parentNode;y=A.ownerDocument.body;if(s.isInline(z)){while(z.parentNode!=y&&!s.isBlock(z.parentNode)){z=z.parentNode}}return z},paste:function(E,I){var G=this.editor,C,z;for(C=0,z=this.cleaners.length;C<z;C++){if(this.cleaners[C].applicable(E)){E=this.cleaners[C].clean(E)}}if(I){E=E.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3");E=E.replace(/<(a|span)[^>]*><\/\1>/ig,"")}E=E.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var A=this.isBlock(E);var F=G.getRange();F.deleteContents();if(F.startContainer==G.document){F.selectNodeContents(G.body)}var D=new d();var J=D.addCaret(F);var K=this.splittableParent(A,J);var B=false;if(!/body|td/.test(s.name(K))&&(A||s.isInline(K))){F.selectNode(J);x.split(F,K,true);B=true}var H=this.htmlToFragment(E);if(H.firstChild&&H.firstChild.className==="k-paste-container"){var y=[];for(C=0,z=H.childNodes.length;C<z;C++){y.push(H.childNodes[C].innerHTML)}H=this.htmlToFragment(y.join("<br />"))}F.insertNode(H);K=this.splittableParent(A,J);if(B){while(J.parentNode!=K){s.unwrap(J.parentNode)}s.unwrap(J.parentNode)}s.normalize(F.commonAncestorContainer);J.style.display="inline";s.scrollTo(J);D.removeCaret(F);v(F)}});var o=t.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/style=(["|'])\s*\1/g,""]},applicable:function(y){return(/class="?Mso|style="[^"]*mso-/i).test(y)},listType:function(y){if(/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(y)){return"ul"}if(/^\s*\w+[\.\)]\u00a0{2,}/.test(y)){return"ol"}},lists:function(D){var I=s.create(document,"div",{innerHTML:D});var H=c(s.blockElements.join(","),I);var y=-1,E,L={ul:{},ol:{}},K=I;for(var C=0;C<H.length;C++){var z=H[C];D=z.innerHTML.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");var G=this.listType(D);if(!G||s.name(z)!="p"){if(!z.innerHTML){s.remove(z)}else{L={ul:{},ol:{}};K=I;y=-1}continue}var B=parseFloat(z.style.marginLeft||0);var F=L[G][B];if(B>y||!F){F=s.create(document,G);if(K==I){s.insertBefore(F,z)}else{K.appendChild(F)}L[G][B]=F}if(E!=G){for(var J in L){for(var A in L[J]){if(c.contains(F,L[J][A])){delete L[J][A]}}}}s.remove(z.firstChild);K=s.create(document,"li",{innerHTML:z.innerHTML});F.appendChild(K);s.remove(z);y=B;E=G}return I.innerHTML},stripEmptyAnchors:function(y){return y.replace(/<a([^>]*)>\s*<\/a>/ig,function(z,A){if(!A||A.indexOf("href")<0){return""}return z})},clean:function(A){var C=this,B=C.replacements,z,y;for(z=0,y=B.length;z<y;z+=2){A=A.replace(B[z],B[z+1])}A=C.stripEmptyAnchors(A);A=C.lists(A);A=A.replace(/\s+class="?[^"\s>]*"?/ig,"");return A}});u(n,{Command:q,GenericCommand:p,InsertHtmlCommand:a,InsertHtmlTool:k,UndoRedoStack:r,TypingHandler:h,SystemHandler:i,Keyboard:b,Clipboard:g,MSWordFormatCleaner:o});l("insertHtml",new k({template:new m({template:f.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})(window.kendo.jQuery);(function(e){var m=window.kendo,t=m.Class,p=m.ui.editor,f=m.ui.Editor.fn.options.formats,i=p.EditorUtils,h=p.Tool,o=p.ToolTemplate,d=p.FormatTool,s=p.Dom,w=p.RangeUtils,u=e.extend,n=p.EditorUtils.registerTool,c=p.EditorUtils.registerFormat,k="k-marker";var r=t.extend({init:function(y){this.format=y},numberOfSiblings:function(B){var z=0,A=0,C=0,y=B.parentNode,D;for(D=y.firstChild;D;D=D.nextSibling){if(D!=B){if(D.className==k){C++}else{if(D.nodeType==3){z++}else{A++}}}}if(C>1&&y.firstChild.className==k&&y.lastChild.className==k){return 0}else{return A+z}},findSuitable:function(y,z){if(!z&&this.numberOfSiblings(y)>0){return null}return s.parentOfType(y,this.format[0].tags)},findFormat:function(C){var F=this.format,E=s.attrEquals,B,y,D,A,z;for(B=0,y=F.length;B<y;B++){D=C;A=F[B].tags;z=F[B].attr;if(D&&s.ofType(D,A)&&E(D,z)){return D}while(D){D=s.parentOfType(D,A);if(D&&E(D,z)){return D}}}return null},isFormatted:function(z){var A,y;for(A=0,y=z.length;A<y;A++){if(this.findFormat(z[A])){return true}}return false}});var x=t.extend({init:function(A,y){var z=this;z.finder=new r(A);z.attributes=u({},A[0].attr,y);z.tag=A[0].tags[0]},wrap:function(y){return s.wrap(y,s.create(y.ownerDocument,this.tag,this.attributes))},activate:function(z,y){var A=this;if(A.finder.isFormatted(y)){A.split(z);A.remove(y)}else{A.apply(y)}},toggle:function(z){var y=w.textNodes(z);if(y.length>0){this.activate(z,y)}},apply:function(z){var D=this,C=[],A,y,B,E;for(A=0,y=z.length;A<y;A++){B=z[A];E=D.finder.findSuitable(B);if(E){s.attr(E,D.attributes)}else{E=D.wrap(B)}C.push(E)}D.consolidate(C)},remove:function(z){var B=this,A,y,C;for(A=0,y=z.length;A<y;A++){C=B.finder.findFormat(z[A]);if(C){if(B.attributes&&B.attributes.style){s.unstyle(C,B.attributes.style);if(!C.style.cssText){s.unwrap(C)}}else{s.unwrap(C)}}}},split:function(A){var z=w.textNodes(A),y=z.length,B,C;if(y>0){for(B=0;B<y;B++){C=this.finder.findFormat(z[B]);if(C){w.split(A,C,true)}}}},consolidate:function(y){var A,z;while(y.length>1){A=y.pop();z=y[y.length-1];if(A.previousSibling&&A.previousSibling.className==k){z.appendChild(A.previousSibling)}if(A.tagName==z.tagName&&A.previousSibling==z&&A.style.cssText==z.style.cssText){while(A.firstChild){z.appendChild(A.firstChild)}s.remove(A)}}}});var b=r.extend({init:function(A,y){var z=this;z.format=A;z.greedyProperty=y;r.fn.init.call(z,A)},getInlineCssValue:function(B){var G=B.attributes,C=e.trim,H,E,z,y,D,I,F,A,J,K,M,L;if(!G){return}for(H=0,E=G.length;H<E;H++){z=G[H];y=z.nodeName;D=z.nodeValue;if(z.specified&&y=="style"){I=C(D||B.style.cssText).split(";");for(A=0,J=I.length;A<J;A++){F=I[A];if(F.length){K=F.split(":");M=C(K[0].toLowerCase());L=C(K[1]);if(M!=this.greedyProperty){continue}return M.indexOf("color")>=0?s.toHex(L):L}}}}},getFormatInner:function(C){var z=e(s.isDataNode(C)?C.parentNode:C),A=z.parents().andSelf(),B,y,D;for(B=0,y=A.length;B<y;B++){D=this.greedyProperty=="className"?A[B].className:this.getInlineCssValue(A[B]);if(D){return D}}return"inherit"},getFormat:function(A){var z=this.getFormatInner(A[0]),B,y;for(B=1,y=A.length;B<y;B++){if(z!=this.getFormatInner(A[B])){return""}}return z},isFormatted:function(y){return this.getFormat(y)!==""}});var v=x.extend({init:function(B,y,z){var A=this;x.fn.init.call(A,B,y);A.greedyProperty=z;A.values=y;A.finder=new b(B,z)},activate:function(z,y){var C=this,B,A=C.greedyProperty,D="apply";C.split(z);if(A){B=A.replace(/-([a-z])/,function(E,F){return F.toUpperCase()});if(C.values.style[B]=="inherit"){D="remove"}}C[D](y)}});function g(y){return y.collapsed&&!w.isExpandable(y)}var j=d.extend({init:function(y){d.fn.init.call(this,u(y,{finder:new r(y.format),formatter:function(){return new x(y.format)}}));this.willDelayExecution=g}});var q=h.extend({init:function(y){var z=this;h.fn.init.call(z,y);z.type=(m.support.browser.msie||m.support.touch)?"kendoDropDownList":"kendoComboBox";z.format=[{tags:["span"]}];z.finder=new b(z.format,y.cssAttr)},command:function(y){var z=this.options,B=this.format,A={};return new p.FormatCommand(u(y,{formatter:function(){A[z.domAttr]=y.value;return new v(B,{style:A},z.cssAttr)}}))},willDelayExecution:g,update:function(C,y,B){var z=this,A=C.data(z.type),E=B.getPending(z.name),D=(E&&E.params)?E.params.value:z.finder.getFormat(y);A.close();A.value(D)},initialize:function(D,C){var A=C.editor,z=this.options,B=z.name,E,y=[];if(z.defaultValue){y=[{text:A.options.messages[z.defaultValue[0].text],value:z.defaultValue[0].value}]}E=y.concat(z.items?z.items:A.options[B]);D[this.type]({dataTextField:"text",dataValueField:"value",dataSource:E,change:function(){h.exec(A,B,this.value())},highlightFirst:false});D.closest(".k-widget").removeClass("k-"+B).find("*").andSelf().attr("unselectable","on");D.data(this.type).value("inherit")}});var a=h.extend({init:function(y){h.fn.init.call(this,y);this.options=y;this.format=[{tags:["span"]}]},update:function(y){y.data("kendoColorPicker").close()},command:function(y){var z=this.options,B=this.format,A={};return new p.FormatCommand(u(y,{formatter:function(){A[z.domAttr]=y.value;return new v(B,{style:A},z.cssAttr)}}))},willDelayExecution:g,initialize:function(B,A){var y=A.editor,z=this.name;B.attr("title",A.title);new p.ColorPicker(B,{value:"#000000",ariaId:y.element[0].id?m.format("{0}_{1}_cp",y.element[0].id,z):"",change:function(C){h.exec(y,z,C.value)}})}});var l=h.extend({init:function(y){var z=this;h.fn.init.call(z,y);z.format=[{tags:["span"]}];z.finder=new b(z.format,"className")},command:function(y){var z=this.format;return new p.FormatCommand(u(y,{formatter:function(){return new v(z,{className:y.value})}}))},update:function(A,y){var z=A.data("kendoSelectBox");z.close();z.value(this.finder.getFormat(y))},initialize:function(A,z){var y=z.editor;new p.SelectBox(A,{dataTextField:"text",dataValueField:"value",dataSource:y.options.style,title:y.options.messages.style,change:function(){h.exec(y,"style",this.value())},highlightFirst:false});A.closest(".k-widget").removeClass("k-"+this.name).find("*").andSelf().attr("unselectable","on")}});u(p,{InlineFormatFinder:r,InlineFormatter:x,GreedyInlineFormatFinder:b,GreedyInlineFormatter:v,InlineFormatTool:j,FontTool:q,ColorTool:a,StyleTool:l});n("style",new p.StyleTool({template:new o({template:i.dropDownListTemplate,title:"Styles"})}));c("bold",[{tags:["strong"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);n("bold",new j({key:"B",ctrl:true,format:f.bold,template:new o({template:i.buttonTemplate,title:"Bold"})}));c("italic",[{tags:["em"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);n("italic",new j({key:"I",ctrl:true,format:f.italic,template:new o({template:i.buttonTemplate,title:"Italic"})}));c("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}}]);n("underline",new j({key:"U",ctrl:true,format:f.underline,template:new o({template:i.buttonTemplate,title:"Underline"})}));c("strikethrough",[{tags:["del"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);n("strikethrough",new j({format:f.strikethrough,template:new o({template:i.buttonTemplate,title:"Strikethrough"})}));c("superscript",[{tags:["sup"]}]);n("superscript",new j({format:f.superscript,template:new o({template:i.buttonTemplate,title:"Superscript"})}));c("subscript",[{tags:["sub"]}]);n("subscript",new j({format:f.subscript,template:new o({template:i.buttonTemplate,title:"Subscript"})}));n("foreColor",new a({cssAttr:"color",domAttr:"color",name:"foreColor",template:new o({template:i.colorPickerTemplate,title:"Color"})}));n("backColor",new a({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new o({template:i.colorPickerTemplate,title:"Background Color"})}));n("fontName",new q({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new o({template:i.comboBoxTemplate,title:"Font Name"})}));n("fontSize",new q({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new o({template:i.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery);(function(e){var k=window.kendo,q=k.Class,r=e.extend,n=k.ui.editor,f=k.ui.Editor.fn.options.formats,p=n.Dom,o=n.Command,h=n.Tool,m=n.ToolTemplate,c=n.FormatTool,i=n.EditorUtils,l=i.registerTool,b=i.registerFormat,t=n.RangeUtils;var g=q.extend({init:function(v){this.format=v},contains:function(y,x){var w,v,z;for(w=0,v=x.length;w<v;w++){z=x[w];if(!z||!p.isAncestorOrSelf(y,z)){return false}}return true},findSuitable:function(w){var A=this.format,y=[],x,v,z;for(x=0,v=w.length;x<v;x++){z=p.ofType(w[x],A[0].tags)?w[x]:p.parentOfType(w[x],A[0].tags);if(!z){return[]}if(e.inArray(z,y)<0){y.push(z)}}for(x=0,v=y.length;x<v;x++){if(this.contains(y[x],y)){return[y[x]]}}return y},findFormat:function(z){var B=this.format,y,v,A,x,w;for(y=0,v=B.length;y<v;y++){A=z;x=B[y].tags;w=B[y].attr;while(A){if(p.ofType(A,x)&&p.attrEquals(A,w)){return A}A=A.parentNode}}return null},getFormat:function(x){var A=this,z=function(B){return A.findFormat(p.isDataNode(B)?B.parentNode:B)},w=z(x[0]),y,v;if(!w){return""}for(y=1,v=x.length;y<v;y++){if(w!=z(x[y])){return""}}return w.nodeName.toLowerCase()},isFormatted:function(w){for(var x=0,v=w.length;x<v;x++){if(!this.findFormat(w[x])){return false}}return true}});var a=q.extend({init:function(w,v){this.format=w;this.values=v;this.finder=new g(w)},wrap:function(D,x,w){var B=w.length==1?p.blockParentOrBody(w[0]):p.commonAncestor.apply(null,w);if(p.isInline(B)){B=p.blockParentOrBody(B)}var C=p.significantChildNodes(B),A=p.findNodeIndex(C[0]),v=p.create(B.ownerDocument,D,x),y,z;for(y=0;y<C.length;y++){z=C[y];if(p.isBlock(z)){p.attr(z,x);if(v.childNodes.length){p.insertBefore(v,z);v=v.cloneNode(false)}A=p.findNodeIndex(z)+1;continue}v.appendChild(z)}if(v.firstChild){p.insertAt(B,v,A)}},apply:function(z){var C=this,B=p.is(z[0],"img")?[z[0]]:C.finder.findSuitable(z),x=B.length?i.formatByName(p.name(B[0]),C.format):C.format[0],w=x.tags[0],y=r({},x.attr,C.values),A,v;if(B.length){for(A=0,v=B.length;A<v;A++){p.attr(B[A],y)}}else{C.wrap(w,y,z)}},remove:function(w){var x,v,z,y;for(x=0,v=w.length;x<v;x++){z=this.finder.findFormat(w[x]);if(z){if(p.ofType(z,["p","img","li"])){y=i.formatByName(p.name(z),this.format);if(y.attr.style){p.unstyle(z,y.attr.style)}if(y.attr.className){p.removeClass(z,y.attr.className)}}else{p.unwrap(z)}}}},toggle:function(w){var x=this,v=t.nodes(w);if(x.finder.isFormatted(v)){x.remove(v)}else{x.apply(v)}}});var s=q.extend({init:function(x,v){var w=this;w.format=x;w.values=v;w.finder=new g(x)},apply:function(w){var C=this.format,v=p.blockParents(w),B=C[0].tags[0],x,z,A,D,y;if(v.length){for(x=0,z=v.length;x<z;x++){if(p.is(v[x],"li")){A=v[x].parentNode;D=new n.ListFormatter(A.nodeName.toLowerCase(),B);y=this.editor.createRange();y.selectNode(v[x]);D.toggle(y)}else{p.changeTag(v[x],B)}}}else{new a(C,this.values).apply(w)}},toggle:function(w){var v=t.textNodes(w);if(!v.length){w.selectNodeContents(w.commonAncestorContainer);v=t.textNodes(w);if(!v.length){v=p.significantChildNodes(w.commonAncestorContainer)}}this.apply(v)}});var d=o.extend({init:function(v){v.formatter=v.formatter();o.fn.init.call(this,v)}});var j=c.extend({init:function(v){c.fn.init.call(this,r(v,{finder:new g(v.format),formatter:function(){return new a(v.format)}}))}});var u=h.extend({init:function(v){h.fn.init.call(this,v);this.finder=new g([{tags:p.blockElements}])},command:function(v){return new d(r(v,{formatter:function(){return new s([{tags:[v.value]}],{})}}))},update:function(x,v){var w;if(x.is("select")){w=x.data("kendoSelectBox")}else{w=x.find("select").data("kendoSelectBox")}w.close();w.value(this.finder.getFormat(v))},initialize:function(y,x){var v=x.editor,w="formatBlock";new n.SelectBox(y,{dataTextField:"text",dataValueField:"value",dataSource:this.options.items?this.options.items:v.options.formatBlock,title:v.options.messages.formatBlock,change:function(z){h.exec(v,w,this.value())},highlightFirst:false});y.closest(".k-widget").removeClass("k-"+w).find("*").andSelf().attr("unselectable","on")}});r(n,{BlockFormatFinder:g,BlockFormatter:a,GreedyBlockFormatter:s,FormatCommand:d,BlockFormatTool:j,FormatBlockTool:u});l("formatBlock",new u({template:new m({template:i.dropDownListTemplate})}));b("justifyLeft",[{tags:p.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left"}}}]);l("justifyLeft",new j({format:f.justifyLeft,template:new m({template:i.buttonTemplate,title:"Justify Left"})}));b("justifyCenter",[{tags:p.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]);l("justifyCenter",new j({format:f.justifyCenter,template:new m({template:i.buttonTemplate,title:"Justify Center"})}));b("justifyRight",[{tags:p.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right"}}}]);l("justifyRight",new j({format:f.justifyRight,template:new m({template:i.buttonTemplate,title:"Justify Right"})}));b("justifyFull",[{tags:p.blockElements,attr:{style:{textAlign:"justify"}}}]);l("justifyFull",new j({format:f.justifyFull,template:new m({template:i.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery);(function(e){var j=window.kendo,i=e.extend,h=j.ui.editor,c=h.Dom,a=h.Command,l=h.Tool,k=h.BlockFormatter,d=c.normalize,f=h.RangeUtils,g=h.EditorUtils.registerTool;var b=a.extend({init:function(n){this.options=n;a.fn.init.call(this,n)},exec:function(){var x=this.getRange(),E=f.documentFromRange(x),u,o,y,v,q=j.support.browser.msie?"":'<br _moz_dirty="" />',D,s,w,p,r,C="p,h1,h2,h3,h4,h5,h6".split(","),B=c.parentOfType(x.startContainer,C),n=c.parentOfType(x.endContainer,C),t=(B&&!n)||(!B&&n);function A(F){if(F.firstChild&&c.is(F.firstChild,"br")){c.remove(F.firstChild)}if(c.isDataNode(F)&&!F.nodeValue){F=F.parentNode}if(F&&!c.is(F,"img")){while(F.firstChild&&F.firstChild.nodeType==1){F=F.firstChild}if(F.innerHTML===""){F.innerHTML=q}}}x.deleteContents();s=c.create(E,"a");x.insertNode(s);if(!s.parentNode){v=x.commonAncestorContainer;v.innerHTML="";v.appendChild(s)}d(s.parentNode);w=c.parentOfType(s,["li"]);p=c.parentOfType(s,"h1,h2,h3,h4,h5,h6".split(","));if(w){r=x.cloneRange();r.selectNode(w);if(!f.textNodes(r).length){D=c.create(E,"p");if(w.nextSibling){f.split(r,w.parentNode)}c.insertAfter(D,w.parentNode);c.remove(w.parentNode.childNodes.length==1?w.parentNode:w);D.innerHTML=q;y=D}}else{if(p&&!s.nextSibling){D=c.create(E,"p");c.insertAfter(D,p);D.innerHTML=q;c.remove(s);y=D}}if(!y){if(!(w||p)){new k([{tags:["p"]}]).apply([s])}x.selectNode(s);u=c.parentOfType(s,[w?"li":p?c.name(p):"p"]);f.split(x,u,t);o=u.previousSibling;if(c.is(o,"li")&&o.firstChild&&!c.is(o.firstChild,"br")){o=o.firstChild}y=u.nextSibling;if(c.is(y,"li")&&y.firstChild&&!c.is(y.firstChild,"br")){y=y.firstChild}c.remove(u);A(o);A(y);d(o)}d(y);if(c.is(y,"img")){x.setStartBefore(y)}else{x.selectNodeContents(y);var z=f.textNodes(x)[0];if(z){x.selectNodeContents(z)}}x.collapse(true);c.scrollTo(y);f.selectRange(x)}});var m=a.extend({init:function(n){this.options=n;a.fn.init.call(this,n)},exec:function(){var n=this.getRange();n.deleteContents();var p=c.create(f.documentFromRange(n),"br");n.insertNode(p);d(p.parentNode);if(!j.support.browser.msie&&(!p.nextSibling||c.isWhitespace(p.nextSibling))){var o=p.cloneNode(true);o.setAttribute("_moz_dirty","");c.insertAfter(o,p)}n.setStartAfter(p);n.collapse(true);c.scrollTo(p.nextSibling);f.selectRange(n)}});i(h,{ParagraphCommand:b,NewLineCommand:m});g("insertLineBreak",new l({key:13,shift:true,command:m}));g("insertParagraph",new l({key:13,command:b}))})(window.kendo.jQuery);(function(c){var h=window.kendo,o=h.Class,p=c.extend,k=h.ui.editor,n=k.Dom,r=k.RangeUtils,g=k.EditorUtils,l=k.Command,j=k.ToolTemplate,b=k.FormatTool,e=k.BlockFormatFinder,a=r.textNodes,i=k.EditorUtils.registerTool;var q=e.extend({init:function(s){this.tag=s;var t=this.tags=[s=="ul"?"ol":"ul",s];e.fn.init.call(this,[{tags:t}])},isFormatted:function(s){var u=[],v;for(var t=0;t<s.length;t++){if((v=this.findFormat(s[t]))&&n.name(v)==this.tag){u.push(v)}}if(u.length<1){return false}if(u.length!=s.length){return false}for(t=0;t<u.length;t++){if(u[t].parentNode!=v.parentNode){break}if(u[t]!=v){return false}}return true},findSuitable:function(s){var t=n.parentOfType(s[0],this.tags);if(t&&n.name(t)==this.tag){return t}return null}});var f=o.extend({init:function(s,t){var u=this;u.finder=new q(s);u.tag=s;u.unwrapTag=t},wrap:function(w,t){var s=n.create(w.ownerDocument,"li"),u,v;for(u=0;u<t.length;u++){v=t[u];if(n.is(v,"li")){w.appendChild(v);continue}if(n.is(v,"ul")||n.is(v,"ol")){while(v.firstChild){w.appendChild(v.firstChild)}continue}if(n.is(v,"td")){while(v.firstChild){s.appendChild(v.firstChild)}w.appendChild(s);v.appendChild(w);w=w.cloneNode(false);s=s.cloneNode(false);continue}s.appendChild(v);if(n.isBlock(v)){w.appendChild(s);n.unwrap(v);s=s.cloneNode(false)}}if(s.firstChild){w.appendChild(s)}},containsAny:function(u,s){for(var t=0;t<s.length;t++){if(n.isAncestorOrSelf(u,s[t])){return true}}return false},suitable:function(u,s){if(u.className=="k-marker"){var t=u.nextSibling;if(t&&n.isBlock(t)){return false}t=u.previousSibling;if(t&&n.isBlock(t)){return false}}return this.containsAny(u,s)||n.isInline(u)||u.nodeType==3},split:function(v){var u=a(v),z,t;if(u.length){z=n.parentOfType(u[0],["li"]);t=n.parentOfType(u[u.length-1],["li"]);v.setStartBefore(z);v.setEndAfter(t);for(var x=0,s=u.length;x<s;x++){var y=this.finder.findFormat(u[x]);if(y){var w=c(y).parents("ul,ol");if(w[0]){r.split(v,w.last()[0],true)}else{r.split(v,y,true)}}}}},merge:function(s,v){var u=v.previousSibling,t;while(u&&(u.className=="k-marker"||(u.nodeType==3&&n.isWhitespace(u)))){u=u.previousSibling}if(u&&n.name(u)==s){while(v.firstChild){u.appendChild(v.firstChild)}n.remove(v);v=u}t=v.nextSibling;while(t&&(t.className=="k-marker"||(t.nodeType==3&&n.isWhitespace(t)))){t=t.nextSibling}if(t&&n.name(t)==s){while(v.lastChild){t.insertBefore(v.lastChild,t.firstChild)}n.remove(v)}},applyOnSection:function(x,t){var C=this.tag,y;if(t.length==1){y=n.parentOfType(t[0],["ul","ol"])}else{y=n.commonAncestor.apply(null,t)}if(!y){y=n.parentOfType(t[0],["td"])||t[0].ownerDocument.body}if(n.isInline(y)){y=n.blockParentOrBody(y)}var B=[];var A=this.finder.findSuitable(t);if(!A){A=new q(C=="ul"?"ol":"ul").findSuitable(t)}var z=n.significantChildNodes(y);if(!z.length){z=t}if(/table|tbody/.test(n.name(y))){z=c.map(t,function(D){return n.parentOfType(D,["td"])})}function s(){B.push(this)}for(var v=0;v<z.length;v++){var u=z[v];var w=n.name(u);if(this.suitable(u,t)&&(!A||!n.isAncestorOrSelf(A,u))){if(A&&(w=="ul"||w=="ol")){c.each(u.childNodes,s);n.remove(u)}else{B.push(u)}}}if(B.length==z.length&&y!=t[0].ownerDocument.body&&!/table|tbody|tr|td/.test(n.name(y))){B=[y]}if(!A){A=n.create(y.ownerDocument,C);n.insertBefore(A,B[0])}this.wrap(A,B);if(!n.is(A,C)){n.changeTag(A,C)}this.merge(C,A)},apply:function(s){var u=0,x=[],t,w,v;do{v=n.parentOfType(s[u],["td","body"]);if(!t||v!=t){if(t){x.push({section:t,nodes:w})}w=[s[u]];t=v}else{w.push(s[u])}u++}while(u<s.length);x.push({section:t,nodes:w});for(u=0;u<x.length;u++){this.applyOnSection(x[u].section,x[u].nodes)}},unwrap:function(w){var u=w.ownerDocument.createDocumentFragment(),v=this.unwrapTag,t,s,x,y;for(s=w.firstChild;s;s=s.nextSibling){x=n.create(w.ownerDocument,v||"p");while(s.firstChild){y=s.firstChild;if(n.isBlock(y)){if(x.firstChild){u.appendChild(x);x=n.create(w.ownerDocument,v||"p")}u.appendChild(y)}else{x.appendChild(y)}}if(x.firstChild){u.appendChild(x)}}t=c(w).parents("ul,ol");if(t[0]){n.insertAfter(u,t.last()[0]);t.last().remove()}else{n.insertAfter(u,w)}n.remove(w)},remove:function(t){var v;for(var u=0,s=t.length;u<s;u++){v=this.finder.findFormat(t[u]);if(v){this.unwrap(v)}}},toggle:function(t){var v=this,s=a(t),u=t.commonAncestorContainer;if(!s.length){t.selectNodeContents(u);s=a(t);if(!s.length){var w=u.ownerDocument.createTextNode("");t.startContainer.appendChild(w);s=[w];t.selectNode(w.parentNode)}}if(v.finder.isFormatted(s)){v.split(t);v.remove(s)}else{v.apply(s)}}});var d=l.extend({init:function(s){s.formatter=new f(s.tag);l.fn.init.call(this,s)}});var m=b.extend({init:function(s){this.options=s;b.fn.init.call(this,p(s,{finder:new q(s.tag)}))},command:function(s){return new d(p(s,{tag:this.options.tag}))}});p(k,{ListFormatFinder:q,ListFormatter:f,ListCommand:d,ListTool:m});i("insertUnorderedList",new m({tag:"ul",template:new j({template:g.buttonTemplate,title:"Remove Link"})}));i("insertOrderedList",new m({tag:"ol",template:new j({template:g.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(c,e){var h=window.kendo,p=h.Class,r=c.extend,k=h.ui.editor,o=k.Dom,t=k.RangeUtils,g=k.EditorUtils,l=k.Command,f=k.Tool,j=k.ToolTemplate,u=k.InlineFormatter,n=k.InlineFormatFinder,a=t.textNodes,i=k.EditorUtils.registerTool;var q=p.extend({findSuitable:function(v){return o.parentOfType(v,["a"])}});var m=p.extend({init:function(){this.finder=new q()},apply:function(y,x){var w=a(y),B,A,z,v;if(x.innerHTML){B=t.getMarkers(y);A=t.documentFromRange(y);y.deleteContents();v=o.create(A,"a",x);y.insertNode(v);if(B.length>1){o.insertAfter(B[B.length-1],v);o.insertAfter(B[1],v);o[w.length>0?"insertBefore":"insertAfter"](B[0],v)}}else{z=new u([{tags:["a"]}],x);z.finder=this.finder;z.apply(w)}}});var d=l.extend({init:function(v){v.formatter={toggle:function(w){new u([{tags:["a"]}]).remove(a(w))}};this.options=v;l.fn.init.call(this,v)}});var s=l.extend({init:function(v){var w=this;w.options=v;l.fn.init.call(w,v);w.attributes=null;w.async=true;w.formatter=new m()},exec:function(){var y=this,x=y.getRange(),w=x.collapsed,v,D=null;x=y.lockRange(true);v=a(x);function E(I){var G=c("#k-editor-link-url",z.element).val(),K,J,H;if(G&&G!="http://"){y.attributes={href:G};K=c("#k-editor-link-title",z.element).val();if(K){y.attributes.title=K}J=c("#k-editor-link-text",z.element).val();if(J!==D){y.attributes.innerHTML=J||G}H=c("#k-editor-link-target",z.element).is(":checked");if(H){y.attributes.target="_blank"}y.formatter.apply(x,y.attributes)}F(I);if(y.change){y.change()}}function F(G){G.preventDefault();z.destroy();o.windowFromDocument(t.documentFromRange(x)).focus();y.releaseRange(x)}var B=v.length?y.formatter.finder.findSuitable(v[0]):null;var A=v.length<=1||(v.length==2&&w);var C="<div class='k-editor-dialog'><ol><li class='k-form-text-row'><label for='k-editor-link-url'>Web address</label><input type='text' class='k-input' id='k-editor-link-url'></li>"+(A?"<li class='k-form-text-row'><label for='k-editor-link-text'>Text</label><input type='text' class='k-input' id='k-editor-link-text'></li>":"")+"<li class='k-form-text-row'><label for='k-editor-link-title'>Tooltip</label><input type='text' class='k-input' id='k-editor-link-title'></li><li class='k-form-checkbox-row'><input type='checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>Open link in new window</label></li></ol><div class='k-button-wrapper'><button class='k-dialog-insert k-button'>Insert</button>&nbsp;or&nbsp;<a href='#' class='k-dialog-close k-link'>Close</a></div></div>";var z=g.createDialog(C,y.editor,c.extend({},y.editor.options.dialogOptions,{title:"Insert link",close:F})).hide().find(".k-dialog-insert").click(E).end().find(".k-dialog-close").click(F).end().find(".k-form-text-row input").keydown(function(H){var G=h.keys;if(H.keyCode==G.ENTER){E(H)}else{if(H.keyCode==G.ESC){F(H)}}}).end().find("#k-editor-link-url").val(B?B.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(v.length>0?(v.length==1?v[0].nodeValue:v[0].nodeValue+v[1].nodeValue):"").end().find("#k-editor-link-title").val(B?B.title:"").end().find("#k-editor-link-target").attr("checked",B?B.target=="_blank":false).end().show().data("kendoWindow").center();if(A&&v.length>0){D=c("#k-editor-link-text",z.element).val()}c("#k-editor-link-url",z.element).focus().select()},redo:function(){var w=this,v=w.lockRange(true);w.formatter.apply(v,w.attributes);w.releaseRange(v)}});var b=f.extend({init:function(v){this.options=v;this.finder=new n([{tags:["a"]}]);f.fn.init.call(this,c.extend(v,{command:d}))},initialize:function(v){v.attr("unselectable","on").addClass("k-state-disabled")},update:function(w,v){w.toggleClass("k-state-disabled",!this.finder.isFormatted(v)).removeClass("k-state-hover")}});r(h.ui.editor,{LinkFormatFinder:q,LinkFormatter:m,UnlinkCommand:d,LinkCommand:s,UnlinkTool:b});i("createLink",new f({key:"K",ctrl:true,command:s,template:new j({template:g.buttonTemplate,title:"Create Link"})}));i("unlink",new b({key:"K",ctrl:true,shift:true,template:new j({template:g.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(h,f){var o=window.kendo,n=h.extend,m=o.ui.editor,j=m.EditorUtils,g=m.Dom,l=j.registerTool,d=m.ToolTemplate,i=m.RangeUtils,a=m.Command,p=o.keys,k="Insert Image",c="#k-editor-image-url",b="#k-editor-image-title";var e=a.extend({init:function(q){var r=this;a.fn.init.call(r,q);r.async=true;r.attributes={}},insertImage:function(s,r){var q=this.attributes;if(q.src&&q.src!="http://"){if(!s){s=g.create(i.documentFromRange(r),"img",q);s.onload=s.onerror=function(){s.removeAttribute("complete");s.removeAttribute("width");s.removeAttribute("height")};r.deleteContents();r.insertNode(s);r.setStartAfter(s);r.setEndAfter(s);i.selectRange(r);return true}else{g.attr(s,q)}}return false},_dialogTemplate:function(q){return o.template('<div class="k-editor-dialog"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<ol><li class="k-form-text-row"><label for="k-editor-image-url">#: messages.imageWebAddress #</label><input type="text" class="k-input" id="k-editor-image-url"></li><li class="k-form-text-row"><label for="k-editor-image-title">#: messages.imageAltText #</label><input type="text" class="k-input" id="k-editor-image-title"></li></ol><div class="k-button-wrapper"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button>&nbsp;#: messages.dialogButtonSeparator #&nbsp;<a href="\\#" class="k-dialog-close k-link">#: messages.dialogCancel #</a></div></div>')({messages:this.editor.options.messages,showBrowser:q})},redo:function(){var r=this,q=r.lockRange();if(!r.insertImage(i.image(q),q)){r.releaseRange(q)}},exec:function(){var v=this,u=v.lockRange(),s=false,t=i.image(u),w,r,B=v.editor.options;function z(C){v.attributes={src:h(c,w.element).val(),alt:h(b,w.element).val()};s=v.insertImage(t,u);A(C);if(v.change){v.change()}}function A(C){C.preventDefault();w.destroy();g.windowFromDocument(i.documentFromRange(u)).focus();if(!s){v.releaseRange(u)}}function x(C){if(C.keyCode==p.ENTER){z(C)}else{if(C.keyCode==p.ESC){A(C)}}}var y=B.imageBrowser;var q=!!(o.ui.ImageBrowser&&y&&y.transport&&y.transport.read!==f);r=q?{width:"960px"}:{};w=j.createDialog(v._dialogTemplate(q),v.editor,n(r,B.dialogOptions,{title:k,close:A,resizable:q,activate:function(){if(q){var C=this;new o.ui.ImageBrowser(C.element.find(".k-imagebrowser"),n({},y,{change:function(){C.element.find(c).val(this.value())},apply:z}))}}})).hide().find(".k-dialog-insert").click(z).end().find(".k-dialog-close").click(A).end().find(".k-form-text-row input").keydown(x).end().find(c).val(t?t.getAttribute("src",2):"http://").end().find(b).val(t?t.alt:"").end().show().data("kendoWindow").center();h(c,w.element).focus().select()}});o.ui.editor.ImageCommand=e;l("insertImage",new m.Tool({command:e,template:new d({template:j.buttonTemplate,title:k})}))})(window.kendo.jQuery);(function(f,g){var m=window.kendo,d=m.ui.Widget,j=m.ui.DropDownList,n=m.ui.editor,q=n.Dom,k="change",c="k-state-selected",i="."+c,r=".k-selected-color",b="unselectable",p="background-color",o="aria-selected",e="aria-labelledby",l=m.keys,s=m.template('<div class="k-colorpicker-popup"><ul class="k-reset"># for(var i = 0; i < colors.length; i++) { #<li #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i] == value ? "k-state-selected" : "" #" aria-label="\\##= colors[i]#"><div style="background-color:\\##= colors[i] #"></div></li># } #</ul></div>');var a=d.extend({init:function(u,t){var v=this,w;d.fn.init.call(v,u,t);u=v.element;t=v.options;v._value=t.value;v._ariaId=w=t.ariaId;if(w){u.attr(e,w)}v.popup=f(s({colors:t.colors,value:t.value.substring(1),id:w})).kendoPopup({anchor:u,toggleTarget:u.find(".k-icon")}).delegate(".k-item","click",function(x){v.select(f(x.currentTarget).find("div").css(p))}).find("*").attr(b,"on").end().data("kendoPopup");u.attr("tabIndex",0).keydown(function(x){v.keydown(x)}).focus(function(){u.css("outline","1px dotted #000")}).blur(function(){u.css("outline","")}).delegate(".k-tool-icon","click",function(){v.select()}).find("*").attr(b,"on");if(v._value){u.find(r).css(p,v._value)}},options:{name:"ColorPicker",colors:"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7".split(","),value:null},events:[k],select:function(t){var u=this;if(t){t=q.toHex(t);if(!u.trigger(k,{value:t})){u.value(t);u.close()}}else{u.trigger(k,{value:u._value})}},open:function(){this.popup.open()},close:function(){this.popup.close()},toggle:function(){this.popup.toggle()},_applyAriaAttributes:function(v,t){var u=this;u.element.removeAttr(e);u.element.attr(e,u._ariaId);v.removeAttr("id");v.attr(o,false);t.attr({id:u._ariaId,"aria-selected":true})},keydown:function(z){var y=this,t=y.popup.element,u=y.popup.visible(),w,x,v,A=false,B=z.keyCode;if(B==l.DOWN){if(!u){y.open()}else{w=t.find(i);if(w[0]){x=w.next()}else{x=t.find("li:first")}if(x[0]){w.removeClass(c);x.addClass(c);y._applyAriaAttributes(w,x)}}A=true}else{if(B==l.UP){if(u){w=t.find(i);v=w.prev();if(v[0]){w.removeClass(c);v.addClass(c);y._applyAriaAttributes(w,v)}}A=true}else{if(B==l.TAB||B==l.RIGHT||B==l.LEFT){y.close()}else{if(B==l.ENTER){t.find(i).click();A=true}}}}if(A){z.preventDefault()}},value:function(u){var t=this;if(u===g){return t._value}else{u=q.toHex(u);t._value=u;t.element.find(r).css(p,u)}}});var h=j.extend({init:function(u,t){var v=this;j.fn.init.call(v,u,t);v.value(v.options.title)},options:{name:"SelectBox"},value:function(v){var u=this,t=j.fn.value.call(u,v);if(v===g){return t}if(v!==j.fn.value.call(u)){u.text(u.options.title);u._current.removeClass("k-state-selected");u.current(null);u._oldIndex=u.selectedIndex=-1}}});m.ui.editor.ColorPicker=a;m.ui.editor.SelectBox=h})(window.kendo.jQuery);(function(d,e){var m=window.kendo,s=m.Class,t=d.extend,p=m.ui.editor,r=p.Dom,h=p.EditorUtils,n=h.registerTool,q=p.Command,g=p.Tool,o=p.ToolTemplate,u=p.RangeUtils,c=r.blockElements,f=p.BlockFormatFinder,b=p.BlockFormatter;function j(w,z){var v=d(w).css("direction")=="rtl",y=v?"Right":"Left",x=r.name(w)!="td"?"margin"+y:"padding"+y;if(z===e){return w.style[x]||0}else{if(z>0){w.style[x]=z+"px"}else{w.style[x]="";if(!w.style.cssText){w.removeAttribute("style")}}}}var l=s.extend({init:function(){this.finder=new f([{tags:r.blockElements}])},apply:function(v){var C=this.finder.findSuitable(v),A=[],z,B,H,F,G;if(C.length){for(z=0,B=C.length;z<B;z++){if(r.is(C[z],"li")){if(!d(C[z]).index()){A.push(C[z].parentNode)}else{if(d.inArray(C[z].parentNode,A)<0){A.push(C[z])}}}else{A.push(C[z])}}while(A.length){H=A.shift();if(r.is(H,"li")){F=H.parentNode;G=d(H).prev("li");var E=G.find("ul,ol").last();var y=d(H).children("ul,ol")[0];if(y&&G[0]){if(E[0]){E.append(H);E.append(d(y).children());r.remove(y)}else{G.append(y);y.insertBefore(H,y.firstChild)}}else{y=G.children("ul,ol")[0];if(!y){y=r.create(H.ownerDocument,r.name(F));G.append(y)}while(H&&H.parentNode==F){y.appendChild(H);H=A.shift()}}}else{var x=parseInt(j(H),10)+30;j(H,x);for(var w=0;w<A.length;w++){if(d.contains(H,A[w])){A.splice(w,1)}}}}}else{var D=new b([{tags:"p"}],{style:{marginLeft:30}});D.apply(v)}},remove:function(v){var C=this.finder.findSuitable(v),A,y,z,B,w,D,E,x;for(y=0,z=C.length;y<z;y++){E=d(C[y]);if(E.is("li")){B=E.parent();w=B.parent();if(w.is("li,ul,ol")&&!j(B[0])){if(A&&d.contains(A,w[0])){continue}D=E.nextAll("li");if(D.length){d(B[0].cloneNode(false)).appendTo(E).append(D)}if(w.is("li")){E.insertAfter(w)}else{E.appendTo(w)}if(!B.children("li").length){B.remove()}continue}else{if(A==B[0]){continue}A=B[0]}}else{A=C[y]}x=parseInt(j(A),10)-30;j(A,x)}}});var a=q.extend({init:function(v){v.formatter={toggle:function(w){new l().apply(u.nodes(w))}};q.fn.init.call(this,v)}});var i=q.extend({init:function(v){v.formatter={toggle:function(w){new l().remove(u.nodes(w))}};q.fn.init.call(this,v)}});var k=g.extend({init:function(v){g.fn.init.call(this,t(v,{command:i}));this.finder=new f([{tags:c}])},initialize:function(v){v.attr("unselectable","on").addClass("k-state-disabled")},update:function(A,w){var y=this.finder.findSuitable(w),B,z,x,v;for(x=0,v=y.length;x<v;x++){B=j(y[x]);if(!B){z=d(y[x]).parents("ul,ol").length;B=(r.is(y[x],"li")&&(z>1||j(y[x].parentNode)))||(r.ofType(y[x],["ul","ol"])&&z>0)}if(B){A.removeClass("k-state-disabled");return}}A.addClass("k-state-disabled").removeClass("k-state-hover")}});t(p,{IndentFormatter:l,IndentCommand:a,OutdentCommand:i,OutdentTool:k});n("indent",new g({command:a,template:new o({template:h.buttonTemplate,title:"Indent"})}));n("outdent",new k({template:new o({template:h.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery);(function(f,d){var k=window.kendo,j=f.extend,i=k.ui.editor,e=i.Dom,h=i.RangeUtils,g=i.EditorUtils,a=i.Command,l=i.Tool,c=i.ToolTemplate;var b=a.extend({init:function(m){var n=this;n.options=m;a.fn.init.call(n,m);n.attributes=null;n.async=true},exec:function(){var s=this,q=s.editor,o=q.getRange(),p=f(b.template).appendTo(document.body),r=b.indent(q.value()),m=".k-editor-textarea";function n(u){q.value(p.find(m).val());t(u);if(s.change){s.change()}q.trigger("change")}function t(u){u.preventDefault();p.data("kendoWindow").destroy();e.windowFromDocument(h.documentFromRange(o)).focus()}p.kendoWindow(j({},q.options.dialogOptions,{title:"View HTML",close:t})).hide().find(m).val(r).end().find(".k-dialog-update").click(n).end().find(".k-dialog-close").click(t).end().show().data("kendoWindow").center();p.find(m).focus()}});j(b,{template:"<div class='k-editor-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-button-wrapper'><button class='k-dialog-update k-button'>Update</button>&nbsp;or&nbsp;<a href='#' class='k-dialog-close k-link'>Close</a></div></div>",indent:function(m){return m.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}});k.ui.editor.ViewHtmlCommand=b;i.EditorUtils.registerTool("viewHtml",new l({command:b,template:new c({template:g.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery);(function(f){var g=window.kendo,d=g.Class,h=f.extend,c=g.ui.editor,e=c.RangeUtils,a=c.Marker;var b=d.extend({init:function(i){this.editor=i;this.formats=[]},apply:function(n){if(!this.hasPending()){return}var m=new a();m.addCaret(n);var p=n.startContainer.childNodes[n.startOffset];var o=p.previousSibling;if(!o.nodeValue){o=o.previousSibling}n.setStart(o,o.nodeValue.length-1);m.add(n);if(!e.textNodes(n).length){m.remove(n);n.collapse(true);this.editor.selectRange(n);return}var j=m.end.previousSibling.previousSibling;var r,q=this.formats;for(var l=0;l<q.length;l++){r=q[l];var k=r.command(h({range:n},r.options.params));k.editor=this.editor;k.exec();n.selectNode(j)}m.remove(n);if(j.parentNode){n.setStart(j,1);n.collapse(true)}this.clear();this.editor.selectRange(n)},hasPending:function(){return this.formats.length>0},isPending:function(i){return !!this.getPending(i)},getPending:function(l){var j=this.formats;for(var k=0;k<j.length;k++){if(j[k].name==l){return j[k]}}return},toggle:function(l){var j=this.formats;for(var k=0;k<j.length;k++){if(j[k].name==l.name){if(j[k].params&&j[k].params.value!=l.params.value){j[k].params.value=l.params.value}else{j.splice(k,1)}return}}j.push(l)},clear:function(){this.formats=[]}});h(c,{PendingFormats:b})})(window.kendo.jQuery);(function(d,g){var s=window.kendo,q=s.keys,r=s.ui,b=r.Widget,c=s._extractFormat,t=s.parseFloat,w=s.support.placeholder,l=s.getCulture,o="change",z="disabled",a="k-input",y="spin",F=".kendoNumericTextBox",p="touchend",i="mouseleave"+F,j="touchstart"+F+" mousedown"+F,h="touchcancel"+F+" touchend"+F+" mouseup"+F+" "+i,v="mouseenter"+F+" "+i,A="k-state-default",k="k-state-focused",n="k-state-hover",f=".",e="k-state-selected",E="k-state-disabled",B=null,x=d.proxy,D={190:".",188:","};var u=b.extend({init:function(J,H){var L=this,N=H&&H.step!==g,I,G,K,M;b.fn.init.call(L,J,H);H=L.options;J=L.element.addClass(a).on("keydown"+F,x(L._keydown,L)).on("paste"+F,x(L._paste,L)).on("blur"+F,x(L._focusout,L)).attr("role","spinbutton");H.placeholder=H.placeholder||J.attr("placeholder");L._reset();L._wrapper();L._arrows();L._input();L._text.on(p+F,function(){L._toggleText(false)});if(!s.support.mobileOS){L._text.on("focus"+F,x(L._click,L))}I=L.min(J.attr("min"));G=L.max(J.attr("max"));K=L._parse(J.attr("step"));if(H.min===B&&I!==B){H.min=I}if(H.max===B&&G!==B){H.max=G}if(!N&&K!==B){H.step=K}J.attr("aria-valuemin",H.min).attr("aria-valuemax",H.max);H.format=c(H.format);M=H.value;L.value(M!==B?M:J.val());L.enable(!J.is("[disabled]"));s.notify(L)},options:{name:"NumericTextBox",decimals:B,min:B,max:B,value:B,step:1,culture:"",format:"n",spinners:true,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[o,y],enable:function(H){var I=this,J=I._text.add(I.element),L=I._inputWrapper.off(v),G=I._upArrow.off(j),K=I._downArrow.off(j);I._toggleText(true);if(H===false){L.removeClass(A).addClass(E);J.attr(z,z)}else{L.addClass(A).removeClass(E).on(v,I._toggleHover);J.removeAttr(z);G.on(j,function(M){M.preventDefault();I._spin(1);I._upArrow.addClass(e)});K.on(j,function(M){M.preventDefault();I._spin(-1);I._downArrow.addClass(e)})}},destroy:function(){var G=this;G.element.add(G._text).add(G._upArrow).add(G._downArrow).add(G._inputWrapper).off(F);if(G._form){G._form.off("reset",G._resetHandler)}b.fn.destroy.call(G)},min:function(G){return this._option("min",G)},max:function(G){return this._option("max",G)},step:function(G){return this._option("step",G)},value:function(I){var H=this,G;if(I===g){return H._value}I=H._parse(I);G=H._adjust(I);if(I!==G){return}H._update(I);H._old=H._value},focus:function(){this._focusin()},_adjust:function(K){var J=this,H=J.options,I=H.min,G=H.max;if(K===B){return K}if(I!==B&&K<I){K=I}else{if(G!==B&&K>G){K=G}}return K},_arrows:function(){var K=this,H,I=K.options,G=I.spinners,J=K.element;H=J.siblings(".k-icon");if(!H[0]){H=d(C("n",I.upArrowText)+C("s",I.downArrowText)).insertAfter(J);H.wrapAll('<span class="k-select"/>')}H.on(h,function(L){clearTimeout(K._spinning);H.removeClass(e)});if(!G){H.toggle(G);K._inputWrapper.addClass("k-expand-padding")}K._upArrow=H.eq(0);K._downArrow=H.eq(1)},_blur:function(){var G=this;G._toggleText(true);G._change(G.element.val())},_click:function(H){var G=this;clearTimeout(G._focusing);G._focusing=setTimeout(function(){var L=H.target,O=m(L),N=L.value.substring(0,O),M=G._format(G.options.format),P=M[","],J=new RegExp("\\"+P,"g"),I=new RegExp("([\\d\\"+P+"]+)(\\"+M[f]+")?(\\d+)?"),Q=I.exec(N),K=0;if(Q){K=Q[0].replace(J,"").length;if(N.indexOf("(")!=-1&&G._value<0){K++}}G._focusin();m(G.element[0],K)})},_change:function(H){var G=this;G._update(H);H=G._value;if(G._old!=H){G._old=H;G.trigger(o);G.element.trigger(o)}},_culture:function(G){return G||l(this.options.culture)},_focusin:function(){var G=this;G._inputWrapper.addClass(k);G._toggleText(false);G.element[0].focus()},_focusout:function(){var G=this;clearTimeout(G._focusing);G._inputWrapper.removeClass(k);G._blur()},_format:function(I,H){var G=this._culture(H).numberFormat;I=I.toLowerCase();if(I.indexOf("c")>-1){G=G.currency}else{if(I.indexOf("p")>-1){G=G.percent}}return G},_input:function(){var J=this,I="k-formatted-value",G=J.element.show()[0],H=G.accessKey,M=J.wrapper,K,L;L=M.find(f+I);if(!L[0]){L=d("<input />").insertBefore(G).addClass(I)}K=L[0];K.type="text";K.style.cssText=G.style.cssText;K.tabIndex=G.tabIndex;G.tabIndex=0;G.type="text";L.attr("placeholder",J.options.placeholder);if(H){L.attr("accesskey",H);G.accessKey=""}J._text=L.attr("readonly",true).addClass(G.className)},_keydown:function(I){var H=this,G=I.keyCode;if(G==q.DOWN){H._step(-1)}else{if(G==q.UP){H._step(1)}else{if(G==q.ENTER){H._change(H.element.val())}}}if(H._prevent(G,I.shiftKey)&&!I.ctrlKey){I.preventDefault()}},_paste:function(J){var H=this,G=J.target,I=G.value;setTimeout(function(){if(H._parse(G.value)===B){H._update(I)}})},_prevent:function(R,N){var L=this,I=L.element[0],Q=I.value,S=L.options,H=S.min,M=L._format(S.format),K=M[f],J=S.decimals,P=m(I),O=true,G;if(J===B){J=M.decimals}if((R>16&&R<21)||(R>32&&R<37)||(R>47&&R<58)||(R>95&&R<106)||R==q.INSERT||R==q.DELETE||R==q.LEFT||R==q.RIGHT||R==q.TAB||R==q.BACKSPACE||R==q.ENTER){O=false;if(N){G=parseInt(String.fromCharCode(R),10);if(!isNaN(G)){I.value=Q.substring(0,P)+G+Q.substring(P);O=true}}}else{if(D[R]===K&&J>0&&Q.indexOf(K)==-1){O=false}else{if((H===B||H<0)&&Q.indexOf("-")==-1&&(R==189||R==109)&&P===0){O=false}else{if(R==110&&J>0&&Q.indexOf(K)==-1){I.value=Q.substring(0,P)+K+Q.substring(P)}}}}return O},_option:function(H,J){var I=this,G=I.options;if(J===g){return G[H]}J=I._parse(J);if(!J&&H==="step"){return}G[H]=I._parse(J);I.element.attr("aria-value"+H,G[H])},_spin:function(H,I){var G=this;I=I||500;clearTimeout(G._spinning);G._spinning=setTimeout(function(){G._spin(H,50)},I);G._step(H)},_step:function(I){var H=this,G=H.element,J=H._parse(G.val())||0;if(document.activeElement!=G[0]){H._focusin()}J+=H.options.step*I;H._update(H._adjust(J));H.trigger(y)},_toggleHover:function(G){d(G.currentTarget).toggleClass(n,G.type==="mouseenter")},_toggleText:function(G){var H=this;H._text.toggle(G);H.element.toggle(!G)},_parse:function(H,G){return t(H,this._culture(G),this.options.format)},_update:function(L){var K=this,J=K.options,M=J.format,H=J.decimals,I=K._culture(),G=K._format(M,I),N;if(H===B){H=G.decimals}L=K._parse(L,I);N=L!==B;if(N){L=parseFloat(L.toFixed(H))}K._value=L=K._adjust(L);K._placeholder(s.toString(L,M,I));K.element.val(N?L.toString().replace(f,G[f]):"").attr("aria-valuenow",L)},_placeholder:function(G){this._text.val(G);if(!w&&!G){this._text.val(this.options.placeholder)}},_wrapper:function(){var I=this,G=I.element,H=G[0],J;J=G.parents(".k-numerictextbox");if(!J.is("span.k-numerictextbox")){J=G.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();J=J.wrap("<span/>").parent()}J[0].style.cssText=H.style.cssText;H.style.width="";I.wrapper=J.addClass("k-widget k-numerictextbox").addClass(H.className).css("display","");I._inputWrapper=d(J[0].firstChild)},_reset:function(){var I=this,G=I.element,H=G.closest("form");if(H[0]){I._resetHandler=function(){setTimeout(function(){I.value(G[0].value)})};I._form=H.on("reset",I._resetHandler)}}});function C(G,H){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+G+'" title="'+H+'">'+H+"</span></span>"}function m(J,G){var H,K=G!==g;if(document.selection){if(d(J).is(":visible")){J.focus()}H=document.selection.createRange();if(K){H.move("character",G);H.select()}else{var I=J.createTextRange(),L=I.duplicate();I.moveToBookmark(H.getBookmark());L.setEndPoint("EndToStart",I);G=L.text.length}}else{if(J.selectionStart!==g){if(K){J.focus();J.setSelectionRange(G,G)}else{G=J.selectionStart}}}return G}r.plugin(u)})(window.kendo.jQuery);(function(D,o){var E=window.kendo,L=E.ui,T=(E.support.touch&&E.support.mobileOS)||E.support.pointers,J=E.support.mousedown,O=E.support.click,m=D.extend,S=D.proxy,R=D.each,f=E.template,z=E.keys,e=L.Widget,w=/^(ul|a|div)$/i,F=".kendoMenu",G="img",Q="open",n="k-menu",y="k-link",I="k-last",V="close",H="timer",s="k-first",k="k-image",x="select",h="zIndex",g="mouseenter",r="mouseleave",K="kendoPopup",p="k-state-default",W="k-state-hover",j="k-state-focused",i="k-state-disabled",N=".k-group",M="k-state-active",b=":not(.k-list) > .k-item",u=".k-item.k-state-disabled",l=".k-item:not(.k-state-disabled)",d=".k-item:not(.k-state-disabled) > .k-link",A="div:not(.k-animation-container,.k-list-container)",a={content:f("<div class='k-content k-group'>#= content(item) #</div>"),group:f("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:f("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:f("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } #</li>"),image:f("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:f("<span class='#= arrowClass(item, group) #'></span>"),sprite:f("<span class='k-sprite #= spriteCssClass #'></span>"),empty:f("")},t={wrapperCssClass:function(aa,Z){var X="k-item",Y=Z.index;if(Z.enabled===false){X+=" k-state-disabled"}else{X+=" k-state-default"}if(aa.firstLevel&&Y===0){X+=" k-first"}if(Y==aa.length-1){X+=" k-last"}return X},textClass:function(X){return y},textAttributes:function(X){return X.url?" href='"+X.url+"'":""},arrowClass:function(Y,Z){var X="k-icon";if(Z.horizontal){X+=" k-i-arrow-s"}else{X+=" k-i-arrow-e"}return X},text:function(X){return X.encoded===false?X.text:E.htmlEncode(X.text)},tag:function(X){return X.url?"a":"span"},groupAttributes:function(X){return X.expanded!==true?" style='display:none'":""},groupCssClass:function(X){return"k-group"},content:function(X){return X.content?X.content:"&nbsp;"}};function C(Y,X){Y=Y.split(" ")[!X+0]||Y;return Y.replace("top","up").replace("bottom","down")}function U(ab,Y,aa){ab=ab.split(" ")[!Y+0]||ab;var Z={origin:["bottom",(aa?"right":"left")],position:["top",(aa?"right":"left")]},X=/left|right/.test(ab);if(X){Z.origin=["top",ab];Z.position[1]=E.directions[ab].reverse}else{Z.origin[0]=ab;Z.position[0]=E.directions[ab].reverse}Z.origin=Z.origin.join(" ");Z.position=Z.position.join(" ");return Z}function B(X,Z){try{return D.contains(X,Z)}catch(Y){return false}}function c(X){X=D(X);X.addClass("k-item").children(G).addClass(k);X.children("a").addClass(y).children(G).addClass(k);X.filter(":not([disabled])").addClass(p);X.filter(".k-separator:empty").append("&nbsp;");X.filter("li[disabled]").addClass(i).removeAttr("disabled").attr("aria-disabled",true);X.children("a").filter(":focus").parent().addClass(M);if(!X.filter("[role]").length){X.attr("role","menuitem")}if(!X.children("."+y).length){X.contents().filter(function(){return(!this.nodeName.match(w)&&!(this.nodeType==3&&!D.trim(this.nodeValue)))}).wrapAll("<span class='"+y+"'/>")}q(X);v(X)}function q(X){X=D(X);X.find(".k-icon").remove();X.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var Z=D(this),Y=Z.parent().parent();Z.append("<span class='k-icon "+(Y.hasClass(n+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function v(X){X=D(X);X.filter(".k-first:not(:first-child)").removeClass(s);X.filter(".k-last:not(:last-child)").removeClass(I);X.filter(":first-child").addClass(s);X.filter(":last-child").addClass(I)}var P=e.extend({init:function(Y,X){var Z=this;e.fn.init.call(Z,Y,X);Y=Z.wrapper=Z.element;X=Z.options;if(X.dataSource){Z.element.empty();Z.append(X.dataSource,Y)}Z._updateClasses();if(X.animation===false){X.animation={open:{effects:{}},close:{hide:true,effects:{}}}}Z.nextItemZIndex=100;Z._tabindex();Y.on("touchstart",function(aa){Z.element[0].blur();Z.element[0].focus();setTimeout(function(){Z._moveHover([],D(E.eventTarget(aa)).closest(b))},200)}).on("MSPointerDown",function(aa){Z._oldHoverItem=D(aa.target).closest(b)}).on(O+F,u,false).on(O+F,l,S(Z._click,Z)).on("keydown"+F,S(Z._keydown,Z)).on("focus"+F,S(Z._focus,Z)).on("blur"+F,S(Z._removeHoverItem,Z)).on(g+F,l,S(Z._mouseenter,Z)).on(r+F,l,S(Z._mouseleave,Z)).on(g+F+" "+r+F+" "+J+F+" "+O+F,d,S(Z._toggleHover,Z));if(X.openOnClick){Z.clicked=false;Z._documentClickHandler=S(Z._documentClick,Z);D(document).click(Z._documentClickHandler)}Y.attr("role","menubar");if(Y[0].id){Z._ariaId=E.format("{0}_mn_active",Y[0].id)}E.notify(Z)},events:[Q,V,x],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100},destroy:function(){var X=this;e.fn.destroy.call(X);X.element.off(F);if(X._documentClickHandler){D(document).unbind(X._documentClickHandler)}},enable:function(Y,X){this._toggleDisabled(Y,X!==false);return this},disable:function(X){this._toggleDisabled(X,false);return this},append:function(Z,X){X=this.element.find(X);var Y=this._insert(Z,X,X.length?X.find("> .k-group, .k-animation-container > .k-group"):null);R(Y.items,function(aa){Y.group.append(this);var ab=Y.contents[aa];if(ab){D(this).append(ab)}q(this)});q(X);v(Y.group.find(".k-first, .k-last").add(Y.items));return this},insertBefore:function(Z,X){X=this.element.find(X);var Y=this._insert(Z,X,X.parent());R(Y.items,function(aa){X.before(this);var ab=Y.contents[aa];if(ab){D(this).append(ab)}q(this);v(this)});v(X);return this},insertAfter:function(Z,X){X=this.element.find(X);var Y=this._insert(Z,X,X.parent());R(Y.items,function(aa){X.after(this);var ab=Y.contents[aa];if(ab){D(this).append(ab)}q(this);v(this)});v(X);return this},_insert:function(af,aa,ad){var ab=this,ac,X,Y=[];if(!aa||!aa.length){ad=ab.element}var ae=D.isPlainObject(af),Z={firstLevel:ad.hasClass(n),horizontal:ad.hasClass(n+"-horizontal"),expanded:true,length:ad.children().length};if(aa&&!ad.length){ad=D(P.renderGroup({group:Z})).appendTo(aa)}if(ae||D.isArray(af)){ac=D.map(ae?[af]:af,function(ah,ag){if(typeof ah==="string"){return D(ah)}else{return D(P.renderItem({group:Z,item:m(ah,{index:ag})}))}});Y=D.map(ae?[af]:af,function(ah,ag){if(ah.content||ah.contentUrl){return D(P.renderContent({item:m(ah,{index:ag})}))}else{return false}})}else{ac=D(af);X=ac.find("> ul").addClass("k-group").attr("role","menu");ac=ac.filter("li");ac.add(X.find("> li")).each(function(){c(this)})}return{items:ac,group:ad,contents:Y}},remove:function(Y){Y=this.element.find(Y);var aa=this,Z=Y.parentsUntil(aa.element,b),ab=Y.parent("ul");Y.remove();if(ab&&!ab.children(b).length){var X=ab.parent(".k-animation-container");if(X.length){X.remove()}else{ab.remove()}}if(Z.length){Z=Z.eq(0);q(Z);v(Z)}return aa},open:function(aa){var ab=this,Z=ab.options,X=Z.orientation=="horizontal",ac=Z.direction,Y=E.support.isRtl(ab.wrapper);aa=ab.element.find(aa);if(/^(top|bottom|default)$/.test(ac)){if(Y){ac=X?(ac+" left").replace("default","bottom"):"left"}else{ac=X?(ac+" right").replace("default","bottom"):"right"}}aa.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var ad=D(this).data("kendoPopup");if(ad){ad.close()}});aa.each(function(){var ad=D(this);clearTimeout(ad.data(H));ad.data(H,setTimeout(function(){var ai=ad.find(".k-group:first:hidden"),ag;if(ai[0]&&ab.trigger(Q,{item:ad[0]})===false){ad.data(h,ad.css(h));ad.css(h,ab.nextItemZIndex++);ag=ai.data(K);var af=ad.parent().hasClass(n),ae=af&&X,ak=U(ac,af,Y),aj=Z.animation.open.effects,ah=aj!==o?aj:"slideIn:"+C(ac,af);if(!ag){ag=ai.kendoPopup({origin:ak.origin,position:ak.position,collision:Z.popupCollision!==o?Z.popupCollision:(ae?"fit":"fit flip"),anchor:ad,appendTo:ad,animation:{open:m(true,{effects:ah},Z.animation.open),close:Z.animation.close},close:function(am){var al=am.sender.wrapper.parent();if(!ab.trigger(V,{item:al[0]})){al.css(h,al.data(h));al.removeData(h)}else{am.preventDefault()}}}).data(K)}else{ag=ai.data(K);ag.options.origin=ak.origin;ag.options.position=ak.position;ag.options.animation.open.effects=ah}ai.removeAttr("aria-hidden");ag.open()}},ab.options.hoverDelay))});return ab},close:function(X){var Z=this,Y=Z.element;X=Y.find(X);if(!X.length){X=Y.find(">.k-item")}X.each(function(){var aa=D(this);clearTimeout(aa.data(H));aa.data(H,setTimeout(function(){var ab=aa.find(".k-group:first:visible").data(K);if(ab){ab.close();ab.element.attr("aria-hidden",true)}},Z.options.hoverDelay))});return Z},_toggleDisabled:function(X,Y){this.element.find(X).each(function(){D(this).toggleClass(p,Y).toggleClass(i,!Y).attr("aria-disabled",!Y)})},_toggleHover:function(Z){var Y=D(E.eventTarget(Z)||Z.target).closest(b),X=Z.type==g||J.indexOf(Z.type)!==-1;if(!Y.parents("li."+i).length){Y.toggleClass(W,X)}this._removeHoverItem()},_removeHoverItem:function(){var X=this._oldHoverItem;if(X&&X.hasClass(j)){X.removeClass(j);this._oldHoverItem=null}},_updateClasses:function(){var Y=this.element,X;Y.addClass("k-widget k-reset k-header "+n).addClass(n+"-"+this.options.orientation);Y.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",Y.is(":visible"));X=Y.find("> li,.k-group > li");X.each(function(){c(this)})},_mouseenter:function(aa){var Z=this,Y=D(aa.currentTarget),X=(Y.children(".k-animation-container").length||Y.children(N).length);if(aa.delegateTarget!=Y.parents(".k-menu")[0]){return}if(!Z.options.openOnClick||Z.clicked){if(!B(aa.currentTarget,aa.relatedTarget)&&X){Z.open(Y)}}if(Z.options.openOnClick&&Z.clicked||T){Y.siblings().each(S(function(ab,ac){Z.close(ac)},Z))}},_mouseleave:function(aa){var Z=this,Y=D(aa.currentTarget),X=(Y.children(".k-animation-container").length||Y.children(N).length);if(Y.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){aa.stopImmediatePropagation();return}if(!Z.options.openOnClick&&!T&&!B(aa.currentTarget,aa.relatedTarget)&&X){Z.close(Y)}},_click:function(ad){var ac=this,ab,aj=ac.options,ae=D(E.eventTarget(ad)),ai=ae[0]?ae[0].nodeName.toUpperCase():"",Y=(ai=="INPUT"||ai=="SELECT"||ai=="BUTTON"),ah=ae.closest("."+y),aa=ae.closest(b),X=ah.attr("href"),ag,af,Z=(!!X&&X.charAt(X.length-1)!="#");if(aa.children(A)[0]){return}if(aa.hasClass(i)){ad.preventDefault();return}if(!ad.handled&&ac.trigger(x,{item:aa[0]})&&!Y){ad.preventDefault()}ad.handled=true;ag=aa.children(N+",.k-animation-container");af=ag.is(":visible");if(aj.closeOnClick&&!Z&&(!ag.length||(aj.openOnClick&&af))){aa.removeClass(W).css("height");ac._oldHoverItem=ac._findRootParent(aa);ac.close(ah.parentsUntil(ac.element,b));ac.clicked=false;if("touchend MSPointerUp".indexOf(ad.type)!=-1){ad.preventDefault()}return}if((!aa.parent().hasClass(n)||!aj.openOnClick)&&!E.support.touch){return}if(!Z&&!Y){ad.preventDefault()}ac.clicked=true;ab=ag.is(":visible")?V:Q;ac[ab](aa)},_documentClick:function(X){if(B(this.element[0],X.target)){return}this.clicked=false},_focus:function(aa){var Y=this,Z=aa.target,X=Y._hoverItem();if(Z==Y.wrapper[0]&&X.length){Y._moveHover([],X)}else{if(Z==Y.wrapper[0]&&!Y._oldHoverItem){Y._moveHover([],Y.wrapper.children().first())}}},_keydown:function(ae){var ac=this,aa=ae.keyCode,ab=ac._oldHoverItem,ad,Y,X,Z=E.support.isRtl(ac.wrapper);if(ae.target!=ae.currentTarget&&aa!=z.ESC){return}if(!ab){ab=ac._oldHoverItem=ac._hoverItem()}Y=ac._itemBelongsToVertival(ab);X=ac._itemHasChildren(ab);if(aa==z.RIGHT){ad=ac[Z?"_itemLeft":"_itemRight"](ab,Y,X)}else{if(aa==z.LEFT){ad=ac[Z?"_itemRight":"_itemLeft"](ab,Y,X)}else{if(aa==z.DOWN){ad=ac._itemDown(ab,Y,X)}else{if(aa==z.UP){ad=ac._itemUp(ab,Y,X)}else{if(aa==z.ESC){ad=ac._itemEsc(ab,Y)}else{if(aa==z.ENTER||aa==z.SPACEBAR){ad=ab.children(".k-link");if(ad.length>0){ac._click({target:ad[0],preventDefault:function(){}});ac._moveHover(ab,ac._findRootParent(ab))}}else{if(aa==z.TAB){ad=ac._findRootParent(ab);ac.close(ad);ac._moveHover(ab,ad);return}}}}}}}if(ad&&ad[0]){ae.preventDefault();ae.stopPropagation()}},_hoverItem:function(){return this.wrapper.find("li.k-item.k-state-hover").filter(":visible")},_itemBelongsToVertival:function(Y){var X=this.wrapper.hasClass("k-menu-vertical");if(!Y.length){return X}return Y.parent().hasClass("k-group")||X},_itemHasChildren:function(X){if(!X.length){return false}return X.children("ul.k-group, div.k-animation-container").length>0},_moveHover:function(Z,X){var Y=this,aa=Y._ariaId;if(Z.length&&X.length){Z.removeClass(j);if(Z[0].id===aa){Z.removeAttr("id")}}if(X.length){if(X[0].id){aa=X[0].id}X.addClass(j);Y._oldHoverItem=X;if(aa){Y.element.removeAttr("aria-activedescendant");X.attr("id",aa);Y.element.attr("aria-activedescendant",aa)}}},_findRootParent:function(X){if(X.parent().hasClass("k-menu")){return X}else{return X.parentsUntil(".k-menu","li.k-item").last()}},_isRootItem:function(X){return X.parent().hasClass("k-menu")},_itemRight:function(ac,aa,Z){var ab=this,Y,X;if(!aa){Y=ac.next();if(Y.is(".k-separator")){Y=Y.next()}if(!Y.length){Y=ac.parent().children().first()}}else{if(Z){ab.open(ac);Y=ac.find(".k-group").children().first()}else{if(ab.options.orientation=="horizontal"){X=ab._findRootParent(ac);ab.close(X);Y=X.next();if(Y.is(".k-separator")){Y=Y.next()}}}}if(Y&&!Y.length){Y=ab.wrapper.children(".k-item").first()}else{if(!Y){Y=[]}}ab._moveHover(ac,Y);return Y},_itemLeft:function(ab,Z,Y){var aa=this,X;if(!Z){X=ab.prev();if(X.is(".k-separator")){X=X.prev()}if(!X.length){X=ab.parent().children().last()}}else{X=ab.parent().closest(".k-item");aa.close(X);if(aa._isRootItem(X)&&aa.options.orientation=="horizontal"){X=X.prev();if(X.is(".k-separator")){X=X.prev()}}}if(!X.length){X=aa.wrapper.children(".k-item").last()}aa._moveHover(ab,X);return X},_itemDown:function(ab,Z,Y){var aa=this,X;if(!Z){if(!Y||ab.hasClass(i)){return}else{aa.open(ab);X=ab.find(".k-group").children().first()}}else{X=ab.next();if(X.is(".k-separator")){X=X.next()}}if(!X.length&&ab.length){X=ab.parent().children().first()}else{if(!ab.length){X=aa.wrapper.children(".k-item").first()}}aa._moveHover(ab,X);return X},_itemUp:function(ab,Z,Y){var aa=this,X;if(!Z){return}else{X=ab.prev();if(X.is(".k-separator")){X=X.prev()}}if(!X.length&&ab.length){X=ab.parent().children().last()}else{if(!ab.length){X=aa.wrapper.children(".k-item").last()}}aa._moveHover(ab,X);return X},_itemEsc:function(aa,Y){var Z=this,X;if(!Y){return aa}else{X=aa.parent().closest(".k-item");Z.close(X);Z._moveHover(aa,X)}return X}});m(P,{renderItem:function(X){X=m({menu:{},group:{}},X);var Z=a.empty,Y=X.item;return a.item(m(X,{image:Y.imageUrl?a.image:Z,sprite:Y.spriteCssClass?a.sprite:Z,itemWrapper:a.itemWrapper,arrow:Y.items||Y.content?a.arrow:Z,subGroup:P.renderGroup},t))},renderGroup:function(X){return a.group(m({renderItems:function(aa){var ac="",ab=0,Z=aa.items,Y=Z?Z.length:0,ad=m({length:Y},aa.group);for(;ab<Y;ab++){ac+=P.renderItem(m(aa,{group:ad,item:m({index:ab},Z[ab])}))}return ac}},X,t))},renderContent:function(X){return a.content(m(X,t))}});E.ui.plugin(P)})(window.kendo.jQuery);(function(c,e){var n=window.kendo,m=n.ui,b=m.Widget,t=c.extend,a=c.isFunction,k=c.isPlainObject,s=c.inArray,l=/(\[|\]|\$|\.|\:|\+)/g,r='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',j="change";var q=["url","email","number","date","boolean"];function g(u){u=u!=null?u:"";return u.type||c.type(u)||"string"}function o(u){u.find(":input:not(:button, ["+n.attr("role")+"=upload], ["+n.attr("skip")+"]), select").each(function(){var v=n.attr("bind"),x=this.getAttribute(v)||"",w=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",y=this.name;if(x.indexOf(w)===-1&&y){x+=(x.length?",":"")+w+y;c(this).attr(v,x)}})}function h(C){var z=(C.model.fields||C.model)[C.field],x=g(z),u=z?z.validation:{},A,B=n.attr("type"),v=n.attr("bind"),y,w={name:C.field};for(A in u){y=u[A];if(s(A,q)>=0){w[B]=A}else{if(!a(y)){w[A]=k(y)?y.value||A:y}}w[n.attr(A+"-msg")]=y.message}if(s(x,q)>=0){w[B]=x}w[v]=(x==="boolean"?"checked:":"value:")+C.field;return w}function d(w){var v,y,x,z,A,u;if(w&&w.length){u=[];for(v=0,y=w.length;v<y;v++){x=w[v];A=x.text||x.value||x;z=x.value==null?(x.text||x):x.value;u[v]={text:A,value:z}}}return u}var i={number:function(v,w){var u=h(w);c('<input type="text"/>').attr(u).appendTo(v).kendoNumericTextBox({format:w.format});c("<span "+n.attr("for")+'="'+w.field+'" class="k-invalid-msg"/>').hide().appendTo(v)},date:function(v,w){var u=h(w),x=w.format;if(x){x=n._extractFormat(x)}u[n.attr("format")]=x;c('<input type="text"/>').attr(u).appendTo(v).kendoDatePicker({format:w.format});c("<span "+n.attr("for")+'="'+w.field+'" class="k-invalid-msg"/>').hide().appendTo(v)},string:function(v,w){var u=h(w);c('<input type="text" class="k-input k-textbox"/>').attr(u).appendTo(v)},"boolean":function(v,w){var u=h(w);c('<input type="checkbox" />').attr(u).appendTo(v)},values:function(v,w){var u=h(w);c("<select "+n.attr("text-field")+'="text"'+n.attr("value-field")+'="value"'+n.attr("source")+"='"+n.stringify(d(w.values)).replace(/\'/g,"&apos;")+"'"+n.attr("role")+'="dropdownlist"/>').attr(u).appendTo(v);c("<span "+n.attr("for")+'="'+w.field+'" class="k-invalid-msg"/>').hide().appendTo(v)}};function f(v,x){var u=v?(v.validation||{}):{},w;for(w in u){if(a(u[w])){x[w]=u[w]}}}var p=b.extend({init:function(v,u){var w=this;b.fn.init.call(w,v,u);w._validateProxy=c.proxy(w._validate,w);w.refresh()},events:[j],options:{name:"Editable",editors:i,clearContainer:true,errorTemplate:r},editor:function(D,v){var z=this,B=z.options.editors,F=k(D),E=F?D.field:D,x=z.options.model||{},w=F&&D.values,C=w?"values":g(v),A=F&&D.editor,y=A?D.editor:B[C],u=z.element.find("[data-container-for="+E.replace(l,"\\$1")+"]");y=y?y:B.string;if(A&&typeof D.editor==="string"){y=function(G){G.append(D.editor)}}u=u.length?u:z.element;y(u,t(true,{},F?D:{field:E},{model:x}))},_validate:function(y){var x=this,w=typeof y.value==="boolean",v,z=x._validationEventInProgress,u={};u[y.field]=y.value;v=c(":input["+n.attr("bind")+'="'+(w?"checked:":"value:")+y.field+'"]',x.element);try{x._validationEventInProgress=true;if(!x.validatable.validateInput(v)||(!z&&x.trigger(j,{values:u}))){y.preventDefault()}}finally{x._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var u=this;b.fn.destroy.call(u);u.options.model.unbind("set",u._validateProxy);n.unbind(u.element);n.destroy(u.element);u.element.removeData("kendoValidator")},refresh:function(){var A=this,C,v,y=A.options.fields||[],u=A.options.clearContainer?A.element.empty():A.element,x=A.options.model||{},E={},B,F,D,w,z;if(!c.isArray(y)){y=[y]}for(C=0,v=y.length;C<v;C++){B=y[C];F=k(B);D=F?B.field:B;w=(x.fields||x)[D];f(w,E);A.editor(B,w)}if(!v){z=x.fields||x;for(D in z){f(z[D],E)}}o(u);n.bind(u,A.options.model);A.options.model.bind("set",A._validateProxy);A.validatable=u.kendoValidator({validateOnBlur:false,errorTemplate:A.options.errorTemplate||e,rules:E}).data("kendoValidator");u.find(":focusable:first").focus()}});m.plugin(p)})(window.kendo.jQuery);(function(g,c){var k=window.kendo,p=k.ui,i="kendoNumericTextBox",o="kendoDatePicker",l=g.proxy,q="kendoPopup",b=".kendoFilterMenu",h="Is equal to",f="Is not equal to",n=p.Widget;var e='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div>';var a='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" data-#=ns#type="#=type#"/>#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" data-#=ns#type="#=type#"/>#}##}#<button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div>';function m(s,r){if(s.filters){s.filters=g.grep(s.filters,function(t){m(t,r);if(t.filters){return t.filters.length}else{return t.field!=r}})}}function j(t){var s,v,u,w,x,r;if(t&&t.length){r=[];for(s=0,v=t.length;s<v;s++){u=t[s];x=u.text||u.value||u;w=u.value==null?(u.text||u):u.value;r[s]={text:x,value:w}}}return r}var d=n.extend({init:function(t,s){var w=this,u="string",v,x,r;n.fn.init.call(w,t,s);r=s.operators||{};t=w.element;s=w.options;if(!s.appendToElement){v=t.addClass("k-filterable").find(".k-grid-filter");if(!v[0]){v=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}v.attr("tabindex",-1).on("click"+b,l(w._click,w))}else{w.link=g()}w._refreshHandler=l(w.refresh,w);w.dataSource=s.dataSource.bind("change",w._refreshHandler);w.field=s.field||t.attr(k.attr("field"));w.model=w.dataSource.reader.model;w._parse=function(y){return y+""};if(w.model&&w.model.fields){x=w.model.fields[w.field];if(x){u=x.type||"string";w._parse=l(x.parse,x)}}if(s.values){u="enums"}r=r[u]||s.operators[u];w.form=g('<form class="k-filter-menu"/>').html(k.template(u==="boolean"?e:a)({field:w.field,ns:k.ns,messages:s.messages,extra:s.extra,operators:r,type:u,values:j(s.values)})).on("keydown"+b,l(w._keydown,w)).on("submit"+b,l(w._submit,w)).on("reset"+b,l(w._reset,w));if(!s.appendToElement){w.popup=w.form[q]({anchor:v,open:l(w._open,w),activate:l(w._activate,w),close:w.options.closeCallback}).data(q);w.link=v}else{t.append(w.form);w.popup=w.element.closest(".k-popup").data(q)}w.form.find("["+k.attr("type")+"=number]").removeClass("k-textbox")[i]().end().find("["+k.attr("type")+"=date]").removeClass("k-textbox")[o]();w.refresh()},refresh:function(){var r=this,s=r.dataSource.filter()||{filters:[],logic:"and"};r.filterModel=k.observable({logic:"and",filters:[{field:r.field,operator:"eq",value:""},{field:r.field,operator:"eq",value:""}]});k.bind(r.form.children().first(),r.filterModel);if(r._bind(s)){r.link.addClass("k-state-active")}else{r.link.removeClass("k-state-active")}},destroy:function(){var r=this;n.fn.destroy.call(r);k.unbind(r.form);k.destroy(r.form);r.form.unbind(b);r.popup.destroy();r.link.unbind(b);r.dataSource.unbind("change",r._refreshHandler)},_bind:function(y){var w=this,s=y.filters,z,t,A=false,x=0,u=w.filterModel,v,r;for(z=0,t=s.length;z<t;z++){r=s[z];if(r.field==w.field){u.set("logic",y.logic);v=u.filters[x];if(!v){u.filters.push({field:w.field});v=u.filters[x]}v.set("value",w._parse(r.value));v.set("operator",r.operator);x++;A=true}else{if(r.filters){A=A||w._bind(r)}}}return A},_merge:function(y){var x=this,t=y.logic||"and",w=y.filters,u,s=x.dataSource.filter()||{filters:[],logic:"and"},r,v;m(s,x.field);w=g.grep(w,function(z){return z.value!==""});for(r=0,v=w.length;r<v;r++){u=w[r];u.value=x._parse(u.value)}if(w.length){if(s.filters.length){y.filters=w;if(s.logic!=="and"){s.filters=[{logic:s.logic,filters:s.filters}];s.logic="and"}if(w.length>1){s.filters.push(y)}else{s.filters.push(w[0])}}else{s.filters=w;s.logic=t}}return s},filter:function(r){r=this._merge(r);if(r.filters.length){this.dataSource.filter(r)}},clear:function(){var r=this,s=r.dataSource.filter()||{filters:[]};s.filters=g.grep(s.filters,function(t){if(t.filters){t.filters=g.grep(t.filters,function(u){return u.field!=r.field});return t.filters.length}return t.field!=r.field});if(!s.filters.length){s=null}r.dataSource.filter(s)},_submit:function(s){var r=this;s.preventDefault();r.filter(r.filterModel.toJSON());r.popup.close()},_reset:function(r){this.clear();this.popup.close()},_click:function(r){r.preventDefault();r.stopPropagation();this.popup.toggle()},_open:function(){var r;g(".k-filter-menu").not(this.form).each(function(){r=g(this).data(q);if(r){r.close()}})},_activate:function(){this.form.find(":focusable:first").focus()},_keydown:function(r){if(r.keyCode==k.keys.ESC){this.popup.close()}},options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:h,neq:f,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:h,neq:f,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:h,neq:f,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:h,neq:f}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-"}}});p.plugin(d)})(window.kendo.jQuery);(function(J,q){var L=window.kendo,S=L.ui,G=L.keys,o=J.extend,X=J.each,g=L.template,e=S.Widget,w=/^(ul|a|div)$/i,O=".kendoPanelBar",P="img",W="href",Q="k-last",E="k-link",h="."+E,M="error",Y=".k-item",D=".k-group",ac=D+":visible",l="k-image",t="k-first",N="expand",x="select",U="k-content",p="activate",B="collapse",m="contentUrl",j="mouseenter",s="mouseleave",a="contentLoad",ad="k-state-active",V="> .k-panel",T="> .k-content",A="k-state-focused",y="k-state-disabled",K="k-state-selected",aa="."+K,H="k-state-highlighted",b=Y+":not(.k-state-disabled)",C=b+" > .k-link",n=Y+".k-state-disabled > .k-link",ab="> li > "+aa+", .k-panel > li > "+aa,F="k-state-default",k="aria-disabled",I="aria-expanded",R="aria-hidden",f="aria-selected",Z=":visible",d=":empty",i="single",c={content:g("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:g("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:g("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:g("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } #</li>"),image:g("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:g("<span class='#= arrowClass(item) #'></span>"),sprite:g("<span class='k-sprite #= spriteCssClass #'></span>"),empty:g("")},u={aria:function(af){var ae="";if(af.items||af.content||af.contentUrl){ae+=I+"='"+(af.expanded?"true":"false")+"' "}if(af.enabled===false){ae+=k+"='true'"}return ae},wrapperCssClass:function(ah,ag){var ae="k-item",af=ag.index;if(ag.enabled===false){ae+=" "+y}else{if(ag.expanded===true){ae+=" "+ad}else{ae+=" k-state-default"}}if(af===0){ae+=" k-first"}if(af==ah.length-1){ae+=" k-last"}return ae},textClass:function(af,ag){var ae=E;if(ag.firstLevel){ae+=" k-header"}return ae},textAttributes:function(ae){return ae.url?" href='"+ae.url+"'":""},arrowClass:function(af){var ae="k-icon";ae+=af.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand";return ae},text:function(ae){return ae.encoded===false?ae.text:L.htmlEncode(ae.text)},tag:function(ae){return ae.url?"a":"span"},groupAttributes:function(ae){return ae.expanded!==true?" style='display:none'":""},groupCssClass:function(ae){return"k-group k-panel"},contentAttributes:function(ae){return ae.item.expanded!==true?" style='display:none'":""},content:function(ae){return ae.content?ae.content:ae.contentUrl?"":"&nbsp;"},contentUrl:function(ae){return ae.contentUrl?L.attr("content-url")+'="'+ae.contentUrl+'"':""}};function r(ae){ae=J(ae);ae.children(h).children(".k-icon").remove();ae.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var ag=J(this),af=ag.parent();ag.append("<span class='k-icon "+(af.hasClass(ad)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function v(ae){ae=J(ae);ae.filter(".k-first:not(:first-child)").removeClass(t);ae.filter(".k-last:not(:last-child)").removeClass(Q);ae.filter(":first-child").addClass(t);ae.filter(":last-child").addClass(Q)}var z=e.extend({init:function(af,ae){var ah=this,ag;e.fn.init.call(ah,af,ae);af=ah.wrapper=ah.element.addClass("k-widget k-reset k-header k-panelbar");ae=ah.options;if(ae.dataSource){ah.element.empty();ah.append(ae.dataSource,af)}if(af[0].id){ah._itemId=af[0].id+"_pb_active"}ah._tabindex();ah._updateClasses();if(ae.animation===false){ae.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}af.on("touchend"+O+" click"+O,C,function(ai){if(ah._click(J(ai.currentTarget))){ai.preventDefault()}}).on(j+O+" "+s+O,C,ah._toggleHover).on("touchend"+O+" click"+O,n,false).on("keydown"+O,J.proxy(ah._keydown,ah)).on("focus"+O,function(){var ai=ah.select();ah._current(ai[0]?ai:ah._first())}).on("blur"+O,function(){ah._current(null)}).attr("role","menu");if(ae.contentUrls){af.find("> .k-item").each(function(ai,aj){J(aj).find(h).data(m,ae.contentUrls[ai])})}ag=af.find("li."+ad+" > ."+U);if(ag[0]){ah.expand(ag.parent(),false)}L.notify(ah)},events:[N,B,x,p,M,a],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){e.fn.destroy.call(this);this.element.off(O);L.destroy(this.element)},expand:function(ae,ah){var af=this,ag={};ah=ah!==false;ae=this.element.find(ae);ae.each(function(aj,ak){ak=J(ak);var ai=ak.find(V).add(ak.find(T));if(!ak.hasClass(y)&&ai.length>0){if(af.options.expandMode==i&&af._collapseAllExpanded(ak)){return af}ae.find("."+H).removeClass(H);ak.addClass(H);if(!ah){ag=af.options.animation;af.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!af._triggerEvent(N,ak)){af._toggleItem(ak,false)}if(!ah){af.options.animation=ag}}});return af},collapse:function(ae,ah){var af=this,ag={};ah=ah!==false;ae=af.element.find(ae);ae.each(function(aj,ak){ak=J(ak);var ai=ak.find(V).add(ak.find(T));if(!ak.hasClass(y)&&ai.is(Z)){ak.removeClass(H);if(!ah){ag=af.options.animation;af.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!af._triggerEvent(B,ak)){af._toggleItem(ak,true)}if(!ah){af.options.animation=ag}}});return af},_toggleDisabled:function(af,ae){af=this.element.find(af);af.toggleClass(F,ae).toggleClass(y,!ae).attr(k,!ae)},select:function(ae){var af=this;if(ae===q){return af.element.find(ab).parent()}af.element.find(ae).each(function(ag){var ai=J(this),ah=ai.children(h);if(ai.hasClass(y)){return af}af._updateSelected(ah)});return af},enable:function(ae,af){this._toggleDisabled(ae,af!==false);return this},disable:function(ae){this._toggleDisabled(ae,false);return this},append:function(ag,ae){ae=this.element.find(ae);var af=this._insert(ag,ae,ae.length?ae.find(V):null);X(af.items,function(ah){af.group.append(this);var ai=af.contents[ah];if(ai){J(this).append(ai)}v(this)});r(ae);v(af.group.find(".k-first, .k-last"));af.group.height("auto");return this},insertBefore:function(ag,ae){ae=this.element.find(ae);var af=this._insert(ag,ae,ae.parent());X(af.items,function(ah){ae.before(this);var ai=af.contents[ah];if(ai){J(this).append(ai)}v(this)});v(ae);af.group.height("auto");return this},insertAfter:function(ag,ae){ae=this.element.find(ae);var af=this._insert(ag,ae,ae.parent());X(af.items,function(ah){ae.after(this);var ai=af.contents[ah];if(ai){J(this).append(ai)}v(this)});v(ae);af.group.height("auto");return this},remove:function(ae){ae=this.element.find(ae);var ag=this,af=ae.parentsUntil(ag.element,Y),ah=ae.parent("ul");ae.remove();if(ah&&!ah.hasClass("k-panelbar")&&!ah.children(Y).length){ah.remove()}if(af.length){af=af.eq(0);r(af);v(af)}return ag},reload:function(ae){var af=this;ae=af.element.find(ae);ae.each(function(){var ag=J(this);af._ajaxRequest(ag,ag.children("."+U),!ag.is(Z))})},_first:function(){return this.element.children(b).first()},_last:function(){var ae=this.element.children(b).last(),af=ae.children(ac);if(af[0]){return af.children(b).last()}return ae},_current:function(ae){var af=this,ag=af._focused;if(ae===q){return ag}af.element.removeAttr("aria-activedescendant");if(ag){ag.removeAttr("id").children(h).removeClass(A)}if(ae){ae.attr("id",af._itemId).children(h).addClass(A);af.element.attr("aria-activedescendant",af._itemId)}af._focused=ae},_keydown:function(ah){var af=this,ae=ah.keyCode,ag=af._current();if(ah.target!=ah.currentTarget){return}if(ae==G.DOWN||ae==G.RIGHT){af._current(af._nextItem(ag));ah.preventDefault()}else{if(ae==G.UP||ae==G.LEFT){af._current(af._prevItem(ag));ah.preventDefault()}else{if(ae==G.ENTER||ae==G.SPACEBAR){af._click(ag.children(h));ah.preventDefault()}else{if(ae==G.HOME){af._current(af._first());ah.preventDefault()}else{if(ae==G.END){af._current(af._last());ah.preventDefault()}}}}}},_nextItem:function(af){if(!af){return this._first()}var ag=af.children(ac),ae=af.next();if(ag[0]){ae=ag.children("."+t)}if(!ae[0]){ae=af.parent(ac).parent(Y).next()}if(!ae[0]||!ae.is(":visible")){ae=this._first()}if(ae.hasClass(y)){ae=this._nextItem(ae)}return ae},_prevItem:function(ag){if(!ag){return this._last()}var af=ag.prev(),ae;if(!af[0]){af=ag.parent(ac).parent(Y);if(!af[0]){af=this._last()}}else{ae=af;while(ae[0]){ae=ae.children(ac).children("."+Q);if(ae[0]){af=ae}}}if(af.hasClass(y)){af=this._prevItem(af)}return af},_insert:function(am,ag,ak){var ah=this,aj,ae=[],al=J.isPlainObject(am),ai=ag&&ag[0],af;if(!ai){ak=ah.element}af={firstLevel:ak.hasClass("k-panelbar"),expanded:ak.parent().hasClass(ad),length:ak.children().length};if(ai&&!ak.length){ak=J(z.renderGroup({group:af})).appendTo(ag)}if(al||J.isArray(am)){aj=J.map(al?[am]:am,function(ao,an){if(typeof ao==="string"){return J(ao)}else{return J(z.renderItem({group:af,item:o(ao,{index:an})}))}});ae=J.map(al?[am]:am,function(ao,an){if(ao.content||ao.contentUrl){return J(z.renderContent({item:o(ao,{index:an})}))}else{return false}});if(ai){ag.attr(I,false)}}else{aj=J(am);ah._updateItemsClasses(aj)}return{items:aj,group:ak,contents:ae}},_toggleHover:function(af){var ae=J(af.currentTarget);if(!ae.parents("li."+y).length){ae.toggleClass("k-state-hover",af.type==j)}},_updateClasses:function(){var ag=this,af,ae;af=ag.element.find("li > ul").not(function(){return J(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");af.parent().attr(I,false).not("."+ad).children("ul").attr(R,true).hide();ae=ag.element.add(af).children();ag._updateItemsClasses(ae);r(ae);v(ae)},_updateItemsClasses:function(af){var ag=af.length,ae=0;for(;ae<ag;ae++){this._updateItemClasses(af[ae])}},_updateItemClasses:function(ag){var ae=this._selected,af;ag=J(ag).addClass("k-item").attr("role","menuitem");ag.children(P).addClass(l);ag.children("a").addClass(E).children(P).addClass(l);ag.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");ag.filter("li[disabled]").addClass("k-state-disabled").attr(k,true).removeAttr("disabled");ag.children("div").addClass(U).attr("role","region").attr(R,true).hide().parent().attr(I,false);af=ag.children(aa);if(af[0]){if(ae){ae.removeAttr(f).children(aa).removeClass(K)}af.addClass(K);this._selected=ag.attr(f,true)}if(!ag.children(h)[0]){ag.contents().filter(function(){return(!this.nodeName.match(w)&&!(this.nodeType==3&&!J.trim(this.nodeValue)))}).wrapAll("<span class='"+E+"'/>")}if(ag.parent(".k-panelbar")[0]){ag.children(h).addClass("k-header")}},_click:function(ak){var aj=this,ai=aj.element,am;if(ak.parents("li."+y).length){return}if(ak.closest(".k-widget")[0]!=ai[0]){return}var al=ak.closest(h),an=al.closest(Y);aj._updateSelected(al);var ah=an.find(V).add(an.find(T)),ag=al.attr(W),ae=al.data(m)||(ag&&(ag.charAt(ag.length-1)=="#"||ag.indexOf("#"+aj.element[0].id+"-")!=-1));if(ah.data("animating")){return}if(aj._triggerEvent(x,an)){am=true}if(ae||ah.length){am=true}else{return}if(aj.options.expandMode==i){if(aj._collapseAllExpanded(an)){return}}if(ah.length){var af=ah.is(Z);if(!aj._triggerEvent(!af?N:B,an)){am=aj._toggleItem(an,af)}}return am},_toggleItem:function(ah,ae){var aj=this,ag=ah.find(V),af,ai;if(ag.length){this._toggleGroup(ag,ae);af=true}else{ai=ah.children("."+U);if(ai.length){af=true;if(!ai.is(d)){aj._toggleGroup(ai,ae)}else{aj._ajaxRequest(ah,ai,ae)}}}return af},_toggleGroup:function(ag,ae){var ai=this,af=ai.options.animation,aj=af.expand,ak=o({},af.collapse),ah=ak&&"effects" in ak;if(ag.is(Z)!=ae){return}ag.parent().attr(I,!ae).attr(R,ae).toggleClass(F,ae).toggleClass(ad,!ae).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!ae).toggleClass("k-panelbar-collapse",!ae).toggleClass("k-i-arrow-s",ae).toggleClass("k-panelbar-expand",ae);if(ae){aj=o(ah?ak:o({reverse:true},aj),{hide:true})}else{aj=o({complete:function(al){ai._triggerEvent(p,al.closest(Y))}},aj)}ag.kendoStop(true,true).kendoAnimate(aj)},_collapseAllExpanded:function(ah){var ag=this,af,ai=false;if(ah.children(h).hasClass("k-header")){var ae=ah.find(V).add(ah.find(T));if(ae.is(Z)){ai=true}if(!(ae.is(Z)||ae.length===0)){af=J(ag.element).children();af.find(V).add(af.find(T)).filter(function(){return J(this).is(Z)}).each(function(aj,ak){ak=J(ak);ai=ag._triggerEvent(B,ak.closest(Y));if(!ai){ag._toggleGroup(ak,true)}})}return ai}},_ajaxRequest:function(ag,ak,ae){var ai=this,af=ag.find(".k-panelbar-collapse, .k-panelbar-expand"),ah=ag.find(h),al=setTimeout(function(){af.addClass("k-loading")},100),aj={};J.ajax({type:"GET",cache:false,url:ah.data(m)||ah.attr(W),dataType:"html",data:aj,error:function(an,am){af.removeClass("k-loading");if(ai.trigger(M,{xhr:an,status:am})){this.complete()}},complete:function(){clearTimeout(al);af.removeClass("k-loading")},success:function(am,an){ak.html(am);ai._toggleGroup(ak,ae);ai.trigger(a,{item:ag[0],contentElement:ak[0]})}})},_triggerEvent:function(ae,af){var ag=this;return ag.trigger(ae,{item:af[0]})},_updateSelected:function(ai){var ah=this,ae=ah.element,ag=ai.parent(Y),af=ah._selected;if(af){af.removeAttr(f)}ah._selected=ag.attr(f,true);ae.find(ab).removeClass(K);ae.find("> .k-state-highlighted, .k-panel > .k-state-highlighted").removeClass(H);ai.addClass(K);ai.parentsUntil(ae,Y).filter(":has(.k-header)").addClass(H);ah._current(ag)}});o(z,{renderItem:function(ae){ae=o({panelBar:{},group:{}},ae);var ag=c.empty,af=ae.item;return c.item(o(ae,{image:af.imageUrl?c.image:ag,sprite:af.spriteCssClass?c.sprite:ag,itemWrapper:c.itemWrapper,arrow:af.items||af.content||af.contentUrl?c.arrow:ag,subGroup:z.renderGroup},u))},renderGroup:function(ae){return c.group(o({renderItems:function(ah){var aj="",ai=0,ag=ah.items,af=ag?ag.length:0,ak=o({length:af},ah.group);for(;ai<af;ai++){aj+=z.renderItem(o(ah,{group:ak,item:o({index:ai},ag[ai])}))}return aj}},ae,u))},renderContent:function(ae){return c.content(o(ae,u))}});L.ui.plugin(z)})(window.kendo.jQuery);(function(A,n){var B=window.kendo,H=B.ui,x=B.keys,y=A.map,N=A.each,a=A.trim,l=A.extend,f=B.template,e=H.Widget,t=/^(a|div)$/i,E=".kendoTabStrip",F="img",L="href",Q="prev",w="k-link",G="k-last",K="click",C="error",d=":empty",j="k-image",q="k-first",u="select",m="activate",J="k-content",k="contentUrl",g="mouseenter",p="mouseleave",b="contentLoad",h="k-state-disabled",o="k-state-default",I="k-state-active",i="k-state-focused",R="k-state-hover",M="k-tab-on-top",P=".k-item:not(."+h+")",v=".k-tabstrip-items > "+P,z=".k-tabstrip-items > "+P+":not(."+I+")",O=".k-tabstrip-items > .k-state-disabled .k-link",c={content:f("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:f("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:f("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:f("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:f("<span class='k-sprite #= spriteCssClass #'></span>"),empty:f("")},r={wrapperCssClass:function(W,V){var T="k-item",U=V.index;if(V.enabled===false){T+=" k-state-disabled"}else{T+=" k-state-default"}if(U===0){T+=" k-first"}if(U==W.length-1){T+=" k-last"}return T},textAttributes:function(T){return T.url?" href='"+T.url+"'":""},text:function(T){return T.encoded===false?T.text:B.htmlEncode(T.text)},tag:function(T){return T.url?"a":"span"},contentAttributes:function(T){return T.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(T){return T.content?T.content:T.contentUrl?"":"&nbsp;"},contentUrl:function(T){return T.contentUrl?B.attr("content-url")+'="'+T.contentUrl+'"':""}};function S(T){T.children(F).addClass(j);T.children("a").addClass(w).children(F).addClass(j);T.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(o);T.filter("li[disabled]").addClass(h).removeAttr("disabled");T.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(I+" "+M);T.attr("role","tab");T.filter("."+I).attr("aria-selected",true);T.each(function(){var U=A(this);if(!U.children("."+w).length){U.contents().filter(function(){return(!this.nodeName.match(t)&&!(this.nodeType==3&&!a(this.nodeValue)))}).wrapAll("<a class='"+w+"'/>")}})}function s(U){var T=U.children(".k-item");T.filter(".k-first:not(:first-child)").removeClass(q);T.filter(".k-last:not(:last-child)").removeClass(G);T.filter(":first-child").addClass(q);T.filter(":last-child").addClass(G)}var D=e.extend({init:function(U,T){var W=this;e.fn.init.call(W,U,T);W._animations(W.options);if(W.element.is("ul")){W.wrapper=W.element.wrapAll("<div />").parent()}else{W.wrapper=W.element}T=W.options;W.wrapper.on(K+E,O,false).on("touchend"+E+" click"+E,v,function(Y){if(W._click(A(Y.currentTarget))){Y.preventDefault()}}).on(g+E+" "+p+E,z,W._toggleHover).on("keydown"+E,A.proxy(W._keydown,W)).on("focus"+E,A.proxy(W._active,W)).on("blur"+E,function(){W._current(null)});W._isRtl=B.support.isRtl(W.wrapper);W._tabindex();W._updateClasses();W._dataSource();if(T.dataSource){W.dataSource.fetch()}if(W.options.contentUrls){W.wrapper.find(".k-tabstrip-items > .k-item").each(function(Y,Z){A(Z).find(">."+w).data(k,W.options.contentUrls[Y])})}var X=W.wrapper.find("li."+I),V=A(W.contentElement(X.parent().children().index(X)));if(V.length>0&&V[0].childNodes.length===0){W.activateTab(X.eq(0))}W.element.attr("role","tablist");if(W.element[0].id){W._ariaId=W.element[0].id+"_ts_active"}B.notify(W)},_active:function(){var T=this.tabGroup.children().filter("."+I);this._current(T[0]?T:this._endItem("first"))},_endItem:function(T){return this.tabGroup.children(P)[T]()},_item:function(U,V){var T;if(V===Q){T="last"}else{T="first"}if(!U){return this._endItem(T)}U=U[V]();if(!U[0]){U=this._endItem(T)}if(U.hasClass(h)){U=this._item(U,V)}return U},_current:function(T){var U=this,V=U._focused,W=U._ariaId;if(T===n){return V}if(V){V.removeClass(i);V.removeAttr("id")}if(T){if(!T.hasClass(I)){T.addClass(i)}U.element.removeAttr("aria-activedescendant");if(W){T.attr("id",W);U.element.attr("aria-activedescendant",W)}}U._focused=T},_keydown:function(Y){var U=this,T=Y.keyCode,X=U._current(),W=U._isRtl,V;if(Y.target!=Y.currentTarget){return}if(T==x.DOWN||T==x.RIGHT){V=W?Q:"next"}else{if(T==x.UP||T==x.LEFT){V=W?"next":Q}else{if(T==x.ENTER||T==x.SPACEBAR){U._click(X);Y.preventDefault()}else{if(T==x.HOME){U._click(U._endItem("first"));Y.preventDefault();return}else{if(T==x.END){U._click(U._endItem("last"));Y.preventDefault();return}}}}}if(V){U._click(U._item(X,V));Y.preventDefault()}},_dataSource:function(){var T=this;if(T.dataSource&&T._refreshHandler){T.dataSource.unbind("change",T._refreshHandler)}else{T._refreshHandler=A.proxy(T.refresh,T)}T.dataSource=B.data.DataSource.create(T.options.dataSource).bind("change",T._refreshHandler)},setDataSource:function(T){this.options.dataSource=T;this._dataSource();T.fetch()},_animations:function(T){if(T&&("animation" in T)&&!T.animation){T.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(aa){var Z=this,ah=Z.options,ag=B.getter(ah.dataTextField),ab=B.getter(ah.dataContentField),W=B.getter(ah.dataContentUrlField),X=B.getter(ah.dataImageUrlField),T=B.getter(ah.dataUrlField),af=B.getter(ah.dataSpriteCssClass),ae,ad=[],V,Y,ac=Z.dataSource.view(),U;aa=aa||{};Y=aa.action;if(Y){ac=aa.items}for(ae=0,U=ac.length;ae<U;ae++){V={text:ag(ac[ae])};if(ah.dataContentField){V.content=ab(ac[ae])}if(ah.dataContentUrlField){V.contentUrl=W(ac[ae])}if(ah.dataUrlField){V.url=T(ac[ae])}if(ah.dataImageUrlField){V.imageUrl=X(ac[ae])}if(ah.dataSpriteCssClass){V.spriteCssClass=af(ac[ae])}ad[ae]=V}if(aa.action=="add"){if(aa.index<Z.tabGroup.children().length){Z.insertBefore(ad,Z.tabGroup.children().eq(aa.index))}else{Z.append(ad)}}else{if(aa.action=="remove"){for(ae=0;ae<ac.length;ae++){Z.remove(aa.index)}}else{if(aa.action=="itemchange"){ae=Z.dataSource.view().indexOf(ac[0]);if(aa.field===ah.dataTextField){Z.tabGroup.children().eq(ae).find(".k-link").text(ac[0].get(aa.field))}}else{Z.trigger("dataBinding");Z.remove("li");Z.append(ad);Z.trigger("dataBound")}}}},value:function(U){var T=this;if(U!==n){if(U!=T.value()){T.tabGroup.children().each(function(){if(A.trim(A(this).text())==U){T.select(this)}})}}else{return T.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(T){var U=this.options.animation;this._animations(T);T.animation=l(true,U,T.animation);e.fn.setOptions.call(this,T)},events:[u,m,C,b,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false},destroy:function(){var T=this;e.fn.destroy.call(T);if(T._refreshHandler){T.dataSource.unbind("change",T._refreshHandler)}T.wrapper.off(E);B.destroy(T.wrapper)},select:function(T){var U=this;if(arguments.length===0){return U.tabGroup.find("li."+I)}if(!isNaN(T)){T=U.tabGroup.children().get(T)}T=U.tabGroup.find(T);A(T).each(function(V,W){W=A(W);if(!W.hasClass(I)&&!U.trigger(u,{item:W[0],contentElement:U.contentElement(W.index())})){U.activateTab(W)}});return U},enable:function(T,U){this._toggleDisabled(T,U!==false);return this},disable:function(T){this._toggleDisabled(T,false);return this},reload:function(T){T=this.tabGroup.find(T);var U=this;T.each(function(){var W=A(this),X=W.find("."+w).data(k),V=A(U.contentElement(W.index()));if(X){U.ajaxRequest(W,V,null,X)}});return U},append:function(U){var V=this,T=V._create(U);N(T.tabs,function(W){V.tabGroup.append(this);V.wrapper.append(T.contents[W])});s(V.tabGroup);V._updateContentElements();return V},insertBefore:function(W,U){var X=this,V=X._create(W),T=A(X.contentElement(U.index()));N(V.tabs,function(Y){U.before(this);T.before(V.contents[Y])});s(X.tabGroup);X._updateContentElements();return X},insertAfter:function(W,U){var X=this,V=X._create(W),T=A(X.contentElement(U.index()));N(V.tabs,function(Y){U.after(this);T.after(V.contents[Y])});s(X.tabGroup);X._updateContentElements();return X},remove:function(W){var V=this,T=typeof W,U=A();if(T==="string"){W=V.tabGroup.find(W)}else{if(T==="number"){W=V.tabGroup.children().eq(W)}}W.each(function(){U.push(V.contentElement(A(this).index()))});W.remove();U.remove();V._updateContentElements();return V},_create:function(V){var U=A.isPlainObject(V),X=this,T,W;if(U||A.isArray(V)){V=A.isArray(V)?V:[V];T=y(V,function(Z,Y){return A(D.renderItem({group:X.tabGroup,item:l(Z,{index:Y})}))});W=y(V,function(Z,Y){if(Z.content||Z.contentUrl){return A(D.renderContent({item:l(Z,{index:Y})}))}})}else{T=A(V);W=A("<div class='"+J+"'/>");S(T)}return{tabs:T,contents:W}},_toggleDisabled:function(U,T){U=this.tabGroup.find(U);U.each(function(){A(this).toggleClass(o,T).toggleClass(h,!T)})},_updateClasses:function(){var V=this,U,W,T;V.wrapper.addClass("k-widget k-header k-tabstrip");V.tabGroup=V.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!V.tabGroup[0]){V.tabGroup=A("<ul class='k-tabstrip-items k-reset'/>").appendTo(V.wrapper)}U=V.tabGroup.find("li").addClass("k-item");if(U.length){W=U.filter("."+I).index();T=W>=0?W:n;V.tabGroup.contents().filter(function(){return(this.nodeType==3&&!a(this.nodeValue))}).remove()}U.eq(W).addClass(M);V.contentElements=V.wrapper.children("div");V.contentElements.addClass(J).eq(T).addClass(I).css({display:"block"});if(U.length){S(U);s(V.tabGroup);V._updateContentElements()}},_updateContentElements:function(){var W=this,V=W.options.contentUrls||[],U=W.element.attr("id"),T=W.wrapper.children("div");W.tabGroup.find(".k-item").each(function(X){var Y=T.eq(X),Z=U+"-"+(X+1);this.setAttribute("aria-controls",Z);if(!Y.length&&V[X]){A("<div id='"+Z+"' class='"+J+"'/>").appendTo(W.wrapper)}else{Y.attr("id",Z)}Y.attr("role","tabpanel");Y.filter(":not(."+I+")").attr("aria-hidden",true).attr("aria-expanded",false);Y.filter("."+I).attr("aria-expanded",true)});W.contentElements=W.contentAnimators=W.wrapper.children("div");if(B.kineticScrollNeeded&&B.mobile.ui.Scroller){B.touchScroller(W.contentElements);W.contentElements=W.contentElements.children(".km-scroll-container")}},_toggleHover:function(T){A(T.currentTarget).toggleClass(R,T.type==g)},_click:function(Z){var Y=this,X=Z.find("."+w),V=X.attr(L),aa=Y.options.collapsible,W=A(Y.contentElement(Z.index())),U,T;if(Z.closest(".k-widget")[0]!=Y.wrapper[0]){return}if(Z.is("."+h+(!aa?",."+I:""))){return true}if(Y.tabGroup.children("[data-animating], [data-in-request]").length){return}if(Y.trigger(u,{item:Z[0],contentElement:W[0]})){return true}T=X.data(k)||(V&&(V.charAt(V.length-1)=="#"||V.indexOf("#"+Y.element[0].id+"-")!=-1));if(!V||T){U=true}else{return}if(aa&&Z.is("."+I)){Y.deactivateTab(Z);return true}if(Y.activateTab(Z)){U=true}return U},deactivateTab:function(V){var U=this,T=U.options.animation,X=T.open,Y=l({},T.close),W=Y&&"effects" in Y;V=U.tabGroup.find(V);Y=l(W?Y:l({reverse:true},X),{hide:true});if(B.size(X.effects)){V.kendoAddClass(o,{duration:X.duration});V.kendoRemoveClass(I,{duration:X.duration})}else{V.addClass(o);V.removeClass(I)}V.removeAttr("aria-selected");U.contentAnimators.filter("."+I).kendoStop(true,true).kendoAnimate(Y).removeClass(I).attr("aria-hidden",true)},activateTab:function(ah){ah=this.tabGroup.find(ah);var aa=this,ad=aa.options.animation,W=ad.open,ag=l({},ad.close),ac=ag&&"effects" in ag,V=ah.parent().children(),ae=V.filter("."+I),T=V.index(ah);ag=l(ac?ag:l({reverse:true},W),{hide:true});if(B.size(W.effects)){ae.kendoRemoveClass(I,{duration:ag.duration});ah.kendoRemoveClass(R,{duration:ag.duration})}else{ae.removeClass(I);ah.removeClass(R)}var af=aa.contentAnimators;if(af.length===0){ae.removeClass(M);ah.addClass(M).css("z-index");ah.addClass(I);aa._current(ah);aa.trigger("change");return false}var U=af.filter("."+I),ab=A(aa.contentElement(T));if(ab.length===0){U.removeClass(I).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(ag);return false}ah.attr("data-animating",true);var Y=(ah.children("."+w).data(k)||false)&&ab.is(d),Z=function(){ae.removeClass(M);ah.addClass(M).css("z-index");if(B.size(W.effects)){ae.kendoAddClass(o,{duration:W.duration});ah.kendoAddClass(I,{duration:W.duration})}else{ae.addClass(o);ah.addClass(I)}ae.removeAttr("aria-selected");ah.attr("aria-selected",true);aa._current(ah);ab.closest(".k-content").addClass(I).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(l({init:function(){aa.trigger(m,{item:ah[0],contentElement:ab[0]})}},W,{complete:function(){ah.removeAttr("data-animating")}}))},X=function(){if(!Y){Z();aa.trigger("change")}else{aa.ajaxRequest(ah,ab,function(){Z();aa.trigger("change")})}};U.removeClass(I);U.attr("aria-hidden",true);U.attr("aria-expanded",false);if(U.length){U.kendoStop(true,true).kendoAnimate(l({complete:X},ag))}else{X()}return true},contentElement:function(W){if(isNaN(W-0)){return n}var U=this.contentElements&&this.contentElements[0]&&!B.kineticScrollNeeded?this.contentElements:this.contentAnimators,X=new RegExp("-"+(W+1)+"$");if(U){for(var V=0,T=U.length;V<T;V++){if(X.test(U.closest(".k-content")[V].id)){return U[V]}}}return n},ajaxRequest:function(Y,aa,V,U){Y=this.tabGroup.find(Y);if(Y.find(".k-loading").length){return}var Z=this,ab=Y.find("."+w),X={},T=null,W=setTimeout(function(){T=A("<span class='k-icon k-loading'/>").prependTo(ab)},100);Y.attr("data-in-request",true);A.ajax({type:"GET",cache:false,url:U||ab.data(k)||ab.attr(L),dataType:"html",data:X,error:function(ad,ac){Y.removeAttr("data-animating");if(Z.trigger("error",{xhr:ad,status:ac})){this.complete()}},complete:function(){Y.removeAttr("data-in-request");clearTimeout(W);if(T!==null){T.remove()}},success:function(ac,ad){aa.html(ac);if(V){V.call(Z,aa)}Z.trigger(b,{item:Y[0],contentElement:aa[0]})}})}});l(D,{renderItem:function(T){T=l({tabStrip:{},group:{}},T);var V=c.empty,U=T.item;return c.item(l(T,{image:U.imageUrl?c.image:V,sprite:U.spriteCssClass?c.sprite:V,itemWrapper:c.itemWrapper},r))},renderContent:function(T){return c.content(l(T,r))}});B.ui.plugin(D)})(window.kendo.jQuery);(function(x,i){var y=window.kendo,r=y.keys,e=y._extractFormat,G=y.ui,a=G.Widget,K="open",O="close",v="change",N=".kendoTimePicker",H="touchend"+N+" click"+N,J="k-state-default",u="disabled",o="li",I="<span/>",D="k-state-focused",l="k-state-hover",d="mouseenter"+N+" mouseleave"+N,E="mousedown"+N,z=60000,c=86400000,s="k-state-selected",j="k-state-disabled",b="aria-selected",w="aria-expanded",F="aria-hidden",P="aria-activedescendant",p="id",q=x.isArray,g=x.extend,M=x.proxy,f=Date,n=new f();n=new f(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var m=function(Q){var R=this,S=Q.id;R.options=Q;R.ul=x('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:y.support.kineticScrollNeeded?"":"auto"}).on(H,o,M(R._click,R)).on("mouseenter"+N,o,function(){x(this).addClass(l)}).on("mouseleave"+N,o,function(){x(this).removeClass(l)});R.list=x("<div class='k-list-container'/>").append(R.ul).on(E,B);if(S){R._timeViewID=S+"_timeview";R._optionID=S+"_option_selected";R.ul.attr(p,R._timeViewID)}R._popup();R.template=y.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false})};m.prototype={current:function(Q){var R=this,S=R.options.active;if(Q!==i){if(R._current){R._current.removeClass(s).removeAttr(b).removeAttr(p)}if(Q){Q=x(Q).addClass(s).attr(p,R._optionID).attr(b,true);R.scroll(Q[0])}R._current=Q;if(S){S(Q)}}else{return R._current}},close:function(){this.popup.close()},destroy:function(){var Q=this;Q.ul.off(N);Q.list.off(N);Q.popup.destroy()},open:function(){var Q=this;if(!Q.ul[0].firstChild){Q.bind()}Q.popup.open();if(Q._current){Q.scroll(Q._current[0])}},dataBind:function(Q){var V=this,Z=V.options,W=Z.format,R=y.toString,Y=V.template,S=Q.length,X=0,T,U="";for(;X<S;X++){T=Q[X];if(A(T,Z.min,Z.max)){U+=Y(R(T,W,Z.culture))}}V._html(U,S)},refresh:function(){var Y=this,af=Y.options,ac=af.format,V=C(),Z=V<0,W=af.min,aa=af.max,ae=h(W),T=h(aa),U=af.interval*z,S=y.toString,ad=Y.template,Q=new f(+W),ab=0,R,X="";if(Z){R=(c+(V*z))/U}else{R=c/U}if(ae!=T){if(ae>T){T+=c}R=(T-ae)/U+1}for(;ab<R;ab++){if(ab){k(Q,U,Z)}if(T&&h(Q)>T){Q=new f(+aa)}X+=ad(S(Q,ac,af.culture))}Y._html(X,R)},bind:function(){var Q=this,R=Q.options.dates;if(R&&R[0]){Q.dataBind(R)}else{Q.refresh()}},_html:function(Q,S){var R=this;R.ul[0].innerHTML=Q;R._height(S);R.current(null);R.select(R._value)},scroll:function(V){if(!V){return}var T=this.ul[0],W=V.offsetTop,S=V.offsetHeight,R=T.scrollTop,Q=T.clientHeight,U=W+S;T.scrollTop=R>W?W:U>(R+Q)?U-Q:R},select:function(Q){var S=this,R=S.options,T=S._current;if(Q instanceof Date){Q=y.toString(Q,R.format,R.culture)}if(typeof Q==="string"){if(!T||T.text()!==Q){Q=x.grep(S.ul[0].childNodes,function(U){return(U.textContent||U.innerText)==Q});Q=Q[0]?Q:null}else{Q=T}}S.current(Q)},toggle:function(){var Q=this;if(Q.popup.visible()){Q.close()}else{Q.open()}},value:function(R){var Q=this;Q._value=R;if(Q.ul[0].firstChild){Q.select(R)}},_click:function(S){var R=this,Q=x(S.currentTarget);if(!S.isDefaultPrevented()){R.select(Q);R.options.change(Q.text(),true);R.close()}},_height:function(T){if(T){var S=this,U=S.list,R=U.parent(".k-animation-container"),Q=S.options.height;U.add(R).show().height(S.ul[0].scrollHeight>Q?Q:"auto").hide()}},_parse:function(S){var R=this,Q=R.options,T=R._value||n;if(S instanceof f){return S}S=y.parseDate(S,Q.parseFormats,Q.culture);if(S){S=new f(T.getFullYear(),T.getMonth(),T.getDate(),S.getHours(),S.getMinutes(),S.getSeconds(),S.getMilliseconds())}return S},_popup:function(){var T=this,U=T.list,R=T.options,Q=R.anchor,S;T.popup=new G.Popup(U,g(R.popup,{anchor:Q,open:R.open,close:R.close,animation:R.animation,isRtl:y.support.isRtl(R.anchor)}));S=Q.outerWidth()-(U.outerWidth()-U.width());U.css({fontFamily:Q.css("font-family"),width:S});y.touchScroller(T.popup.element)},move:function(U){var S=this,R=U.keyCode,Q=S.ul[0],T=S._current,V=R===r.DOWN;if(R===r.UP||V){if(U.altKey){S.toggle(V);return}else{if(V){T=T?T[0].nextSibling:Q.firstChild}else{T=T?T[0].previousSibling:Q.lastChild}}if(T){S.select(T)}S.options.change(S._current.text());U.preventDefault()}else{if(R===r.ENTER||R===r.TAB||R===r.ESC){U.preventDefault();if(T){S.options.change(T.text(),true)}S.close()}}}};function k(Q,T,S){var U=Q.getTimezoneOffset(),R;Q.setTime(Q.getTime()+T);if(!S){R=Q.getTimezoneOffset()-U;Q.setTime(Q.getTime()+R*z)}}function C(){var Q=new f(),R=new f(Q.getFullYear(),Q.getMonth(),Q.getDate(),0,0,0),S=new f(Q.getFullYear(),Q.getMonth(),Q.getDate(),12,0,0);return -1*(R.getTimezoneOffset()-S.getTimezoneOffset())}function h(Q){return Q.getHours()*60*z+Q.getMinutes()*z+Q.getSeconds()*1000+Q.getMilliseconds()}function A(T,S,Q){var R=h(S),U=h(Q),V;if(!T||R==U){return true}V=h(T);if(R>V){V+=c}if(U<R){U+=c}return V>=R&&V<=U}m.getMilliseconds=h;y.TimeView=m;var t=a.extend({init:function(T,R){var U=this,S,Q;a.fn.init.call(U,T,R);T=U.element;R=U.options;L(R);U._wrapper();U.timeView=Q=new m(g({},R,{id:T.attr(p),anchor:U.wrapper,format:R.format,change:function(W,V){if(V){U._change(W)}else{T.val(W)}},open:function(V){if(U.trigger(K)){V.preventDefault()}else{T.attr(w,true);S.attr(F,false)}},close:function(V){if(U.trigger(O)){V.preventDefault()}else{T.attr(w,false);S.attr(F,true)}},active:function(V){T.removeAttr(P);if(V){T.attr(P,Q._optionID)}}}));S=Q.ul;U._icon();U._reset();T[0].type="text";T.addClass("k-input").on("keydown"+N,M(U._keydown,U)).on("blur"+N,M(U._blur,U)).on("focus"+N,function(){U._inputWrapper.addClass(D)}).attr({role:"textbox","aria-haspopup":true,"aria-expanded":false,"aria-owns":Q._timeViewID});U.enable(!T.is("[disabled]"));U.value(R.value||T.val());y.notify(U)},options:{name:"TimePicker",min:n,max:n,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[K,O,v],setOptions:function(R){var S=this,Q=S.timeView,T=Q.options;a.fn.setOptions.call(S,R);L(S.options);Q.options=g(T,S.options,{active:T.active,change:T.change,close:T.close,open:T.open});Q.ul[0].innerHTML=""},dataBind:function(Q){if(q(Q)){this.timeView.dataBind(Q)}},enable:function(Q){var S=this,R=S.element,T=S._arrow.off(N),U=S._inputWrapper.off(d);if(Q===false){U.removeClass(J).addClass(j);R.attr(u,u)}else{U.removeClass(j).addClass(J).on(d,S._toggleHover);R.removeAttr(u);T.on(H,M(S._click,S)).on(E,B)}},destroy:function(){var Q=this;a.fn.destroy.call(Q);Q.timeView.destroy();Q.element.off(N);Q._arrow.off(N);Q._inputWrapper.off(N);if(Q._form){Q._form.off("reset",Q._resetHandler)}},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(Q){return this._option("min",Q)},max:function(Q){return this._option("max",Q)},value:function(R){var Q=this;if(R===i){return Q._value}Q._old=Q._update(R)},_blur:function(){var Q=this;Q.close();Q._change(Q.element.val());Q._inputWrapper.removeClass(D)},_click:function(S){var R=this,Q=R.element;R.timeView.toggle();if(S.type==="click"&&Q[0]!==document.activeElement){Q.focus()}},_change:function(R){var Q=this;R=Q._update(R);if(+Q._old!=+R){Q._old=R;Q.trigger(v);Q.element.trigger(v)}},_icon:function(){var R=this,Q=R.element,S;S=Q.next("span.k-select");if(!S[0]){S=x('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(Q)}R._arrow=S.attr({role:"button","aria-controls":R.timeView._timeViewID})},_keydown:function(T){var S=this,R=T.keyCode,Q=S.timeView;if(Q.popup.visible()||T.altKey){Q.move(T)}else{if(R===r.ENTER){S._change(S.element.val())}}},_option:function(R,T){var S=this,Q=S.options;if(T===i){return Q[R]}T=S.timeView._parse(T);if(!T){return}T=new f(+T);Q[R]=T;S.timeView.options[R]=T;S.timeView.bind()},_toggleHover:function(Q){x(Q.currentTarget).toggleClass(l,Q.type==="mouseenter")},_update:function(U){var T=this,S=T.options,R=T.timeView,Q=R._parse(U);if(!A(Q,S.min,S.max)){Q=null}T._value=Q;T.element.val(Q?y.toString(Q,S.format,S.culture):U);R.value(Q);return Q},_wrapper:function(){var R=this,Q=R.element,S;S=Q.parents(".k-timepicker");if(!S[0]){S=Q.wrap(I).parent().addClass("k-picker-wrap k-state-default");S=S.wrap(I).parent()}S[0].style.cssText=Q[0].style.cssText;Q.css({width:"100%",height:Q[0].style.height});R.wrapper=S.addClass("k-widget k-timepicker k-header").addClass(Q[0].className);R._inputWrapper=x(S[0].firstChild)},_reset:function(){var S=this,Q=S.element,R=Q.closest("form");if(R[0]){S._resetHandler=function(){S.value(Q[0].defaultValue)};S._form=R.on("reset",S._resetHandler)}}});function L(Q){var R=Q.parseFormats;Q.format=e(Q.format||y.getCulture(Q.culture).calendars.standard.patterns.t);R=q(R)?R:[R];R.splice(0,0,Q.format);Q.parseFormats=R}function B(Q){Q.preventDefault()}G.plugin(t)})(window.kendo.jQuery);(function(t,i){var u=window.kendo,n=u.TimeView,l=u.parseDate,e=u._extractFormat,F=u.calendar,v=F.isInRange,a=F.restrictValue,p=F.isEqualDatePart,h=n.getMilliseconds,A=u.ui,b=A.Widget,G="open",L="close",r="change",K=".kendoDateTimePicker",B="touchend"+K+" click"+K,q="disabled",D="k-state-default",x="k-state-focused",m="k-state-hover",j="k-state-disabled",c="mouseenter"+K+" mouseleave"+K,y="touchstart"+K+" mousedown"+K,d="month",C="<span/>",N="aria-activedescendant",s="aria-expanded",z="aria-hidden",H="aria-owns",f=Date,o=new f(1900,0,1),M=new f(2099,11,31),I={view:"date"},k={view:"time"},g=t.extend;var E=b.extend({init:function(P,O){var Q=this;b.fn.init.call(Q,P,O);P=Q.element;O=Q.options;J(O);Q._wrapper();Q._views();Q._icons();Q._reset();Q._template();P[0].type="text";P.addClass("k-input").on("keydown"+K,t.proxy(Q._keydown,Q)).on("focus"+K,function(){Q._inputWrapper.addClass(x)}).on("blur"+K,function(){Q._inputWrapper.removeClass(x);Q._change(P.val());Q.close("date");Q.close("time")}).attr({role:"textbox","aria-haspopup":true,"aria-expanded":false});Q._midnight=h(O.min)+h(O.max)===0;Q.enable(!P.is("[disabled]"));Q.value(O.value||P.val());u.notify(Q)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new f(o),max:new f(M),interval:30,height:200,footer:"",start:d,depth:d,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:[G,L,r],setOptions:function(O){var Q=this,P=Q.dateView.options,R=Q.timeView.options;b.fn.setOptions.call(Q,O);J(Q.options);O=Q.options;g(P,O,{change:P.change,close:P.close,open:P.open});g(R,O,{format:O.timeFormat,active:R.active,change:R.change,close:R.close,open:R.open});Q.timeView.ul[0].innerHTML=""},enable:function(O){var R=this,Q=R.element,P=R._dateIcon.off(K),S=R._timeIcon.off(K),T=R._inputWrapper.off(c);if(O===false){T.removeClass(D).addClass(j);Q.attr(q,q)}else{T.addClass(D).removeClass(j).on(c,R._toggleHover);Q.removeAttr(q);P.on(y,w).on(B,function(U){R.toggle("date");if(U.type==="click"&&Q[0]!==document.activeElement){Q.focus()}});S.on(y,w).on(B,function(U){R.toggle("time");if(U.type==="click"&&Q[0]!==document.activeElement){Q.focus()}})}},destroy:function(){var O=this;b.fn.destroy.call(O);O.dateView.destroy();O.timeView.destroy();O.element.off(K);O._dateIcon.off(K);O._timeIcon.off(K);O._inputWrapper.off(K);if(O._form){O._form.off("reset",O._resetHandler)}},close:function(O){if(O!=="time"){O="date"}this[O+"View"].close()},open:function(O){if(O!=="time"){O="date"}this[O+"View"].open()},min:function(O){return this._option("min",O)},max:function(O){return this._option("max",O)},toggle:function(P){var O="timeView";if(P!=="time"){P="date"}else{O="dateView"}this[P+"View"].toggle();this[O].close()},value:function(P){var O=this;if(P===i){return O._value}O._old=O._update(P)},_change:function(P){var O=this;P=O._update(P);if(+O._old!=+P){O._old=P;O.trigger(r);O.element.trigger(r)}},_option:function(Q,T){var R=this,P=R.options,O=R.timeView,S=O.options,U=R._value||R._old;if(T===i){return P[Q]}T=l(T,P.parseFormats,P.culture);if(!T){return}P[Q]=new f(+T);R.dateView[Q](T);R._midnight=h(P.min)+h(P.max)===0;if(U&&p(T,U)){if(R._midnight&&Q=="max"){S[Q]=M;O.dataBind([M]);return}S[Q]=T}else{S.max=M;S.min=o}O.bind()},_toggleHover:function(O){t(O.currentTarget).toggleClass(m,O.type==="mouseenter")},_update:function(X){var U=this,Z=U.options,R=Z.min,V=Z.max,O=Z.dates,aa=U.timeView,Q=l(X,Z.parseFormats,Z.culture),W,T,P,Y,S;if(+Q===+U._value){S=u.toString(Q,Z.format,Z.culture);if(S!==X){U.element.val(Q===null?X:S)}return Q}if(Q!==null&&p(Q,R)){Q=a(Q,R,V)}else{if(!v(Q,R,V)){Q=null}}U._value=Q;aa.value(Q);U.dateView.value(Q);if(Q){P=U._old;T=aa.options;if(O[0]){O=t.grep(O,function(ab){return p(Q,ab)});if(O[0]){aa.dataBind(O);Y=true}}if(!Y){if(p(Q,R)){T.min=R;T.max=M;W=true}if(p(Q,V)){if(U._midnight){aa.dataBind([M]);Y=true}else{T.max=V;if(!W){T.min=o}W=true}}}if(!Y&&((!P&&W)||(P&&!p(P,Q)))){if(!W){T.max=M;T.min=o}aa.bind()}}U.element.val(Q?u.toString(Q,Z.format,Z.culture):X);U._updateARIA(Q);return Q},_keydown:function(S){var R=this,O=R.dateView,Q=R.timeView,P=O.popup.visible();if(S.altKey&&S.keyCode===u.keys.DOWN){R.toggle(P?"time":"date")}else{if(P){O.move(S);R._updateARIA(O._current)}else{if(Q.popup.visible()){Q.move(S)}else{if(S.keyCode===u.keys.ENTER){R._change(R.element.val())}}}}},_views:function(){var T=this,R=T.element,V=T.options,P=R.attr("id"),S,W,O,U,Q;T.dateView=S=new u.DateView(g({},V,{id:P,anchor:T.wrapper,change:function(){var Y=S.calendar.value(),ab=+Y,X=+V.min,aa=+V.max,Z;if(ab===X||ab===aa){Z=new f(+T._value);Z.setFullYear(Y.getFullYear());Z.setMonth(Y.getMonth());Z.setDate(Y.getDate());if(v(Z,X,aa)){Y=Z}}T._change(Y);T.close("date")},close:function(X){if(T.trigger(L,I)){X.preventDefault()}else{R.attr(s,false);O.attr(z,true);if(!W.popup.visible()){R.removeAttr(H)}}},open:function(X){if(T.trigger(G,I)){X.preventDefault()}else{Q=l(R.val(),V.parseFormats,V.culture);if(!Q){T.dateView.value(Q)}else{T.dateView._current=Q;T.dateView.calendar._focus(Q)}O.attr(z,false);R.attr(s,true).attr(H,S._dateViewID)}}}));O=S.div;T.timeView=W=new n({id:P,value:V.value,anchor:T.wrapper,animation:V.animation,format:V.timeFormat,culture:V.culture,height:V.height,interval:V.interval,min:new f(o),max:new f(M),parseFormats:V.parseFormats,change:function(Y,X){Y=W._parse(Y);if(Y<V.min){Y=new f(+V.min);W.options.min=Y}else{if(Y>V.max){Y=new f(+V.max);W.options.max=Y}}if(X){T._timeSelected=true;T._change(Y)}else{R.val(u.toString(Y,V.format,V.culture));S.value(Y);T._updateARIA(Y)}},close:function(X){if(T.trigger(L,k)){X.preventDefault()}else{U.attr(z,true);R.attr(s,false);if(!S.popup.visible()){R.removeAttr(H)}}},open:function(X){if(T.trigger(G,k)){X.preventDefault()}else{U.attr(z,false);R.attr(s,true).attr(H,W._timeViewID)}},active:function(X){R.removeAttr(N);if(X){R.attr(N,W._optionID)}}});U=W.ul},_icons:function(){var Q=this,P=Q.element,O;O=P.next("span.k-select");if(!O[0]){O=t('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(P)}O=O.children();Q._dateIcon=O.eq(0).attr({role:"button","aria-controls":Q.dateView._dateViewID});Q._timeIcon=O.eq(1).attr({role:"button","aria-controls":Q.timeView._timeViewID})},_wrapper:function(){var P=this,O=P.element,Q;Q=O.parents(".k-datetimepicker");if(!Q[0]){Q=O.wrap(C).parent().addClass("k-picker-wrap k-state-default");Q=Q.wrap(C).parent()}Q[0].style.cssText=O[0].style.cssText;O.css({width:"100%",height:O[0].style.height});P.wrapper=Q.addClass("k-widget k-datetimepicker k-header").addClass(O[0].className);P._inputWrapper=t(Q[0].firstChild)},_reset:function(){var Q=this,O=Q.element,P=O.closest("form");if(P[0]){Q._resetHandler=function(){Q.value(O[0].defaultValue)};Q._form=P.on("reset",Q._resetHandler)}},_template:function(){this._ariaTemplate=u.template(this.options.ARIATemplate)},_updateARIA:function(O){this.element.attr("aria-label",this._ariaTemplate({current:O}))}});function w(O){O.preventDefault()}function J(O){var P=u.getCulture(O.culture).calendars.standard.patterns;O.format=e(O.format||P.g);O.timeFormat=e(O.timeFormat||P.t);u.DateView.normalize(O);O.parseFormats.splice(1,0,O.timeFormat)}A.plugin(E)})(window.kendo.jQuery);(function(v,n){var x=window.kendo,B=x.ui,M=x.data,l=v.extend,f=x.template,r=v.isArray,e=B.Widget,i=M.HierarchicalDataSource,I=v.proxy,t=x.keys,z=".kendoTreeView",p="select",h="navigate",y="expand",u="change",a="checked",s="collapse",F="dragstart",q="drag",G="drop",A="dragend",j="dataBound",D="click",g="visibility",w="undefined",d="k-state-hover",H="k-treeview",P=":visible",O=".k-item",k="aria-selected",o="aria-disabled",m,c,C,Q,J={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},L=function(R){return(typeof HTMLElement==="object"?R instanceof HTMLElement:R&&typeof R==="object"&&R.nodeType===1&&typeof R.nodeName==="string")};function b(R){return function(T){var S=T.children(".k-animation-container");if(!S.length){S=T}return S.children(R)}}c=b(".k-group");C=b(".k-group,.k-content");Q=function(R){return R.children("div").children(".k-icon")};function K(R){return R.children("div").find(":checkbox:first")}function N(U){var Y=U.children("div"),X=U.children("ul"),W=Y.children(".k-icon"),V=U.children(":checkbox"),T=Y.children(".k-in"),S,R;if(U.hasClass("k-treeview")){return}if(!Y.length){Y=v("<div />").prependTo(U)}if(!W.length&&X.length){W=v("<span class='k-icon' />").prependTo(Y)}else{if(!X.length||!X.children().length){W.remove();X.remove()}}if(V.length){v("<span class='k-checkbox' />").appendTo(Y).append(V)}if(!T.length){T=v("<span class='k-in' />").appendTo(Y)[0];S=Y[0].nextSibling;T=Y.find(".k-in")[0];while(S&&S.nodeName.toLowerCase()!="ul"){R=S;S=S.nextSibling;if(R.nodeType==3){R.nodeValue=v.trim(R.nodeValue)}T.appendChild(R)}}}m=e.extend({init:function(T,R){var V=this,U,S=false;if(r(R)){U=true;R={dataSource:R}}if(R&&typeof R.loadOnDemand==w&&r(R.dataSource)){R.loadOnDemand=false}e.prototype.init.call(V,T,R);T=V.element;R=V.options;S=T.is("ul")||T.hasClass(H);if(S){R.dataSource.list=T.is("ul")?T:T.children("ul")}V._animation();V._accessors();V._templates();if(!T.hasClass(H)){V._wrapper();if(S){V.root=T;V._group(V.wrapper)}}else{V.wrapper=T;V.root=T.children("ul").eq(0)}V._tabindex();if(!V.wrapper.filter("[role=tree]").length){V.wrapper.attr("role","tree")}V._dataSource(S);V._attachEvents();if(R.dragAndDrop){V.dragging=new E(V)}if(!S){if(R.autoBind){V._progress(true);V.dataSource.fetch()}}else{V._attachUids()}if(R.checkboxes&&R.checkboxes.checkChildren){V.wrapper.find(":checkbox").closest(O).each(function(W){V._updateIndeterminate(v(this))})}if(V.element[0].id){V._ariaId=x.format("{0}_tv_active",V.element[0].id)}},_attachEvents:function(){var S=this,R=".k-in:not(.k-state-selected,.k-state-disabled)",T="mouseenter";S.wrapper.on(T+z,".k-in.k-state-selected",function(U){U.preventDefault()}).on(T+z,R,function(){v(this).addClass(d)}).on("mouseleave"+z,R,function(){v(this).removeClass(d)}).on(D+z,R,I(S._click,S)).on("dblclick"+z,".k-in:not(.k-state-disabled)",I(S._toggleButtonClick,S)).on(D+z,".k-plus,.k-minus",I(S._toggleButtonClick,S)).on("keydown"+z,I(S._keydown,S)).on("focus"+z,I(S._focus,S)).on("blur"+z,I(S._blur,S)).on("mousedown"+z,".k-in,.k-checkbox :checkbox",I(S._mousedown,S)).on("change"+z,".k-checkbox :checkbox",I(S._checkboxChange,S)).on("click"+z,".k-checkbox :checkbox",I(S._checkboxClick,S)).on("click"+z,function(){S.focus()})},_checkboxClick:function(S){var R=v(S.target);if(R.data("indeterminate")){R.data("indeterminate",false).prop("indeterminate",false).prop(a,true);this._checkboxChange(S)}},_attachUids:function(R,U){var S=this,T,V=x.attr("uid");R=R||S.root;U=U||S.dataSource;T=U.view();R.children("li").each(function(W,X){X=v(X).attr(V,T[W].uid);X.attr("role","treeitem");S._attachUids(X.children("ul"),T[W].children)})},_animation:function(){var R=this.options,S=R.animation;if(S===false){S={expand:{effects:{}},collapse:{hide:true,effects:{}}}}else{if(!S.collapse||!("effects" in S.collapse)){S.collapse=l({reverse:true},S.expand)}}l(S.collapse,{hide:true});R.animation=S},_templates:function(){var T=this,S=T.options,R=I(T._fieldAccessor,T);if(S.template&&typeof S.template=="string"){S.template=f(S.template)}else{if(!S.template){S.template=f("# var text = "+R("text")+"(item); ## if (typeof item.encoded != 'undefined' && item.encoded === false) {##= text ## } else { ##: text ## } #")}}T._checkboxes();T.templates={wrapperCssClass:function(X,W){var U="k-item",V=W.index;if(X.firstLevel&&V===0){U+=" k-first"}if(V==X.length-1){U+=" k-last"}return U},cssClass:function(X,W){var U="",V=W.index,Y=X.length-1;if(X.firstLevel&&V===0){U+="k-top "}if(V===0&&V!=Y){U+="k-top"}else{if(V==Y){U+="k-bot"}else{U+="k-mid"}}return U},textClass:function(V){var U="k-in";if(V.enabled===false){U+=" k-state-disabled"}if(V.selected===true){U+=" k-state-selected"}return U},toggleButtonClass:function(V){var U="k-icon";if(V.expanded!==true){U+=" k-plus"}else{U+=" k-minus"}if(V.enabled===false){U+="-disabled"}return U},groupAttributes:function(U){return U.expanded!==true?" style='display:none'":""},groupCssClass:function(V){var U="k-group";if(V.firstLevel){U+=" k-treeview-lines"}return U},dragClue:f("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status'></span>#= text #</div>"),group:f("<ul class='#= r.groupCssClass(group) #'#= r.groupAttributes(group) # role='group'>#= renderItems(data) #</ul>"),itemContent:f("# var imageUrl = "+R("imageUrl")+"(item); ## var spriteCssClass = "+R("spriteCssClass")+"(item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= treeview.template(data) #"),itemElement:f("# var url = "+R("url")+"(item); #<div class='#= r.cssClass(group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation'></span># } ## if (treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:f("<li role='treeitem' class='#= r.wrapperCssClass(group, item) #' "+x.attr("uid")+"='#= item.uid #'#=item.selected ? \"aria-selected='true'\" : ''##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= r.itemElement(data) #</li>"),loading:f("<div class='k-icon k-loading' /> Loading...")}},items:function(){return this.element.find(".k-item")},setDataSource:function(R){this.options.dataSource=R;this._dataSource();this.dataSource.fetch()},_dataSource:function(S){var U=this,T=U.options,V=T.dataSource;function R(X){for(var W=0;W<X.length;W++){X[W]._initChildren();X[W].children.fetch();R(X[W].children.view())}}V=r(V)?{data:V}:V;if(U.dataSource&&U._refreshHandler){U.dataSource.unbind(u,U._refreshHandler)}else{U._refreshHandler=I(U.refresh,U)}if(!V.fields){V.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}U.dataSource=i.create(V);if(S){U.dataSource.fetch();R(U.dataSource.view())}U.dataSource.bind(u,U._refreshHandler)},events:[F,q,G,A,j,y,s,p,h],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:false,checkboxes:false,autoBind:true,loadOnDemand:true,template:""},_accessors:function(){var V=this,S=V.options,U,W,R,T=V.element;for(U in J){W=S[J[U]];R=T.attr(x.attr(U+"-field"));if(R){W=R}if(!W){W=U}if(!r(W)){W=[W]}S[J[U]]=W}},_fieldAccessor:function(U){var S=this.options[J[U]],T=S.length,R="(function(item) {";if(T===0){R+="return item['"+U+"'];"}else{R+="var level = item.level();var levels = ["+v.map(S,function(V){return"function(d){ return "+x.expr(V)+"}"}).join(",")+"];";R+="return levels[Math.min(level, "+T+"-1)](item)"}R+="})";return R},setOptions:function(R){var S=this;if(("dragAndDrop" in R)&&R.dragAndDrop&&!S.options.dragAndDrop){S.dragging=new E(S)}e.fn.setOptions.call(S,R);S._animation();S._templates()},_trigger:function(R,S){return this.trigger(R,{node:S.closest(O)[0]})},_updateIndeterminate:function(U){var R=U.parent().closest(O),V,S,T=true;if(R.length){V=K(U.siblings().andSelf());for(S=1;S<V.length;S++){if(V[S].checked!=V[S-1].checked||V[S].indeterminate||V[S-1].indeterminate){T=false;break}}K(R).data("indeterminate",!T).prop("indeterminate",!T).prop(a,T&&V[0].checked);this._updateIndeterminate(R)}},_checkboxChange:function(U){var T=v(U.target),V=T.prop(a),S=T.closest(O),R=this;if(R.options.checkboxes.checkChildren){S.find(":checkbox").each(function(){R.dataItem(this).set(a,V)});R._updateIndeterminate(S)}else{R.dataItem(S).set(a,V)}},_toggleButtonClick:function(R){this.toggle(v(R.target).closest(O))},_mousedown:function(R){this._clickTarget=v(R.currentTarget).closest(O)},_focusable:function(R){return R&&R.length&&R.is(":visible")&&!R.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(S){var R=this.select();if(!this._focusable(R)){R=this._clickTarget}if(!this._focusable(R)){R=this.current()}if(!this._focusable(R)){R=this._nextVisible(v())}this.current(R)},focus:function(){this.wrapper.focus()},_blur:function(R){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(R){return !R.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(R){return v(R).parent().closest(O)},_nextVisible:function(U){var T=this,S=T._expanded(U),R;if(!U.length||!U.is(":visible")){R=T.root.children().eq(0)}else{if(S){R=c(U).children().first()}else{while(U.length&&!U.next().length){U=T.parent(U)}if(U.next().length){R=U.next()}else{R=U}}}if(!T._enabled(R)){R=T._nextVisible(R)}return R},_previousVisible:function(T){var S=this,R;if(!T.length||T.prev().length){if(T.length){R=T.prev()}else{R=S.root.children().last()}while(S._expanded(R)){R=c(R).children().last()}}else{R=S.parent(T)||T}if(!S._enabled(R)){R=S._previousVisible(R)}return R},_keydown:function(Y){var T=this,S=Y.keyCode,X,W=T.current(),R=T._expanded(W),U=W.find(":checkbox:first"),V=x.support.isRtl(T.element);if(Y.target!=Y.currentTarget){return}if((!V&&S==t.RIGHT)||(V&&S==t.LEFT)){if(R){X=T._nextVisible(W)}else{T.expand(W)}}else{if((!V&&S==t.LEFT)||(V&&S==t.RIGHT)){if(R){T.collapse(W)}else{X=T.parent(W);if(!T._enabled(X)){X=n}}}else{if(S==t.DOWN){X=T._nextVisible(W)}else{if(S==t.UP){X=T._previousVisible(W)}else{if(S==t.HOME){X=T._nextVisible(v())}else{if(S==t.END){X=T._previousVisible(v())}else{if(S==t.ENTER){if(!W.find(".k-in:first").hasClass("k-state-selected")){if(!T._trigger(p,W)){T.select(W)}}}else{if(S==t.SPACEBAR&&U.length){U.prop(a,!U.prop(a)).data("indeterminate",false).prop("indeterminate",false);T._checkboxChange({target:U});X=W}}}}}}}}if(X){Y.preventDefault();if(W[0]!=X[0]){T._trigger(h,X);T.current(X)}}},_click:function(V){var U=this,T=v(V.target),S=C(T.closest(O)),R=T.attr("href"),W;if(R){W=R=="#"||R.indexOf("#"+this.element.id+"-")>=0}else{W=S.length&&!S.children().length}if(W){V.preventDefault()}if(!T.hasClass(".k-state-selected")&&!U._trigger(p,T)){U.select(T)}},_wrapper:function(){var U=this,T=U.element,V,S,R="k-widget k-treeview";if(T.is("div")){V=T;S=V.children("ul").eq(0)}else{V=T.wrap("<div />").parent();S=T}U.wrapper=V.addClass(R);U.root=S},_group:function(T){var S=this,V=T.hasClass(H),U={firstLevel:V,expanded:V||S._expanded(T)},R=T.children("ul");R.addClass(S.templates.groupCssClass(U)).css("display",U.expanded?"":"none");S._nodes(R,U)},_nodes:function(U,T){var V=this,R=U.children("li"),S;T=l({length:R.length},T);R.each(function(W,X){X=v(X);S={index:W,expanded:V._expanded(X)};N(X);V._updateNodeClasses(X,T,S);V._group(X)})},_checkboxes:function(){var R=this.options,S=R.checkboxes,T;if(S||R.checkboxTemplate){if(R.checkboxTemplate){T=R.checkboxTemplate}else{T="<input type='checkbox' #= item.checked ? 'checked' : '' #";if(S.name){T+=" name='"+S.name+"'"}T+=" />"}S=l({template:T},R.checkboxes);if(typeof S.template=="string"){S.template=f(S.template)}R.checkboxes=S}},_updateNodeClasses:function(U,S,R){var W=U.children("div"),V=U.children("ul"),T=this.templates;if(U.hasClass("k-treeview")){return}R=R||{};R.expanded=typeof R.expanded!=w?R.expanded:this._expanded(U);R.index=typeof R.index!=w?R.index:U.index();R.enabled=typeof R.enabled!=w?R.enabled:!W.children(".k-in").hasClass("k-state-disabled");S=S||{};S.firstLevel=typeof S.firstLevel!=w?S.firstLevel:U.parent().parent().hasClass(H);S.length=typeof S.length!=w?S.length:U.parent().children().length;U.removeClass("k-first k-last").addClass(T.wrapperCssClass(S,R));W.removeClass("k-top k-mid k-bot").addClass(T.cssClass(S,R));W.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(T.textClass(R));if(V.length||U.attr("data-hasChildren")=="true"){W.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(T.toggleButtonClass(R));V.addClass("k-group")}},_processNodes:function(R,T){var S=this;S.element.find(R).each(function(U,V){T.call(S,U,v(V).closest(O))})},dataItem:function(S){var R=v(S).closest(O).attr(x.attr("uid")),T=this.dataSource;return T&&T.getByUid(R)},_insertNode:function(R,ac,Z,aa,W){var ab=this,ae=c(Z),ad=ae.children().length+1,Y,V={firstLevel:Z.hasClass(H),expanded:!W,length:ad},U,X,af,T="",S=function(ag,ah){ag.appendTo(ah)};for(X=0;X<R.length;X++){af=R[X];af.index=ac+X;T+=ab._renderItem({group:V,item:af})}U=v(T);if(!U.length){return}if(!ae.length){ae=v(ab._renderGroup({group:V})).appendTo(Z)}aa(U,ae);if(Z.hasClass("k-item")){N(Z);ab._updateNodeClasses(Z)}ab._updateNodeClasses(U.prev().first());ab._updateNodeClasses(U.next().last());for(X=0;X<R.length;X++){af=R[X];if(af.hasChildren){Y=af.children.data();if(Y.length){ab._insertNode(Y,af.index,U.eq(X),S,!ab._expanded(U.eq(X)))}}}return U},_updateNode:function(X,R){var W=this,T,V,U,S={treeview:W.options,item:U};if(X=="selected"){U=R[0];V=W.findByUid(U.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",U[X]).end();if(U[X]){W.current(V);V.attr(k,true)}else{V.attr(k,false)}}else{for(T=0;T<R.length;T++){S.item=U=R[T];if(X=="spriteCssClass"||X=="imageUrl"||v.inArray(X,W.options.dataTextField)>=0){W.findByUid(U.uid).find(">div>.k-in").html(W.templates.itemContent(S))}else{if(X==a){V=W.findByUid(U.uid);V.children("div").find(":checkbox").prop(a,U[X]).data("indeterminate",false).prop("indeterminate",false)}else{if(X=="expanded"){W._toggle(W.findByUid(U.uid),U,U[X])}}}}}},refresh:function(Z){var X=this,W=X.wrapper,S=Z.node,T=Z.action,aa=Z.items,Y=Z.index,U=X.options.loadOnDemand,V;function R(ac,ab){var ae=c(ab),ad=ae.children(),af=!X._expanded(ab);if(typeof Y==w){Y=ad.length}X._insertNode(ac,Y,ab,function(ag,ah){if(Y==ad.length){ag.appendTo(ah)}else{ag.insertBefore(ad.eq(Y))}},af);if(X._expanded(ab)){X._updateNodeClasses(ab);c(ab).css("display","block")}}if(Z.field){return X._updateNode(Z.field,aa)}if(S){W=X.findByUid(S.uid);X._progress(W,false)}if(T=="add"){R(aa,W)}else{if(T=="remove"){X._remove(X.findByUid(aa[0].uid),false)}else{if(S){c(W).empty();R(aa,W)}else{X.root=X.wrapper.html(X._renderGroup({items:aa,group:{firstLevel:true,expanded:true}})).children("ul")}}}for(V=0;V<aa.length;V++){if(!U||aa[V].expanded){aa[V].load()}}X.trigger(j,{node:S?W:n})},expand:function(R){this._processNodes(R,function(S,T){this.toggle(T,true)})},collapse:function(R){this._processNodes(R,function(S,T){this.toggle(T,false)})},enable:function(R,S){S=arguments.length==2?!!S:true;this._processNodes(R,function(U,V){var T=!C(V).is(P);V.removeAttr(o);if(!S){this.collapse(V);T=true;V.find(".k-in:first").removeClass("k-state-selected");V.removeAttr(k);V.attr(o,true)}this._updateNodeClasses(V,{},{enabled:S,expanded:!T})})},current:function(T){var S=this,U=S._current,R=S.element,V=S._ariaId;if(arguments.length>0&&T&&T.length){if(U){U.removeAttr("id").find(".k-in:first").removeClass("k-state-focused")}U=S._current=v(T,R).closest(O);U.find(".k-in:first").addClass("k-state-focused");if(V){S.wrapper.removeAttr("aria-activedescendant");U.attr("id",V);S.wrapper.attr("aria-activedescendant",V)}return}if(!U){U=S._nextVisible(v())}return U},select:function(T){var S=this,R=S.element;if(!arguments.length){return R.find(".k-state-selected").closest(O)}T=v(T,R).closest(O);if(T.length){R.find(".k-state-selected").each(function(){var U=S.dataItem(this);U.set("selected",false);delete U.selected});S.dataItem(T).set("selected",true)}},_toggle:function(S,R,Y){var W=this,Z=W.options,T=C(S),X=Y?"expand":"collapse",U=Z.animation[X],V;if(T.data("animating")){return}if(!W._trigger(X,S)){W._expanded(S,Y);V=R&&R.loaded();if(V&&T.children().length>0){W._updateNodeClasses(S,{},{expanded:Y});if(T.is(":visible")==Y){return}if(!Y){T.css("height",T.height()).css("height")}T.kendoStop(true,true).kendoAnimate(l({reset:true},U,{complete:function(){if(Y){T.css("height","")}}}))}else{if(R){if(Z.loadOnDemand){W._progress(S,true)}T.remove();R.load()}}}},toggle:function(S,R){S=v(S);if(!Q(S).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){return}if(arguments.length==1){R=!this._expanded(S)}this._expanded(S,R)},destroy:function(){var R=this;e.fn.destroy.call(R);R.element.off(z);if(R.dragging){R.dragging.destroy()}x.destroy(R.element)},_expanded:function(T,U){var S=x.attr("expanded"),R=this.dataItem(T);if(arguments.length==1){return T.attr(S)==="true"||(R&&R.expanded)}if(C(T).data("animating")){return}if(R){R.set("expanded",U)}if(U){T.attr(S,"true");T.attr("aria-expanded","true")}else{T.removeAttr(S);T.attr("aria-expanded","false")}},_progress:function(S,T){var R=this.element;if(arguments.length==1){T=S;if(T){R.html(this.templates.loading)}else{R.empty()}}else{Q(S).toggleClass("k-loading",T)}},text:function(U,W){var S=this.dataItem(U),R=this.options[J.text],X=S.level(),T=R.length,V=R[Math.min(X,T-1)];if(W){S.set(V,W)}else{return S[V]}},_objectOrSelf:function(R){return v(R).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(S,ab,X,ac){var Y=this,Z=Y._objectOrSelf(S),aa,R,T,W,V=Y._objectOrSelf(X||ab),U=V.dataSource;if(X){T=V.dataItem(X);if(!T.loaded()){V._progress(X,true);T.load()}if(X!=Y.root){U=T.children}}if(S instanceof window.jQuery||L(S)){S=v(S);aa=Z.dataSource;R=aa.getByUid(S.attr(x.attr("uid")));if(R){R=aa.remove(R)}R=ac(U,R)}else{if(r(S)||S instanceof M.ObservableArray){for(W=0;W<S.length;W++){R=ac(U,S[W])}}else{R=ac(U,S)}}return R&&Y.findByUid(R.uid)},insertAfter:function(T,S){var U=S.parent(),R;if(U.parent().is("li")){R=U.parent()}return this._dataSourceMove(T,U,R,function(W,V){return W.insert(S.index()+1,V)})},insertBefore:function(T,S){var U=S.parent(),R;if(U.parent().is("li")){R=U.parent()}return this._dataSourceMove(T,U,R,function(W,V){return W.insert(S.index(),V)})},append:function(S,R){var T=this,U=T.root;if(R){U=c(R)}return T._dataSourceMove(S,U,R,function(X,V){function W(){if(R){T._expanded(R,true)}return X.add(V)}if(!X.data()){X.one(u,W);return null}else{return W()}})},_remove:function(U,W){var T=this,R,S,V;U=v(U,T.element);R=U.parent().parent();S=U.prev();V=U.next();U[W?"detach":"remove"]();if(R.hasClass("k-item")){N(R);T._updateNodeClasses(R)}T._updateNodeClasses(S);T._updateNodeClasses(V);return U},remove:function(S){var R=this.dataItem(S);if(R){this.dataSource.remove(R)}},detach:function(R){return this._remove(R,true)},findByText:function(R){return v(this.element).find(".k-in").filter(function(T,S){return v(S).text()==R}).closest(O)},findByUid:function(R){return this.element.find(".k-item["+x.attr("uid")+"="+R+"]")},_renderItem:function(R){if(!R.group){R.group={}}R.treeview=this.options;R.r=this.templates;return this.templates.item(R)},_renderGroup:function(R){var S=this;R.renderItems=function(V){var X="",W=0,U=V.items,T=U?U.length:0,Y=V.group;Y.length=T;for(;W<T;W++){V.group=Y;V.item=U[W];V.item.index=W;X+=S._renderItem(V)}return X};R.r=S.templates;return S.templates.group(R)}});function E(R){var S=this;S.treeview=R;S.hovered=R.element;S._draggable=new B.Draggable(R.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(T){return R.templates.dragClue({text:T.text()})},cursorOffset:{left:10,top:x.support.touch?-40/x.support.zoomLevel():10},dragstart:I(S.dragstart,S),dragcancel:I(S.dragcancel,S),drag:I(S.drag,S),dragend:I(S.dragend,S)})}E.prototype={_removeTouchHover:function(){var R=this;if(x.support.touch&&R.hovered){R.hovered.find("."+d).removeClass(d);R.hovered=false}},_hintStatus:function(R){var S=this._draggable.hint.find(".k-drag-status")[0];if(R){S.className="k-icon k-drag-status "+R}else{return v.trim(S.className.replace(/k-(icon|drag-status)/g,""))}},dragstart:function(U){var T=this,S=T.treeview,R=T.sourceNode=U.currentTarget.closest(O);if(S.trigger(F,{sourceNode:R[0]})){U.preventDefault()}T.dropHint=v("<div class='k-drop-hint' />").css(g,"hidden").appendTo(S.element)},drag:function(ac){var Z=this,af=Z.treeview,U=Z.sourceNode,R=Z.dropTarget=v(x.eventTarget(ac)),X,S=R.closest(".k-treeview"),ab,W,T,ag,aa,ae,ad,Y,V;if(!S.length){X="k-denied";Z._removeTouchHover()}else{if(v.contains(U[0],R[0])){X="k-denied"}else{X="k-insert-middle";ab=R.closest(".k-top,.k-mid,.k-bot");if(ab.length){T=ab.outerHeight();ag=ab.offset().top;aa=R.closest(".k-in");ae=T/(aa.length>0?4:2);ad=ac.y.location<(ag+ae);Y=(ag+T-ae)<ac.y.location;Z._removeTouchHover();V=aa.length&&!ad&&!Y;Z.hovered=V?S:false;Z.dropHint.css(g,V?"hidden":"visible");aa.toggleClass(d,V);if(V){X="k-add"}else{W=ab.position();W.top+=ad?0:T;Z.dropHint.css(W)[ad?"prependTo":"appendTo"](R.closest(O).children("div:first"));if(ad&&ab.hasClass("k-top")){X="k-insert-top"}if(Y&&ab.hasClass("k-bot")){X="k-insert-bottom"}}}else{if(R[0]!=Z.dropHint[0]){X="k-denied"}}}}af.trigger(q,{sourceNode:U[0],dropTarget:R[0],pageY:ac.y.location,pageX:ac.x.location,statusClass:X.substring(2),setStatusClass:function(ah){X=ah}});if(X.indexOf("k-insert")!==0){Z.dropHint.css(g,"hidden")}Z._hintStatus(X)},dragcancel:function(R){this.dropHint.remove()},dragend:function(W){var V=this,Y=V.treeview,Z="over",T=V.sourceNode,S,X=V.dropHint,R,U;if(X.css(g)=="visible"){Z=X.prevAll(".k-in").length>0?"after":"before";S=X.closest(O)}else{if(V.dropTarget){S=V.dropTarget.closest(O)}}R=V._hintStatus()!="k-denied";U=Y.trigger(G,{sourceNode:T[0],destinationNode:S[0],valid:R,setValid:function(aa){R=aa},dropTarget:V.dropTarget[0],dropPosition:Z});X.remove();V._removeTouchHover();if(!R||U){V._draggable.dropped=R;return}V._draggable.dropped=true;if(Z=="over"){T=Y.append(T,S)}else{if(Z=="before"){T=Y.insertBefore(T,S)}else{if(Z=="after"){T=Y.insertAfter(T,S)}}}Y.trigger(A,{sourceNode:T&&T[0],destinationNode:S[0],dropPosition:Z})},destroy:function(){this._draggable.destroy()}};B.plugin(m)})(window.kendo.jQuery);(function(z,j){var C=window.kendo,c=C.ui.Widget,i=C.ui.Draggable,h=z.extend,u=C.format,n=C.parseFloat,Q=z.proxy,q=z.isArray,v=Math,L=C.support,G=L.pointers,y="change",b="slide",I=".slider",H="touchstart"+I+" mousedown"+I,O=G?"MSPointerDown"+I:"mousedown"+I+" touchstart"+I,d="touchend"+I+" mouseup"+I,o="moveSelection",s="keydown"+I,M="click"+I,g="mouseover"+I,T="focus"+I,J="blur"+I,e=".k-draghandle",f=".k-slider-track",D=".k-tick",p="k-state-selected",R="k-state-default",t="k-state-disabled",k=3,x="disabled",A="undefined";var U=c.extend({init:function(Y,X){var Z=this;c.fn.init.call(Z,Y,X);X=Z.options;Z._distance=X.max-X.min;Z._isHorizontal=X.orientation=="horizontal";Z._isRtl=Z._isHorizontal&&C.support.isRtl(Y);Z._position=Z._isHorizontal?"left":"bottom";Z._size=Z._isHorizontal?"width":"height";Z._outerSize=Z._isHorizontal?"outerWidth":"outerHeight";X.tooltip.format=X.tooltip.enabled?X.tooltip.format||"{0}":"{0}";Z._createHtml();Z.wrapper=Z.element.closest(".k-slider");Z._trackDiv=Z.wrapper.find(f);Z._setTrackDivWidth();Z._maxSelection=Z._trackDiv[Z._size]();var W=Z._maxSelection/((X.max-X.min)/X.smallStep);var ab=Z._calculateItemsWidth(v.floor(Z._distance/X.smallStep));if(X.tickPlacement!="none"&&W>=2){Z._trackDiv.before(m(X,Z._distance));Z._setItemsWidth(ab);Z._setItemsTitle();Z._setItemsLargeTick()}Z._calculateSteps(ab);Z._tabindex(Z.wrapper.find(e));Z[X.enabled?"enable":"disable"]();var aa=C.support.isRtl(Z.wrapper)?-1:1;Z._keyMap={37:B(-1*aa*X.smallStep),40:B(-X.smallStep),39:B(+1*aa*X.smallStep),38:B(+X.smallStep),35:F(X.max),36:F(X.min),33:B(+X.largeStep),34:B(-X.largeStep)};C.notify(Z)},events:[y,b],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_setTrackDivWidth:function(){var W=this,X=parseFloat(W._trackDiv.css(W._isRtl?"right":W._position),10)*2;W._trackDiv[W._size]((W.wrapper[W._size]()-2)-X)},_setItemsWidth:function(ab){var Z=this,ag=Z.options,X=0,ae=ab.length-1,aa=Z.wrapper.find(D),W,af=0,ad=2,Y=aa.length,ac=0;for(W=0;W<Y-2;W++){z(aa[W+1])[Z._size](ab[W])}if(Z._isHorizontal){z(aa[X]).addClass("k-first")[Z._size](ab[ae-1]);z(aa[ae]).addClass("k-last")[Z._size](ab[ae])}else{z(aa[ae]).addClass("k-first")[Z._size](ab[ae]);z(aa[X]).addClass("k-last")[Z._size](ab[ae-1])}if(Z._distance%ag.smallStep!==0&&!Z._isHorizontal){for(W=0;W<ab.length;W++){ac+=ab[W]}af=Z._maxSelection-ac;af+=parseFloat(Z._trackDiv.css(Z._position),10)+ad;Z.wrapper.find(".k-slider-items").css("padding-top",af)}},_setItemsTitle:function(){var ad=this,Z=ad.options,Y=ad.wrapper.find(D),ab=Z.min,ac=Y.length,aa=ad._isHorizontal&&!ad._isRtl?0:ac-1,X=ad._isHorizontal&&!ad._isRtl?ac:-1,W=ad._isHorizontal&&!ad._isRtl?1:-1;for(;aa-X!==0;aa+=W){z(Y[aa]).attr("title",u(Z.tooltip.format,S(ab)));ab+=Z.smallStep}},_setItemsLargeTick:function(){var ab=this,X=ab.options,Y,W=ab.wrapper.find(D),aa={},Z=S(X.largeStep/X.smallStep);if((1000*X.largeStep)%(1000*X.smallStep)===0){if(ab._isHorizontal&&!ab._isRtl){for(Y=0;Y<W.length;Y=S(Y+Z)){aa=z(W[Y]);aa.addClass("k-tick-large").html("<span class='k-label'>"+aa.attr("title")+"</span>")}}else{for(Y=W.length-1;Y>=0;Y=S(Y-Z)){aa=z(W[Y]);aa.addClass("k-tick-large").html("<span class='k-label'>"+aa.attr("title")+"</span>");if(!ab._isRtl){if(Y!==0&&Y!==W.length-1){aa.css("line-height",aa[ab._size]()+"px")}}}}}},_calculateItemsWidth:function(W){var aa=this,X=aa.options,ac=parseFloat(aa._trackDiv.css(aa._size))+1,Z=ac/aa._distance,ab,ad,Y;if((aa._distance/X.smallStep)-v.floor(aa._distance/X.smallStep)>0){ac-=((aa._distance%X.smallStep)*Z)}ab=ac/W;ad=[];for(Y=0;Y<W-1;Y++){ad[Y]=ab}ad[W-1]=ad[W]=ab/2;return aa._roundWidths(ad)},_roundWidths:function(Y){var Z=0,X=Y.length,W;for(W=0;W<X;W++){Z+=(Y[W]-v.floor(Y[W]));Y[W]=v.floor(Y[W])}Z=v.round(Z);return this._addAdditionalSize(Z,Y)},_addAdditionalSize:function(W,Z){if(W===0){return Z}var Y=parseFloat(Z.length-1)/parseFloat(W==1?W:W-1),X;for(X=0;X<W;X++){Z[parseInt(v.round(Y*X),10)]+=1}return Z},_calculateSteps:function(ad){var ab=this,X=ab.options,ac=X.min,Z=0,W=v.ceil(ab._distance/X.smallStep),Y=1,aa;W+=(ab._distance/X.smallStep)%1===0?1:0;ad.splice(0,0,ad[W-2]*2);ad.splice(W-1,1,ad.pop()*2);ab._pixelSteps=[Z];ab._values=[ac];if(W===0){return}while(Y<W){Z+=(ad[Y-1]+ad[Y])/2;ab._pixelSteps[Y]=Z;ab._values[Y]=ac+=X.smallStep;Y++}aa=ab._distance%X.smallStep===0?W-1:W;ab._pixelSteps[aa]=ab._maxSelection;ab._values[aa]=X.max;if(ab._isRtl){ab._pixelSteps.reverse();ab._values.reverse()}},_getValueFromPosition:function(ad,Y){var ac=this,X=ac.options,ab=v.max(X.smallStep*(ac._maxSelection/ac._distance),0),W=0,aa=(ab/2),Z;if(ac._isHorizontal){W=ad-Y.startPoint;if(ac._isRtl){W=ac._maxSelection-W}}else{W=Y.startPoint-ad}if(ac._maxSelection-((parseInt(ac._maxSelection%ab,10)-3)/2)<W){return X.max}for(Z=0;Z<ac._pixelSteps.length;Z++){if(v.abs(ac._pixelSteps[Z]-W)-1<=aa){return S(ac._values[Z])}}},_getFormattedValue:function(ad,Y){var Z=this,X="",ab=Z.options.tooltip,W,aa,ac;if(q(ad)){aa=ad[0];ac=ad[1]}else{if(Y&&Y.type){aa=Y.selectionStart;ac=Y.selectionEnd}}if(Y){W=Y.tooltipTemplate}if(!W&&ab.template){W=C.template(ab.template)}if(q(ad)||(Y&&Y.type)){if(W){X=W({selectionStart:aa,selectionEnd:ac})}else{aa=u(ab.format,aa);ac=u(ab.format,ac);X=aa+" - "+ac}}else{if(Y){Y.val=ad}if(W){X=W({value:ad})}else{X=u(ab.format,ad)}}return X},_getDragableArea:function(){var X=this,Y=X._trackDiv.offset().left,W=X._trackDiv.offset().top;return{startPoint:X._isHorizontal?Y:W+X._maxSelection,endPoint:X._isHorizontal?Y+X._maxSelection:W}},_createHtml:function(){var Z=this,Y=Z.element,X=Z.options,W=Y.find("input");if(W.length==2){W.eq(0).val(X.selectionStart);W.eq(1).val(X.selectionEnd)}else{Y.val(X.value)}Y.wrap(K(X,Y,Z._isHorizontal)).hide();if(X.showButtons){Y.before(w(X,"increase",Z._isHorizontal)).before(w(X,"decrease",Z._isHorizontal))}Y.before(a(X,Y))},_focus:function(Z){var X=this,Y=Z.target,aa=X.value(),W=X._drag;if(!W){if(Y==X.wrapper.find(e).eq(0)[0]){W=X._firstHandleDrag;X._activeHandle=0}else{W=X._lastHandleDrag;X._activeHandle=1}aa=aa[X._activeHandle]}z(Y).addClass(p);if(W){X._activeHandleDrag=W;W.selectionStart=X.options.selectionStart;W.selectionEnd=X.options.selectionEnd;W._updateTooltip(aa)}},_focusWithMouse:function(Z){var X=this,Y=z(Z.target),W=Y.is(e)?Y.index():0;window.setTimeout(function(){X.wrapper.find(e)[W==2?1:0].focus()},1);X._setTooltipTimeout()},_blur:function(Y){var X=this,W=X._activeHandleDrag;z(Y.target).removeClass(p);if(W){W._removeTooltip();delete X._activeHandleDrag;delete X._activeHandle}},_setTooltipTimeout:function(){var W=this;W._tooltipTimeout=window.setTimeout(function(){var X=W._drag||W._activeHandleDrag;if(X){X._removeTooltip()}},300)},_clearTooltipTimeout:function(){var X=this;window.clearTimeout(this._tooltipTimeout);var W=X._drag||X._activeHandleDrag;if(W&&W.tooltipDiv){W.tooltipDiv.stop(true,false).css("opacity",1)}}});function K(W,Z,ac){var Y=ac?" k-slider-horizontal":" k-slider-vertical",aa=W.style?W.style:Z.attr("style"),X=Z.attr("class")?(" "+Z.attr("class")):"",ab="";if(W.tickPlacement=="bottomRight"){ab=" k-slider-bottomright"}else{if(W.tickPlacement=="topLeft"){ab=" k-slider-topleft"}}aa=aa?" style='"+aa+"'":"";return"<div class='k-widget k-slider"+Y+X+"'"+aa+"><div class='k-slider-wrap"+(W.showButtons?" k-slider-buttons":"")+ab+"'></div></div>"}function w(W,Y,Z){var X="";if(Y=="increase"){X=Z?"k-i-arrow-e":"k-i-arrow-n"}else{X=Z?"k-i-arrow-w":"k-i-arrow-s"}return"<a class='k-button k-button-"+Y+"'><span class='k-icon "+X+"' title='"+W[Y+"ButtonTitle"]+"'>"+W[Y+"ButtonTitle"]+"</span></a>"}function m(X,aa){var W="<ul class='k-reset k-slider-items'>",Z=v.floor(S(aa/X.smallStep))+1,Y;for(Y=0;Y<Z;Y++){W+="<li class='k-tick' role='presentation'>&nbsp;</li>"}W+="</ul>";return W}function a(W,Y){var Z=Y.is("input")?1:2,X=Z==2?W.leftDragHandleTitle:W.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+X+"' role='slider' aria-valuemin='"+W.min+"' aria-valuemax='"+W.max+"' aria-valuenow='"+(Z>1?(W.selectionStart||W.min):W.value||W.min)+"'>Drag</a>"+(Z>1?"<a href='#' class='k-draghandle' title='"+W.rightDragHandleTitle+"'role='slider' aria-valuemin='"+W.min+"' aria-valuemax='"+W.max+"' aria-valuenow='"+(W.selectionEnd||W.max)+"'>Drag</a>":"")+"</div>"}function B(W){return function(X){return X+W}}function F(W){return function(){return W}}function l(W){return(W+"").replace(".",C.cultures.current.numberFormat["."])}function S(X){X=parseFloat(X,10);var W=v.pow(10,k||0);return v.round(X*W)/W}function r(X,W){var Y=n(X.getAttribute(W));if(Y===null){Y=j}return Y}var V=function(W){return{idx:0,x:W.pageX,y:W.pageY}};if(L.pointers){V=function(W){return{idx:0,x:W.originalEvent.clientX,y:W.originalEvent.clientY}}}if(L.touch){V=function(Y,Z){var X=Y.changedTouches||Y.originalEvent.changedTouches;if(Z){var W=null;z.each(X,function(aa,ab){if(Z==ab.identifier){W={idx:ab.identifier,x:ab.pageX,y:ab.pageY}}});return W}else{return{idx:X[0].identifier,x:X[0].pageX,y:X[0].pageY}}}}function P(W){return typeof W!==A}var E=U.extend({init:function(Y,X){var Z=this,W;Y.type="text";X=h({},{value:r(Y,"value"),min:r(Y,"min"),max:r(Y,"max"),smallStep:r(Y,"step")},X);Y=z(Y);if(X&&X.enabled===j){X.enabled=!Y.is("[disabled]")}U.fn.init.call(Z,Y,X);X=Z.options;if(!P(X.value)){X.value=X.min;Y.val(X.min)}W=Z.wrapper.find(e);new E.Selection(W,Z,X);Z._drag=new E.Drag(W,"",Z,X)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"}},enable:function(Z){var aa=this,Y=aa.options,ab,X;aa.disable();if(Z===false){return}aa.wrapper.removeClass(t).addClass(R);aa.wrapper.find("input").removeAttr(x);ab=function(af){var ac=V(af),ag=aa._isHorizontal?ac.x:ac.y,ad=aa._getDragableArea(),ae=z(af.target);if(ae.hasClass("k-draghandle")){ae.addClass(p);return}aa._update(aa._getValueFromPosition(ag,ad));aa._focusWithMouse(af);aa._drag.dragstart(af)};aa.wrapper.find(D+", "+f).on(O,ab).end().on(O,function(){z(document.documentElement).one("selectstart",C.preventDefault)});aa.wrapper.find(e).on(d,function(ac){aa._setTooltipTimeout()}).on(M,function(ac){aa._focusWithMouse(ac);ac.preventDefault()}).on(T,Q(aa._focus,aa)).on(J,Q(aa._blur,aa));X=Q(function(ac){var ad=aa._nextValueByIndex(aa._valueIndex+(ac*1));aa._setValueInRange(ad);aa._drag._updateTooltip(ad)},aa);if(Y.showButtons){var W=Q(function(ad,ac){this._clearTooltipTimeout();if(ad.which===1||(L.touch&&ad.which===0)){X(ac);this.timeout=setTimeout(Q(function(){this.timer=setInterval(function(){X(ac)},60)},this),200)}},aa);aa.wrapper.find(".k-button").on(d,Q(function(ac){this._clearTimer();aa._focusWithMouse(ac)},aa)).on(g,function(ac){z(ac.currentTarget).addClass("k-state-hover")}).on("mouseout"+I,Q(function(ac){z(ac.currentTarget).removeClass("k-state-hover");this._clearTimer()},aa)).eq(0).on(H,Q(function(ac){W(ac,1)},aa)).click(false).end().eq(1).on(H,Q(function(ac){W(ac,-1)},aa)).click(C.preventDefault)}aa.wrapper.find(e).off(s,false).on(s,Q(this._keydown,aa));Y.enabled=true},disable:function(){var W=this;W.wrapper.removeClass(R).addClass(t);z(W.element).attr(x,x);W.wrapper.find(".k-button").off(H).on(H,C.preventDefault).off(d).on(d,C.preventDefault).off("mouseleave"+I).on("mouseleave"+I,C.preventDefault).off(g).on(g,C.preventDefault);W.wrapper.find(D+", "+f).off(O);W.wrapper.find(e).off(d).off(s).off(M).off(T).off(J);W.options.enabled=false},_update:function(X){var W=this,Y=W.value()!=X;W.value(X);if(Y){W.trigger(y,{value:W.options.value})}},value:function(Y){var X=this,W=X.options;Y=S(Y);if(isNaN(Y)){return W.value}if(Y>=W.min&&Y<=W.max){if(W.value!=Y){X.element.attr("value",l(Y));W.value=Y;X._refreshAriaAttr(Y);X._refresh()}}},_refresh:function(){this.trigger(o,{value:this.options.value})},_refreshAriaAttr:function(Z){var Y=this,X=Y._drag,W;if(X&&X._tooltipDiv){W=X._tooltipDiv.text()}else{W=Y._getFormattedValue(Z,null)}this.wrapper.find(e).attr("aria-valuenow",Z).attr("aria-valuetext",W)},_clearTimer:function(W){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(X){var W=this;if(X.keyCode in W._keyMap){W._clearTooltipTimeout();W._setValueInRange(W._keyMap[X.keyCode](W.options.value));W._drag._updateTooltip(W.value());X.preventDefault()}},_setValueInRange:function(Y){var X=this,W=X.options;Y=S(Y);if(isNaN(Y)){X._update(W.min);return}Y=v.max(v.min(Y,W.max),W.min);X._update(Y)},_nextValueByIndex:function(W){var X=this._values.length;if(this._isRtl){W=X-1-W}return this._values[v.max(0,v.min(W,X-1))]},destroy:function(){var W=this;c.fn.destroy.call(W);W.wrapper.off(I).find(".k-button").off(I).end().find(e).off(I).end().find(D+", "+f).off(I).end();W._drag.draggable.destroy()}});E.Selection=function(W,Y,X){function Z(ag){var ab=ag-X.min,aa=Y._valueIndex=v.ceil(S(ab/X.smallStep)),ad=parseInt(Y._pixelSteps[aa],10),af=Y._trackDiv.find(".k-slider-selection"),ac=parseInt(W[Y._outerSize]()/2,10),ae=Y._isRtl?2:0;af[Y._size](Y._isRtl?Y._maxSelection-ad:ad);W.css(Y._position,ad-ac-ae)}Z(X.value);Y.bind([y,b,o],function(aa){Z(parseFloat(aa.value,10))})};E.Drag=function(X,Z,W,Y){var aa=this;aa.owner=W;aa.options=Y;aa.dragHandle=X;aa.dragHandleSize=X[W._outerSize]();aa.type=Z;aa.draggable=new i(X,{threshold:0,dragstart:Q(aa._dragstart,aa),drag:Q(aa.drag,aa),dragend:Q(aa.dragend,aa),dragcancel:Q(aa.dragcancel,aa)});X.click(false)};E.Drag.prototype={dragstart:function(W){this.draggable.userEvents._start(W)},_dragstart:function(Z){var Y=this,W=Y.owner,X=Y.options;if(!X.enabled){Z.preventDefault();return}W.element.off(g);Y.dragHandle.addClass(p);Y.dragableArea=W._getDragableArea();Y.step=v.max(X.smallStep*(W._maxSelection/W._distance),0);if(Y.type){Y.selectionStart=X.selectionStart;Y.selectionEnd=X.selectionEnd;W._setZIndex(Y.type)}else{Y.oldVal=Y.val=X.value}Y._removeTooltip(true);Y._createTooltip()},_createTooltip:function(){var Z=this,W=Z.owner,aa=Z.options.tooltip,Y="",X;if(!aa.enabled){return}if(aa.template){X=Z.tooltipTemplate=C.template(aa.template)}z(".k-slider-tooltip").remove();Z.tooltipDiv=z("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);Y=W._getFormattedValue(Z.val||W.value(),Z);if(!Z.type){Z.tooltipInnerDiv="<div class='k-callout k-callout-"+(W._isHorizontal?"s":"e")+"'><!-- --></div>";Y+=Z.tooltipInnerDiv}Z.tooltipDiv.html(Y);Z.moveTooltip()},drag:function(ac){var ab=this,X=ab.owner,W=ac.x.location,ad=ac.y.location,aa=ab.dragableArea.startPoint,Y=ab.dragableArea.endPoint,Z;ac.preventDefault();if(X._isHorizontal){if(X._isRtl){ab.val=ab.constrainValue(W,aa,Y,W<Y)}else{ab.val=ab.constrainValue(W,aa,Y,W>=Y)}}else{ab.val=ab.constrainValue(ad,Y,aa,ad<=Y)}if(ab.oldVal!=ab.val){ab.oldVal=ab.val;if(ab.type){if(ab.type=="firstHandle"){if(ab.val<ab.selectionEnd){ab.selectionStart=ab.val}else{ab.selectionStart=ab.selectionEnd=ab.val}}else{if(ab.val>ab.selectionStart){ab.selectionEnd=ab.val}else{ab.selectionStart=ab.selectionEnd=ab.val}}Z={values:[ab.selectionStart,ab.selectionEnd],value:[ab.selectionStart,ab.selectionEnd]}}else{Z={value:ab.val}}X.trigger(b,Z)}ab._updateTooltip(ab.val)},_updateTooltip:function(aa){var Y=this,W=Y.options,Z=W.tooltip,X="";if(!Z.enabled){return}if(!Y.tooltipDiv){Y._createTooltip()}X=Y.owner._getFormattedValue(aa,Y);if(!Y.type){X+=Y.tooltipInnerDiv}Y.tooltipDiv.html(X);Y.moveTooltip()},dragcancel:function(W){this.owner._refresh();return this._end()},dragend:function(Y){var X=this,W=X.owner;if(X.type){W._update(X.selectionStart,X.selectionEnd)}else{W._update(X.val)}return X._end()},_end:function(){var X=this,W=X.owner;W._focusWithMouse({target:X.dragHandle[0]});W.element.on(g);return false},_removeTooltip:function(X){var Y=this,W=Y.owner;if(Y.tooltipDiv&&W.options.tooltip.enabled&&W.options.enabled){if(X){Y.tooltipDiv.remove();Y.tooltipDiv=null}else{Y.tooltipDiv.fadeOut("slow",function(){z(this).remove();Y.tooltipDiv=null})}}},moveTooltip:function(){var ab=this,X=ab.owner,ad=0,W=0,ae=ab.dragHandle.offset(),Y=4,Z=ab.tooltipDiv.find(".k-callout"),aa,af,ac;if(ab.type){aa=X.wrapper.find(e);af=aa.eq(0).offset();ac=aa.eq(1).offset();if(X._isHorizontal){ad=ac.top;W=af.left+((ac.left-af.left)/2)}else{ad=af.top+((ac.top-af.top)/2);W=ac.left}}else{ad=ae.top;W=ae.left}if(X._isHorizontal){W-=parseInt((ab.tooltipDiv.outerWidth()-ab.dragHandle[X._outerSize]())/2,10);ad-=ab.tooltipDiv.outerHeight()+(Z.height()||0)+Y}else{ad-=parseInt((ab.tooltipDiv.outerHeight()-ab.dragHandle[X._outerSize]())/2,10);W-=ab.tooltipDiv.outerWidth()+(Z.width()||0)+Y}ab.tooltipDiv.css({top:ad,left:W})},constrainValue:function(X,Y,W,aa){var Z=this,ab=0;if(Y<X&&X<W){ab=Z.owner._getValueFromPosition(X,Z.dragableArea)}else{if(aa){ab=Z.options.max}else{ab=Z.options.min}}return ab}};C.ui.plugin(E);var N=U.extend({init:function(aa,Z){var ac=this,X=z(aa).find("input"),W=X.eq(0)[0],ab=X.eq(1)[0];W.type="text";ab.type="text";Z=h({},{selectionStart:r(W,"value"),min:r(W,"min"),max:r(W,"max"),smallStep:r(W,"step")},{selectionEnd:r(ab,"value"),min:r(ab,"min"),max:r(ab,"max"),smallStep:r(ab,"step")},Z);if(Z&&Z.enabled===j){Z.enabled=!X.is("[disabled]")}U.fn.init.call(ac,aa,Z);Z=ac.options;if(!P(Z.selectionStart)){Z.selectionStart=Z.min;X.eq(0).val(Z.min)}if(!P(Z.selectionEnd)){Z.selectionEnd=Z.max;X.eq(1).val(Z.max)}var Y=ac.wrapper.find(e);new N.Selection(Y,ac,Z);ac._firstHandleDrag=new E.Drag(Y.eq(0),"firstHandle",ac,Z);ac._lastHandleDrag=new E.Drag(Y.eq(1),"lastHandle",ac,Z)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"}},enable:function(X){var Y=this,W=Y.options,Z;Y.disable();if(X===false){return}Y.wrapper.removeClass(t).addClass(R);Y.wrapper.find("input").removeAttr(x);Z=function(ae){var ab=V(ae),ag=Y._isHorizontal?ab.x:ab.y,ac=Y._getDragableArea(),af=Y._getValueFromPosition(ag,ac),ad=z(ae.target),aa;if(ad.hasClass("k-draghandle")){ad.addClass(p);return}if(af<W.selectionStart){Y._setValueInRange(af,W.selectionEnd);Y._firstHandleDrag.dragstart(ae);aa=0}else{if(af>Y.selectionEnd){Y._setValueInRange(W.selectionStart,af);Y._lastHandleDrag.dragstart(ae);aa=1}else{if(af-W.selectionStart<=W.selectionEnd-af){Y._setValueInRange(af,W.selectionEnd);Y._firstHandleDrag.dragstart(ae);aa=0}else{Y._setValueInRange(W.selectionStart,af);Y._lastHandleDrag.dragstart(ae);aa=1}}}Y._focusWithMouse({target:Y.wrapper.find(e)[aa]})};Y.wrapper.find(D+", "+f).on(O,Z).end().on(O,function(){z(document.documentElement).one("selectstart",C.preventDefault)});Y.wrapper.find(e).on(d,function(aa){Y._setTooltipTimeout()}).on(M,function(aa){Y._focusWithMouse(aa);aa.preventDefault()}).on(T,Q(Y._focus,Y)).on(J,Q(Y._blur,Y));Y.wrapper.find(e).off(s,C.preventDefault).eq(0).on(s,Q(function(aa){this._keydown(aa,"firstHandle")},Y)).end().eq(1).on(s,Q(function(aa){this._keydown(aa,"lastHandle")},Y));Y.options.enabled=true},disable:function(){var W=this;W.wrapper.removeClass(R).addClass(t);W.wrapper.find("input").attr(x,x);W.wrapper.find(D+", "+f).off(O);W.wrapper.find(e).off(d).off(s).off(M).off(T).off(J);W.options.enabled=false},_keydown:function(ab,aa){var Z=this,ad=Z.options.selectionStart,X=Z.options.selectionEnd,W,ac,Y;if(ab.keyCode in Z._keyMap){Z._clearTooltipTimeout();if(aa=="firstHandle"){Y=Z._activeHandleDrag=Z._firstHandleDrag;ad=Z._keyMap[ab.keyCode](ad);if(ad>X){X=ad}}else{Y=Z._activeHandleDrag=Z._lastHandleDrag;X=Z._keyMap[ab.keyCode](X);if(ad>X){ad=X}}Z._setValueInRange(ad,X);W=Math.max(ad,Z.options.selectionStart);ac=Math.min(X,Z.options.selectionEnd);Y.selectionEnd=Math.max(ac,Z.options.selectionStart);Y.selectionStart=Math.min(W,Z.options.selectionEnd);Y._updateTooltip(Z.value()[Z._activeHandle]);ab.preventDefault()}},_update:function(Y,Z){var X=this,W=X.value();var aa=W[0]!=Y||W[1]!=Z;X.value([Y,Z]);if(aa){X.trigger(y,{values:[Y,Z],value:[Y,Z]})}},value:function(W){if(W&&W.length){return this._value(W[0],W[1])}else{return this._value()}},_value:function(ab,W){var Y=this,X=Y.options,Z=X.selectionStart,aa=X.selectionEnd;if(isNaN(ab)&&isNaN(W)){return[Z,aa]}else{ab=S(ab);W=S(W)}if(ab>=X.min&&ab<=X.max&&W>=X.min&&W<=X.max&&ab<=W){if(Z!=ab||aa!=W){Y.element.find("input").eq(0).attr("value",l(ab)).end().eq(1).attr("value",l(W));X.selectionStart=ab;X.selectionEnd=W;Y._refresh();Y._refreshAriaAttr(ab,W)}}},values:function(X,W){if(q(X)){return this._value(X[0],X[1])}else{return this._value(X,W)}},_refresh:function(){var X=this,W=X.options;X.trigger(o,{values:[W.selectionStart,W.selectionEnd],value:[W.selectionStart,W.selectionEnd]});if(W.selectionStart==W.max&&W.selectionEnd==W.max){X._setZIndex("firstHandle")}},_refreshAriaAttr:function(ab,W){var aa=this,X=aa.wrapper.find(e),Z=aa._activeHandleDrag,Y;Y=aa._getFormattedValue([ab,W],Z);X.eq(0).attr("aria-valuenow",ab);X.eq(1).attr("aria-valuenow",W);X.attr("aria-valuetext",Y)},_setValueInRange:function(X,Y){var W=this.options;X=v.max(v.min(X,W.max),W.min);Y=v.max(v.min(Y,W.max),W.min);if(X==W.max&&Y==W.max){this._setZIndex("firstHandle")}this._update(v.min(X,Y),v.max(X,Y))},_setZIndex:function(W){this.wrapper.find(e).each(function(X){z(this).css("z-index",W=="firstHandle"?1-X:X)})},destroy:function(){var W=this;c.fn.destroy.call(W);W.wrapper.off(I).find(D+", "+f).off(I).end().find(e).off(I);W._firstHandleDrag.draggable.destroy();W._lastHandleDrag.draggable.destroy()}});N.Selection=function(W,Z,Y){function aa(ag){ag=ag||[];var af=ag[0]-Y.min,ab=ag[1]-Y.min,ae=v.ceil(S(af/Y.smallStep)),ah=v.ceil(S(ab/Y.smallStep)),ai=Z._pixelSteps[ae],aj=Z._pixelSteps[ah],ac=parseInt(W.eq(0)[Z._outerSize]()/2,10),ad=Z._isRtl?2:0;W.eq(0).css(Z._position,ai-ac-ad).end().eq(1).css(Z._position,aj-ac-ad);X(ai,aj)}function X(ad,ae){var ab,af,ac=Z._trackDiv.find(".k-slider-selection");ab=v.abs(ad-ae);ac[Z._size](ab);if(Z._isRtl){af=v.max(ad,ae);ac.css("right",Z._maxSelection-af-1)}else{af=v.min(ad,ae);ac.css(Z._position,af-1)}}aa(Z.value());Z.bind([y,b,o],function(ab){aa(ab.values)})};C.ui.plugin(N)})(window.kendo.jQuery);(function(h,j){var t=window.kendo,s=t.ui,q=t.keys,A=h.extend,x=h.proxy,e=s.Widget,B=/^\d+(\.\d+)?px$/i,C=/^\d+(\.\d+)?%$/i,z=".kendoSplitter",c="expand",f="collapse",r="contentLoad",m="resize",F="layoutChange",G="horizontal",v="vertical",y="mouseenter",i="click",E="pane",l="mouseleave",n="k-state-focused",g="k-"+E,k="."+g;function u(H){return C.test(H)}function w(H){return B.test(H)}function o(H){return !u(H)&&!w(H)}function D(H,I){return function(M,L){var K=h(M).data(E);if(arguments.length==1){return K[H]}K[H]=L;if(I){var J=this.element.data("kendoSplitter");J.trigger(m)}}}var d=e.extend({init:function(I,H){var J=this,K;e.fn.init.call(J,I,H);J.wrapper=J.element;K=J.options.orientation.toLowerCase()!=v;J.orientation=K?G:v;J._dimension=K?"width":"height";J._keys={decrease:K?q.LEFT:q.UP,increase:K?q.RIGHT:q.DOWN};J._resizeStep=10;J.bind(m,x(J._resize,J));J._marker=t.guid().substring(0,8);J._initPanes();J._resizeHandler=function(){J.trigger(m)};J._attachEvents();h(window).on("resize",J._resizeHandler);J.resizing=new a(J);J.element.triggerHandler("init.kendoSplitter")},events:[c,f,r,m,F],_attachEvents:function(){var J=this,H=J.options.orientation,L=".k-splitbar-"+H,I=".k-splitbar-draggable-"+H,K=".k-splitbar .k-icon:not(.k-resize-handle)";J.element.on("keydown"+z,L,"_keydown").on("mousedown"+z,L,function(M){M.currentTarget.focus()}).on("focus"+z,L,function(M){h(M.currentTarget).addClass(n)}).on("blur"+z,L,function(M){h(M.currentTarget).removeClass(n);J.resizing.end()}).on(y+z,I,function(){h(this).addClass("k-splitbar-"+J.orientation+"-hover")}).on(l+z,I,function(){h(this).removeClass("k-splitbar-"+J.orientation+"-hover")}).on("mousedown"+z,I,function(){J.resizing.end();J._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+z,I,function(){J._panes().children(".k-splitter-overlay").remove()}).on(y+z,K,function(){h(this).addClass("k-state-hover")}).on(l+z,K,function(){h(this).removeClass("k-state-hover")}).on(i+z,".k-splitbar .k-collapse-next, .k-splitbar .k-collapse-prev",J._arrowClick(f)).on(i+z,".k-splitbar .k-expand-next, .k-splitbar .k-expand-prev",J._arrowClick(c)).on("dblclick"+z,".k-splitbar",x(J._togglePane,J)).parent().closest(".k-splitter").each(function(){var M=h(this),N=M.data("kendoSplitter");if(N){N.bind(m,J._resizeHandler)}else{M.one("init"+z,function(){h(this).data("kendoSplitter").bind(m,J._resizeHandler);J._resizeHandler()})}})},options:{name:"Splitter",orientation:G},destroy:function(){var H=this;e.fn.destroy.call(H);H.element.off(z);H.resizing.destroy();h(window).off("resize",H._resizeHandler);t.destroy(H.element)},_keydown:function(K){var J=this,P=K.keyCode,M=J.resizing,L=h(K.currentTarget),I=J._keys,O=P===I.increase,N=P===I.decrease,H;if(O||N){if(K.ctrlKey){H=L[N?"next":"prev"]();if(M.isResizing()){M.end()}if(!H[J._dimension]()){J._triggerAction(c,H)}else{J._triggerAction(f,L[N?"prev":"next"]())}}else{M.move((N?-1:1)*J._resizeStep,L)}K.preventDefault()}else{if(P===q.ENTER){M.end();K.preventDefault()}}},_initPanes:function(){var I=this,H=I.options.panes||[];I.element.addClass("k-widget").addClass("k-splitter").children().each(function(K,L){var J=H&&H[K];L=h(L).attr("role","group").addClass(g);L.data(E,J?J:{}).toggleClass("k-scrollable",J?J.scrollable!==false:true);I.ajaxRequest(L)}).end();I.trigger(m)},ajaxRequest:function(L,H,K){L=h(L);var I=this,J=L.data(E);H=H||J.contentUrl;if(H){L.append("<span class='k-icon k-loading k-pane-loading' />");if(t.isLocalUrl(H)){jQuery.ajax({url:H,data:K||{},type:"GET",dataType:"html",success:function(M){L.html(M);I.trigger(r,{pane:L[0]})}})}else{L.removeClass("k-scrollable").html("<iframe src='"+H+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")}}},_triggerAction:function(H,I){if(!this.trigger(H,{pane:I[0]})){this[H](I[0])}},_togglePane:function(K){var H=this,J=h(K.target),I;if(J.closest(".k-splitter")[0]!=H.element[0]){return}I=J.children(".k-icon:not(.k-resize-handle)");if(I.length!==1){return}if(I.is(".k-collapse-prev")){H._triggerAction(f,J.prev())}else{if(I.is(".k-collapse-next")){H._triggerAction(f,J.next())}else{if(I.is(".k-expand-prev")){H._triggerAction(c,J.prev())}else{if(I.is(".k-expand-next")){H._triggerAction(c,J.next())}}}}},_arrowClick:function(I){var H=this;return function(K){var J=h(K.target),L;if(J.closest(".k-splitter")[0]!=H.element[0]){return}if(J.is(".k-"+I+"-prev")){L=J.parent().prev()}else{L=J.parent().next()}H._triggerAction(I,L)}},_updateSplitBar:function(M,N,K){var I=function(R,S){return S?"<div class='k-icon "+R+"' />":""},H=this.orientation,Q=(N.resizable!==false)&&(K.resizable!==false),O=N.collapsible,J=N.collapsed,L=K.collapsible,P=K.collapsed;M.addClass("k-splitbar k-state-default k-splitbar-"+H).attr("role","separator").attr("aria-expanded",!(J||P)).removeClass("k-splitbar-"+H+"-hover").toggleClass("k-splitbar-draggable-"+H,Q&&!J&&!P).toggleClass("k-splitbar-static-"+H,!Q&&!O&&!L).html(I("k-collapse-prev",O&&!J&&!P)+I("k-expand-prev",O&&J&&!P)+I("k-resize-handle",Q)+I("k-collapse-next",L&&!P&&!J)+I("k-expand-next",L&&P&&!J))},_updateSplitBars:function(){var H=this;this.element.children(".k-splitbar").each(function(){var K=h(this),J=K.prev(k).data(E),I=K.next(k).data(E);if(!I){return}H._updateSplitBar(K,J,I)})},_panes:function(){return this.element.children(k)},_resize:function(){var O=this,I=O.element,N=I.children(":not(.k-splitbar)"),M=O.orientation==G,R=I.children(".k-splitbar"),W=R.length,L=M?"width":"height",S=I[L]();if(W===0){W=N.length-1;N.slice(0,W).after("<div tabindex='0' class='k-splitbar' data-marker='"+O._marker+"' />");O._updateSplitBars();R=I.children(".k-splitbar")}else{O._updateSplitBars()}R.each(function(){S-=this[M?"offsetWidth":"offsetHeight"]});var H=0,U=0,Y=h();N.css({position:"absolute",top:0})[L](function(){var Z=h(this).data(E)||{},aa;if(Z.collapsed){aa=0;h(this).css("overflow","hidden")}else{if(o(Z.size)){Y=Y.add(this);return}else{aa=parseInt(Z.size,10);if(u(Z.size)){aa=Math.floor(aa*S/100)}}}U++;H+=aa;return aa});S-=H;var Q=Y.length,K=Math.floor(S/Q);Y.slice(0,Q-1).css(L,K).end().eq(Q-1).css(L,S-(Q-1)*K);var J=0,P=M?"height":"width",X=M?"left":"top",V=M?"offsetWidth":"offsetHeight";if(Q===0){var T=N.filter(function(){return !((h(this).data(E)||{}).collapsed)}).last();T[L](S+T[0][V])}I.children().css(P,I[P]()).each(function(Z,aa){aa.style[X]=Math.floor(J)+"px";J+=aa[V]});O.trigger(F)},toggle:function(J,H){var I;J=h(J);I=J.data(E);if(!H&&!I.collapsible){return}if(arguments.length==1){H=I.collapsed===j?false:I.collapsed}I.collapsed=!H;if(I.collapsed){J.css("overflow","hidden")}else{J.css("overflow","")}this.trigger(m);this.resizing.destroy();this.resizing=new a(this)},collapse:function(H){this.toggle(H,false)},expand:function(H){this.toggle(H,true)},size:D("size",true),min:D("min"),max:D("max")});s.plugin(d);var b={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var p={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function a(J){var I=this,H=J.orientation;I.owner=J;I._element=J.element;I.orientation=H;A(I,H===G?p:b);I._resizable=new t.ui.Resizable(J.element,{orientation:H,handle:".k-splitbar-draggable-"+H+"[data-marker="+J._marker+"]",hint:x(I._createHint,I),start:x(I._start,I),max:x(I._max,I),min:x(I._min,I),invalidClass:"k-restricted-size-"+H,resizeend:x(I._stop,I)})}a.prototype={press:function(H){this._resizable.press(H)},move:function(I,H){if(!this._resizable.target){this._resizable.press(H)}this._resizable.move(I)},end:function(){this._resizable.end()},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(I){var H=this;return h("<div class='k-ghost-splitbar k-ghost-splitbar-"+H.orientation+" k-state-default' />").css(H.alternateSizingProperty,I[H.alternateSizingProperty]())},_start:function(Q){var N=this,O=h(Q.currentTarget),T=O.prev(),K=O.next(),I=T.data(E),H=K.data(E),P=parseInt(T[0].style[N.positioningProperty],10),J=parseInt(K[0].style[N.positioningProperty],10)+K[0][N.sizingDomProperty]-O[0][N.sizingDomProperty],V=N._element.css(N.sizingProperty),U=function(W){var X=parseInt(W,10);return(w(W)?X:(V*X)/100)||0},S=U(I.min),M=U(I.max)||J-P,R=U(H.min),L=U(H.max)||J-P;N.previousPane=T;N.nextPane=K;N._maxPosition=Math.min(J-R,P+M);N._minPosition=Math.max(P+S,J-L)},_max:function(H){return this._maxPosition},_min:function(H){return this._minPosition},_stop:function(Q){var O=this,P=h(Q.currentTarget),J=O.owner;J._panes().children(".k-splitter-overlay").remove();if(Q.keyCode!==t.keys.ESC){var L=Q.position,S=P.prev(),M=P.next(),K=S.data(E),I=M.data(E),H=L-parseInt(S[0].style[O.positioningProperty],10),R=parseInt(M[0].style[O.positioningProperty],10)+M[0][O.sizingDomProperty]-L-P[0][O.sizingDomProperty],N=O._element.children(k).filter(function(){return o(h(this).data(E).size)}).length;if(!o(K.size)||N>1){if(o(K.size)){N--}K.size=H+"px"}if(!o(I.size)||N>1){I.size=R+"px"}J.trigger(m)}setTimeout(function(){O.press(P)});return false}}})(window.kendo.jQuery);(function(g,h){var r=window.kendo,a=r.ui.Widget,c=r.logToConsole,w=/\.([^\.]+)$/,x=".kendoUpload",b="select",l="upload",D="success",j="error",s="complete",f="cancel",C="progress",m="remove";var y=a.extend({init:function(H,G){var J=this;a.fn.init.call(J,H,G);J.name=H.name;J.multiple=J.options.multiple;J.localization=J.options.localization;var K=J.element;J.wrapper=K.closest(".k-upload");if(J.wrapper.length===0){J.wrapper=J._wrapInput(K)}J._activeInput(K);J.toggle(J.options.enabled);var I=J._ns=x+"-"+r.guid();K.closest("form").on("submit"+I,g.proxy(J._onParentFormSubmit,J)).on("reset"+I,g.proxy(J._onParentFormReset,J));if(J.options.async.saveUrl){J._module=J._supportsFormData()?new u(J):new q(J);J._async=true}else{J._module=new i(J)}if(J._supportsDrop()){J._setupDropZone()}J.wrapper.delegate(".k-upload-action","click",g.proxy(J._onFileAction,J)).delegate(".k-upload-selected","click",g.proxy(J._onUploadSelected,J)).delegate(".k-file","t:progress",g.proxy(J._onFileProgress,J)).delegate(".k-file","t:upload-success",g.proxy(J._onUploadSuccess,J)).delegate(".k-file","t:upload-error",g.proxy(J._onUploadError,J))},events:[b,l,D,j,s,f,C,m],options:{name:"Upload",enabled:true,multiple:true,showFileList:true,async:{removeVerb:"POST",autoUpload:true},localization:{select:"Select...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed"}},setOptions:function(G){var H=this,I=H.element;a.fn.setOptions.call(H,G);H.multiple=H.options.multiple;I.attr("multiple",H._supportsMultiple()?H.multiple:false);H.toggle(H.options.enabled)},enable:function(G){G=typeof(G)==="undefined"?true:G;this.toggle(G)},disable:function(){this.toggle(false)},toggle:function(G){G=typeof(G)==="undefined"?G:!G;this.wrapper.toggleClass("k-state-disabled",G)},destroy:function(){var G=this;g(document).add(g(".k-dropzone",G.wrapper)).add(G.wrapper.closest("form")).off(G._ns);a.fn.destroy.call(G)},_addInput:function(G){var H=this;G.insertAfter(H.element).data("kendoUpload",H);g(H.element).hide().removeAttr("id");H._activeInput(G)},_activeInput:function(G){var H=this,I=H.wrapper;H.element=G;G.attr("multiple",H._supportsMultiple()?H.multiple:false).attr("autocomplete","off").click(function(J){if(I.hasClass("k-state-disabled")){J.preventDefault()}}).change(g.proxy(H._onInputChange,H))},_onInputChange:function(J){var H=this,G=g(J.target),I=H.trigger(b,{files:n(G)});if(I){H._addInput(G.clone().val(""));G.remove()}else{G.trigger("t:select")}},_onDrop:function(K){var I=K.originalEvent.dataTransfer,H=this,G=I.files;z(K);if(G.length>0){var J=H.trigger(b,{files:k(G)});if(!J){g(".k-dropzone",H.wrapper).trigger("t:select",[G])}}},_enqueueFile:function(H,K){var I=this,J,L,G=g(".k-upload-files",I.wrapper);if(G.length===0){G=g("<ul class='k-upload-files k-reset'></ul>").appendTo(I.wrapper);if(!I.options.showFileList){G.hide()}}J=g(".k-file",G);L=g("<li class='k-file'><span class='k-filename' title='"+H+"'>"+H+"</span></li>").appendTo(G).data(K);if(I._async){L.prepend("<span class='k-icon'></span>")}if(!I.multiple){J.trigger("t:remove")}return L},_removeFileEntry:function(I){var G=I.closest(".k-upload-files"),H;I.remove();H=g(".k-file",G);if(H.find("> .k-fail").length===H.length){this._hideUploadButton()}if(H.length===0){G.remove()}},_fileAction:function(I,H){var G={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};if(!G.hasOwnProperty(H)){return}this._clearFileAction(I);I.append(this._renderAction(G[H],this.localization[H]).addClass("k-upload-action"))},_fileState:function(L,K){var J=this.localization,G={uploading:{cssClass:"k-loading",text:J.statusUploading},uploaded:{cssClass:"k-success",text:J.statusUploaded},failed:{cssClass:"k-fail",text:J.statusFailed}},I=G[K];if(I){var H=L.children(".k-icon").text(I.text);H[0].className="k-icon "+I.cssClass}},_renderAction:function(H,G){if(H!==""){return g("<button type='button' class='k-button k-button-icontext'><span class='k-icon "+H+"'></span>"+G+"</button>")}else{return g("<button type='button' class='k-button'>"+G+"</button>")}},_clearFileAction:function(G){G.find(".k-upload-action").remove()},_onFileAction:function(K){var J=this;if(!J.wrapper.hasClass("k-state-disabled")){var H=g(K.target).closest(".k-upload-action"),I=H.find(".k-icon"),L=H.closest(".k-file"),G={files:L.data("fileNames")};if(I.hasClass("k-delete")){if(!J.trigger(m,G)){L.trigger("t:remove",G.data)}}else{if(I.hasClass("k-cancel")){J.trigger(f,G);L.trigger("t:cancel");this._checkAllComplete()}else{if(I.hasClass("k-retry")){L.trigger("t:retry")}}}}return false},_onUploadSelected:function(){this.wrapper.trigger("t:saveSelected");return false},_onFileProgress:function(I,G){var H=g(".k-progress-status",I.target);if(H.length===0){H=g("<span class='k-progress'><span class='k-state-selected k-progress-status' style='width: 0;'></span></span>").appendTo(g(".k-filename",I.target)).find(".k-progress-status")}H.width(G+"%");this.trigger(C,{files:E(I).data("fileNames"),percentComplete:G})},_onUploadSuccess:function(H,G,I){var J=E(H);this._fileState(J,"uploaded");this.trigger(D,{files:J.data("fileNames"),response:G,operation:"upload",XMLHttpRequest:I});if(this._supportsRemove()){this._fileAction(J,m)}else{this._clearFileAction(J)}this._checkAllComplete()},_onUploadError:function(G,H){var I=E(G);this._fileState(I,"failed");this._fileAction(I,"retry");this.trigger(j,{operation:"upload",files:I.data("fileNames"),XMLHttpRequest:H});c("Server response: "+H.responseText);this._checkAllComplete()},_showUploadButton:function(){var G=g(".k-upload-selected",this.wrapper);if(G.length===0){G=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")}this.wrapper.append(G)},_hideUploadButton:function(){g(".k-upload-selected",this.wrapper).remove()},_onParentFormSubmit:function(){var H=this,I=H.element;I.trigger("t:abort");if(!I.value){var G=g(I);G.attr("disabled","disabled");window.setTimeout(function(){G.removeAttr("disabled")},0)}},_onParentFormReset:function(){g(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof(FormData)!="undefined"},_supportsMultiple:function(){var G=this._userAgent().indexOf("Windows")>-1;return !r.support.browser.opera&&!(r.support.browser.safari&&G)},_supportsDrop:function(){var I=this._userAgent().toLowerCase(),J=/chrome/.test(I),H=!J&&/safari/.test(I),G=H&&/windows/.test(I);return !G&&this._supportsFormData()&&(this.options.async.saveUrl)},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var H=this;g(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var G=H._ns;var I=g(".k-dropzone",H.wrapper).append(g("<em>"+H.localization.dropFilesHere+"</em>")).on("dragenter"+G,z).on("dragover"+G,function(J){J.preventDefault()}).on("drop"+G,g.proxy(this._onDrop,this));t(I,G,function(){I.addClass("k-dropzone-hovered")},function(){I.removeClass("k-dropzone-hovered")});t(g(document),G,function(){I.addClass("k-dropzone-active")},function(){I.removeClass("k-dropzone-active")})},_supportsRemove:function(){return !!this.options.async.removeUrl},_submitRemove:function(G,J,L,I){var H=this,M=H.options.async.removeField||"fileNames",K=g.extend(J,o());K[M]=G;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",url:this.options.async.removeUrl,traditional:true,data:K,success:L,error:I})},_wrapInput:function(G){G.wrap("<div class='k-widget k-upload'><div class='k-button k-upload-button'></div></div>");G.closest(".k-button").append("<span>"+this.localization.select+"</span>");return G.closest(".k-upload")},_checkAllComplete:function(){if(g(".k-file .k-icon.k-loading",this.wrapper).length===0){this.trigger(s)}}});var i=function(G){this.name="syncUploadModule";this.element=G.wrapper;this.upload=G;this.element.bind("t:select",g.proxy(this.onSelect,this)).bind("t:remove",g.proxy(this.onRemove,this)).closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};i.prototype={onSelect:function(I){var G=this.upload;var J=g(I.target);G._addInput(J.clone().val(""));var H=G._enqueueFile(B(J),{relatedInput:J,fileNames:n(J)});G._fileAction(H,m)},onRemove:function(G){var H=E(G);H.data("relatedInput").remove();this.upload._removeFileEntry(H)}};var q=function(G){this.name="iframeUploadModule";this.element=G.wrapper;this.upload=G;this.iframes=[];this.element.bind("t:select",g.proxy(this.onSelect,this)).bind("t:cancel",g.proxy(this.onCancel,this)).bind("t:retry",g.proxy(this.onRetry,this)).bind("t:remove",g.proxy(this.onRemove,this)).bind("t:saveSelected",g.proxy(this.onSaveSelected,this)).bind("t:abort",g.proxy(this.onAbort,this))};y._frameId=0;q.prototype={onSelect:function(H){var G=this.upload,J=g(H.target);var I=this.prepareUpload(J);if(G.options.async.autoUpload){this.performUpload(I)}else{if(G._supportsRemove()){this.upload._fileAction(I,m)}G._showUploadButton()}},prepareUpload:function(M){var H=this.upload;var L=g(H.element);var G=H.options.async.saveField||M.attr("name");H._addInput(M.clone().val(""));M.attr("name",G);var I=this.createFrame(H.name+"_"+y._frameId++);this.registerFrame(I);var J=this.createForm(H.options.async.saveUrl,I.attr("name")).append(L);var K=H._enqueueFile(B(M),{frame:I,relatedInput:L,fileNames:n(M)});I.data({form:J,file:K});return K},performUpload:function(M){var L={files:M.data("fileNames")},J=M.data("frame"),H=this.upload;if(!H.trigger(l,L)){H._hideUploadButton();J.appendTo(document.body);var K=J.data("form").appendTo(document.body);L.data=g.extend({},L.data,o());for(var I in L.data){var G=K.find("input[name='"+I+"']");if(G.length===0){G=g("<input>",{type:"hidden",name:I}).appendTo(K)}G.val(L.data[I])}H._fileAction(M,f);H._fileState(M,"uploading");J.one("load",g.proxy(this.onIframeLoad,this));K[0].submit()}else{H._removeFileEntry(J.data("file"));this.cleanupFrame(J);this.unregisterFrame(J)}},onSaveSelected:function(H){var G=this;g(".k-file",this.element).each(function(){var J=g(this),I=F(J);if(!I){G.performUpload(J)}})},onIframeLoad:function(I){var G=g(I.target),H;try{H=G.contents().text()}catch(I){H="Error trying to get server response: "+I}this.processResponse(G,H)},processResponse:function(H,I){var K=H.data("file"),G=this,J={responseText:I};A(I,function(L){g.extend(J,{statusText:"OK",status:"200"});K.trigger("t:progress",[100]);K.trigger("t:upload-success",[L,J]);G.cleanupFrame(H);G.unregisterFrame(H)},function(){g.extend(J,{statusText:"error",status:"500"});K.trigger("t:upload-error",[J])})},onCancel:function(H){var G=g(H.target).data("frame");this.stopFrameSubmit(G);this.cleanupFrame(G);this.unregisterFrame(G);this.upload._removeFileEntry(G.data("file"))},onRetry:function(G){var H=E(G);this.performUpload(H)},onRemove:function(I,H){var J=E(I);var G=J.data("frame");if(G){this.unregisterFrame(G);this.upload._removeFileEntry(J);this.cleanupFrame(G)}else{p(J,this.upload,H)}},onAbort:function(){var H=this.element,G=this;g.each(this.iframes,function(){g("input",this.data("form")).appendTo(H);G.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(G){return g("<iframe name='"+G+"' id='"+G+"' style='display:none;' />")},createForm:function(G,H){return g("<form enctype='multipart/form-data' method='POST' action='"+G+"' target='"+H+"'/>")},stopFrameSubmit:function(G){if(typeof(G.stop)!="undefined"){G.stop()}else{if(G.document){G.document.execCommand("Stop");G.contentWindow.location.href=G.contentWindow.location.href}}},registerFrame:function(G){this.iframes.push(G)},unregisterFrame:function(G){this.iframes=g.grep(this.iframes,function(H){return H.attr("name")!=G.attr("name")})},cleanupFrame:function(H){var G=H.data("form");H.data("file").data("frame",null);setTimeout(function(){G.remove();H.remove()},1)}};var u=function(G){this.name="formDataUploadModule";this.element=G.wrapper;this.upload=G;this.element.bind("t:select",g.proxy(this.onSelect,this)).bind("t:cancel",g.proxy(this.onCancel,this)).bind("t:remove",g.proxy(this.onRemove,this)).bind("t:retry",g.proxy(this.onRetry,this)).bind("t:saveSelected",g.proxy(this.onSaveSelected,this)).bind("t:abort",g.proxy(this.onAbort,this))};u.prototype={onSelect:function(M,L){var I=this.upload,J=this,H=g(M.target),K=L?k(L):this.inputFiles(H),G=this.prepareUpload(H,K);g.each(G,function(){if(I.options.async.autoUpload){J.performUpload(this)}else{if(I._supportsRemove()){I._fileAction(this,m)}I._showUploadButton()}})},prepareUpload:function(H,I){var G=this.enqueueFiles(I);if(H.is("input")){g.each(G,function(){g(this).data("relatedInput",H)});H.data("relatedFileEntries",G);this.upload._addInput(H.clone().val(""))}return G},enqueueFiles:function(M){var J=this.upload,I,L,K=M.length,G,N,H=[];if(J.options.async.batch===true){I=g.map(M,function(O){return O.name}).join(", ");N=J._enqueueFile(I,{fileNames:M});N.data("files",M);H.push(N)}else{for(L=0;L<K;L++){G=M[L];I=G.name;N=J._enqueueFile(I,{fileNames:[G]});N.data("files",[G]);H.push(N)}}return H},inputFiles:function(G){return n(G)},performUpload:function(K){var G=this.upload,J=this.createFormData(K.data("files")),I={files:K.data("fileNames")};if(!G.trigger(l,I)){G._fileAction(K,f);G._hideUploadButton();I.data=g.extend({},I.data,o());for(var H in I.data){J.append(H,I.data[H])}G._fileState(K,"uploading");this.postFormData(this.upload.options.async.saveUrl,J,K)}else{this.removeFileEntry(K)}},onSaveSelected:function(H){var G=this;g(".k-file",this.element).each(function(){var J=g(this),I=F(J);if(!I){G.performUpload(J)}})},onCancel:function(G){var H=E(G);this.stopUploadRequest(H);this.removeFileEntry(H)},onRetry:function(G){var H=E(G);this.performUpload(H)},onRemove:function(H,G){var I=E(H);if(I.children(".k-icon").is(".k-success")){p(I,this.upload,G)}else{this.removeFileEntry(I)}},postFormData:function(G,I,K){var J=new XMLHttpRequest(),H=this;K.data("request",J);J.addEventListener("load",function(L){H.onRequestSuccess.call(H,L,K)},false);J.addEventListener(j,function(L){H.onRequestError.call(H,L,K)},false);J.upload.addEventListener("progress",function(L){H.onRequestProgress.call(H,L,K)},false);J.open("POST",G);J.withCredentials="true";J.send(I)},createFormData:function(J){var K=new FormData(),G=this.upload,H,I=J.length;for(H=0;H<I;H++){K.append(G.options.async.saveField||G.name,J[H].rawFile)}return K},onRequestSuccess:function(I,K){var J=I.target,H=this;function G(){K.trigger("t:upload-error",[J])}if(J.status>=200&&J.status<=299){A(J.responseText,function(L){K.trigger("t:progress",[100]);K.trigger("t:upload-success",[L,J]);H.cleanupFileEntry(K)},G)}else{G()}},onRequestError:function(G,I){var H=G.target;I.trigger("t:upload-error",[H])},cleanupFileEntry:function(I){var G=I.data("relatedInput"),H=true;if(G){g.each(G.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=I[0]){H=H&&this.children(".k-icon").is(".k-success")}});if(H){G.remove()}}},removeFileEntry:function(G){this.cleanupFileEntry(G);this.upload._removeFileEntry(G)},onRequestProgress:function(H,I){var G=Math.round(H.loaded*100/H.total);I.trigger("t:progress",[G])},stopUploadRequest:function(G){G.data("request").abort()}};function B(G){return g.map(n(G),function(H){return H.name}).join(", ")}function n(H){var G=H[0];if(G.files){return k(G.files)}else{return[{name:e(G.value),extension:d(G.value),size:null}]}}function k(G){return g.map(G,function(H){return v(H)})}function v(G){var H=G.name||G.fileName;return{name:H,extension:d(H),size:G.size||G.fileSize,rawFile:G}}function d(H){var G=H.match(w);return G?G[0]:""}function e(G){var H=G.lastIndexOf("\\");return(H!=-1)?G.substr(H+1):G}function p(M,H,K){if(!H._supportsRemove()){return}var J=M.data("fileNames");var G=g.map(J,function(N){return N.name});H._submitRemove(G,K,function L(N,P,O){H._removeFileEntry(M);H.trigger(D,{operation:"remove",files:J,response:N,XMLHttpRequest:O})},function I(N,O){H.trigger(j,{operation:"remove",files:J,XMLHttpRequest:N});c("Server response: "+N.responseText)})}function A(G,L,I){var K=false,H="";try{H=g.parseJSON(G);K=true}catch(J){I()}if(K){L(H)}}function z(G){G.stopPropagation();G.preventDefault()}function t(I,K,L,H){var G,J;I.on("dragenter"+K,function(M){L();J=new Date();if(!G){G=setInterval(function(){var N=new Date()-J;if(N>100){H();clearInterval(G);G=null}},100)}}).on("dragover"+K,function(M){J=new Date()})}function F(G){return G.children(".k-icon").is(".k-loading, .k-success, .k-fail")}function E(G){return g(G.target).closest(".k-file")}function o(){var H={},G=g("meta[name=csrf-token]").attr("content"),I=g("meta[name=csrf-param]").attr("content");g("input[name^='__RequestVerificationToken']").each(function(){H[this.name]=this.value});if(I!==h&&G!==h){H[I]=G}return H}r.ui.plugin(y)})(window.kendo.jQuery);(function(s,k){var v=window.kendo,b=v.ui.Widget,h=v.ui.Draggable,U=s.isPlainObject,M=s.proxy,f=s.extend,K=s.each,c=v.template,I="body",a,x=".kendoWindow",r=".k-window",Q=".k-window-title",t=Q+"bar",o=".k-window-content",m=".k-resize-handle",j=".k-overlay",e="k-content-frame",p="k-loading",y="k-state-hover",D="k-state-focused",T=":visible",L="hidden",A="cursor",J="open",g="activate",C="deactivate",P="close",q="refresh",V="resize",F="dragstart",z="dragend",w="error",E="overflow",d="zIndex",O=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",H=".k-window-titlebar .k-window-action",B=v.isLocalUrl;function G(W){return(typeof W!="undefined")}function N(Y,W,X){return Math.max(Math.min(Y,X),W)}function u(X,W){var Y=X.children(o);return Y.data("kendoWindow")||Y.data("kendo"+W)}function R(W){return s(r).filter(function(){var X=s(this);return X.is(T)&&u(X,W).options.modal}).sort(function(Y,X){return +s(Y).css("zIndex")-+s(X).css("zIndex")})}function l(X,W){return function(){var aa=this,ab=aa.wrapper,Z=ab[0].style,Y=aa.options;if(Y.isMaximized||Y.isMinimized){return}aa.restoreOptions={width:Z.width,height:Z.height};ab.find(m).hide().end().find(O).parent().hide().eq(0).before(a.action({name:"Restore"}));W.call(aa);return aa}}var i=b.extend({init:function(aa,ag){var ac=this,W,Z,X,ae,ab=false,ad,af,Y;b.fn.init.call(ac,aa,ag);ag=ac.options;aa=ac.element;ad=ag.content;ac.appendTo=s(ag.appendTo||document.body);ac._animations();if(ad&&!U(ad)){ad=ag.content={url:ad}}if(!aa.parent().is(ac.appendTo)){if(aa.is(T)){Z=aa.offset();ab=true}else{X=aa.css("visibility");ae=aa.css("display");aa.css({visibility:L,display:""});Z=aa.offset();aa.css({visibility:X,display:ae})}}if(!G(ag.visible)){ag.visible=aa.is(T)}W=ac.wrapper=aa.closest(r);if(!aa.is(".k-content")||!W[0]){aa.addClass("k-window-content k-content");ac._createWindow(aa,ag);W=ac.wrapper=aa.closest(r);ac._dimensions()}if(Z){W.css({top:Z.top,left:Z.left})}if(ad){ac.refresh(ad)}ac.toFront();af=W.children(o);ac._tabindex(af);if(ag.visible&&ag.modal){ac._overlay(W.is(T)).css({opacity:0.5})}W.on("mouseenter"+x,H,function(){s(this).addClass(y)}).on("mouseleave"+x,H,function(){s(this).removeClass(y)}).on("touchend"+x+" click"+x,H,M(ac._windowActionHandler,ac));af.on("keydown"+x,M(ac._keydown,ac)).on("focus"+x,function(){W.addClass(D)}).on("blur"+x,function(){W.removeClass(D)});if(ag.resizable){W.on("dblclick"+x,t,M(ac.toggleMaximization,ac));K("n e s w se sw ne nw".split(" "),function(ah,ai){W.append(a.resizeHandle(ai))});ac.resizing=new S(ac)}if(ag.draggable){ac.dragging=new n(ac)}Y=aa.attr("id");if(Y){Y=Y+"_wnd_title";W.find(t).children(Q).attr("id",Y);af.attr({role:"dialog","aria-labelledby":Y})}W.add(W.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+x,M(ac.toFront,ac));ac.touchScroller=v.touchScroller(aa);ac._resizeHandler=function(ah){return ac._onDocumentResize(ah)};s(window).on("resize",ac._resizeHandler);if(ag.visible){ac.trigger(J);ac.trigger(g)}v.notify(ac)},_dimensions:function(){var Y=this,Z=Y.wrapper,X=Y.element,W=Y.options;Y.title(W.title);if(W.width){Z.width(W.width)}if(W.height){Z.height(W.height)}K(["minWidth","minHeight","maxWidth","maxHeight"],function(aa,ac){var ab=W[ac];if(ab&&ab!=Infinity){X.css(ac,ab)}});if(!W.visible){Z.hide()}},_animations:function(){var W=this.options;if(W.animation===false){W.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},setOptions:function(W){b.fn.setOptions.call(this,W);this._animations();this._dimensions()},events:[J,g,C,P,q,V,F,z,w],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity},_keydown:function(ad){var ac=this,ag=ac.options,af=v.keys,ae=ad.keyCode,Y=ac.wrapper,Z,ab,X=10,aa,W;if(ad.target!=ad.currentTarget){return}if(ae==af.ESC){ac._close(true)}if(ag.draggable&&!ad.ctrlKey){Z=Y.offset();if(ae==af.UP){ab=Y.css("top",Z.top-X)}else{if(ae==af.DOWN){ab=Y.css("top",Z.top+X)}else{if(ae==af.LEFT){ab=Y.css("left",Z.left-X)}else{if(ae==af.RIGHT){ab=Y.css("left",Z.left+X)}}}}}if(ag.resizable&&ad.ctrlKey){if(ae==af.UP){ab=true;W=Y.height()-X}else{if(ae==af.DOWN){ab=true;W=Y.height()+X}}if(ae==af.LEFT){ab=true;aa=Y.width()-X}else{if(ae==af.RIGHT){ab=true;aa=Y.width()+X}}if(ab){Y.css({width:N(aa,ag.minWidth,ag.maxWidth),height:N(W,ag.minHeight,ag.maxHeight)})}}if(ab){ad.preventDefault()}},_overlay:function(X){var W=this.appendTo.children(".k-overlay"),Y=this.wrapper;if(!W.length){W=s("<div class='k-overlay' />")}W.insertBefore(Y[0]).toggle(X).css(d,parseInt(Y.css(d),10)-1);return W},_windowActionHandler:function(Y){var X=s(Y.target).closest(".k-window-action").find(".k-icon"),W=this;K({"k-i-close":function(){W._close(true)},"k-i-maximize":W.maximize,"k-i-minimize":W.minimize,"k-i-restore":W.restore,"k-i-refresh":W.refresh},function(Z,aa){if(X.hasClass(Z)){Y.preventDefault();aa.call(W);return false}})},center:function(){var X=this.wrapper,W=s(window);X.css({left:W.scrollLeft()+Math.max(0,(W.width()-X.width())/2),top:W.scrollTop()+Math.max(0,(W.height()-X.height())/2)});return this},title:function(ab){var Z=this,ac=Z.wrapper,X=Z.options,W=ac.find(t),aa=W.children(Q),Y=W.outerHeight();if(!arguments.length){return aa.text()}if(ab===false){ac.addClass("k-window-titleless");W.remove()}else{if(!W.length){ac.prepend(a.titlebar(f(a,X)))}ac.css("padding-top",Y);W.css("margin-top",-Y)}aa.text(ab);return Z},content:function(W){var X=this.wrapper.children(o);if(!W){return X.html()}X.html(W);return this},open:function(){var Z=this,ac=Z.wrapper,X=Z.options,Y=X.animation.open,aa=ac.children(o),ab=aa.css(E),W;if(!Z.trigger(J)){Z.toFront();X.visible=true;if(X.modal){W=Z._overlay(false);if(Y.duration){W.kendoStop().kendoAnimate({effects:"fade:in",duration:Y.duration})}else{W.css("opacity",0.5).show()}}if(!ac.is(T)){aa.css(E,L);ac.show().kendoStop().kendoAnimate({effects:Y.effects,duration:Y.duration,complete:function(){Z.element.focus();Z.trigger(g);aa.css(E,ab)}})}}if(X.isMaximized){Z._documentScrollTop=s(document).scrollTop();s("html, body").css(E,L)}return Z},_close:function(Y){var aa=this,W=aa.wrapper,ae=aa.options,ad=ae.animation.open,ab=ae.animation.close,Z,ac,X;if(W.is(T)&&!aa.trigger(P,{userTriggered:!!Y})){ae.visible=false;Z=R(ae.name);ac=ae.modal&&Z.length==1&&Z[0]==aa.wrapper[0];X=ae.modal?aa._overlay(true):s(k);if(ac){if(ab.duration){X.kendoStop().kendoAnimate({effects:"fade:out",duration:ab.duration,hide:true})}else{X.hide()}}else{if(Z.length){u(Z.eq(Z.length-2),ae.name)._overlay(true)}}W.kendoStop().kendoAnimate({effects:ab.effects||ad.effects,reverse:ab.reverse===true,duration:ab.duration,complete:function(){W.hide();aa.trigger(C)}})}if(aa.options.isMaximized){s("html, body").css(E,"");if(aa._documentScrollTop&&aa._documentScrollTop>0){s(document).scrollTop(aa._documentScrollTop)}}},close:function(){this._close(false);return this},toFront:function(){var Y=this,aa=Y.wrapper,X=aa[0],Z=+aa.css(d),W=Z;s(r).each(function(ad,ac){var ab=s(ac),af=ab.css(d),ae=ab.find(o);if(!isNaN(af)){Z=Math.max(+af,Z)}if(ac!=X&&ae.find("> ."+e).length>0){ae.append(a.overlay)}});if(Z==10001||W<Z){aa.css(d,Z+2);Y.element.find("> .k-overlay").remove()}Y.element.focus();return Y},toggleMaximization:function(){return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var X=this,W=X.options,Y=X.restoreOptions;if(!W.isMaximized&&!W.isMinimized){return}X.wrapper.css({position:"absolute",left:Y.left,top:Y.top,width:Y.width,height:Y.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(O).parent().show();s("html, body").css(E,"");if(this._documentScrollTop&&this._documentScrollTop>0){s(document).scrollTop(this._documentScrollTop)}W.isMaximized=W.isMinimized=false;X.trigger(V);return X},maximize:l("maximize",function(){var X=this,Y=X.wrapper,W=Y.position();f(X.restoreOptions,{left:W.left,top:W.top});Y.css({left:0,top:0,position:"fixed"});this._documentScrollTop=s(document).scrollTop();s("html, body").css(E,L);X.options.isMaximized=true;X._onDocumentResize()}),minimize:l("minimize",function(){var W=this;W.wrapper.css("height","");W.element.hide();W.options.isMinimized=true}),_onDocumentResize:function(){var X=this,Y=X.wrapper,W=s(window);if(!X.options.isMaximized){return}Y.css({width:W.width(),height:W.height()-parseInt(Y.css("padding-top"),10)});X.trigger(V)},refresh:function(Y){var ac=this,ab=ac.options,Z=s(ac.element),aa,W,X;if(!U(Y)){Y={url:Y}}Y=f({},ab.content,Y);W=G(ab.iframe)?ab.iframe:Y.iframe;X=Y.url;if(X){if(!G(W)){W=!B(X)}if(!W){ac._ajaxRequest(Y)}else{aa=Z.find("."+e)[0];if(aa){aa.src=X||aa.src}else{Z.html(a.contentFrame(f({},ab,{content:Y})))}Z.find("."+e).unbind("load"+x).on("load"+x,function(){ac.trigger(q)})}}else{if(Y.template){ac.content(c(Y.template)({}))}ac.trigger(q)}return ac},_ajaxRequest:function(W){var Y=this,Z=W.template,X=Y.wrapper.find(".k-window-titlebar .k-i-refresh"),aa=setTimeout(function(){X.addClass(p)},100);jQuery.ajax(f({type:"GET",dataType:"html",cache:false,error:M(function(ac,ab){Y.trigger(w,{status:ab,xhr:ac})},Y),complete:function(){clearTimeout(aa);X.removeClass(p)},success:M(function(ab,ac){if(Z){ab=c(Z)(ab||{})}Y.element.html(ab);Y.trigger(q)},Y)},W))},destroy:function(){var Y=this,X,W;b.fn.destroy.call(Y);v.destroy(Y.wrapper);if(Y.resizing){Y.resizing.destroy()}if(Y.dragging){Y.dragging.destroy()}Y.wrapper.remove().add(Y.wrapper.find(".k-resize-handle,.k-window-titlebar")).off(x);s(window).off("resize",Y._resizeHandler);X=R();W=Y.options.modal&&!X.length;if(W){Y._overlay(false).remove()}else{if(X.length>0){u(X.eq(X.length-2),Y.options.name)._overlay(true)}}},_createWindow:function(){var Z=this,aa=Z.element,Y=Z.options,W,ab,X=v.support.isRtl(aa);if(Y.scrollable===false){aa.attr("style","overflow:hidden;")}if(Y.iframe&&Y.content){aa.html(a.contentFrame(Y))}ab=s(a.wrapper(Y));if(Y.title!==false){ab.append(a.titlebar(f(a,Y)))}W=aa.find("iframe:not(.k-content)").map(function(ac){var ad=this.getAttribute("src");this.src="";return ad});ab.toggleClass("k-rtl",X).appendTo(Z.appendTo).append(aa).find("iframe:not(.k-content)").each(function(ac){this.src=W[ac]});ab.find(".k-window-title").css(X?"left":"right",ab.find(".k-window-actions").outerWidth()+10);aa.show()}});a={wrapper:c("<div class='k-widget k-window' />"),action:c("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:c("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:c("<iframe frameborder='0' title='#= title #' class='"+e+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:c("<div class='k-resize-handle k-resize-#= data #'></div>")};function S(X){var W=this;W.owner=X;W._draggable=new h(X.wrapper,{filter:m,group:X.wrapper.id+"-resizing",dragstart:M(W.dragstart,W),drag:M(W.drag,W),dragend:M(W.dragend,W)})}S.prototype={dragstart:function(Y){var X=this,W=X.owner,Z=W.wrapper;X.elementPadding=parseInt(W.wrapper.css("padding-top"),10);X.initialCursorPosition=Z.offset();X.resizeDirection=Y.currentTarget.prop("className").replace("k-resize-handle k-resize-","");X.initialSize={width:Z.width(),height:Z.height()};X.containerOffset=W.appendTo.offset(),Z.append(a.overlay).find(m).not(Y.currentTarget).hide();s(I).css(A,Y.currentTarget.css(A))},drag:function(ae){var ad=this,Z=ad.owner,X=Z.wrapper,ak=Z.options,ah=ad.resizeDirection,ac=ad.containerOffset,aa=ad.initialCursorPosition,aj=ad.initialSize,ab,W,Y,ai,ag=ae.x.location,af=ae.y.location;if(ah.indexOf("e")>=0){ab=ag-aa.left;X.width(N(ab,ak.minWidth,ak.maxWidth))}else{if(ah.indexOf("w")>=0){ai=aa.left+aj.width;ab=N(ai-ag,ak.minWidth,ak.maxWidth);X.css({left:ai-ab-ac.left,width:ab})}}if(ah.indexOf("s")>=0){W=af-aa.top-ad.elementPadding;X.height(N(W,ak.minHeight,ak.maxHeight))}else{if(ah.indexOf("n")>=0){Y=aa.top+aj.height;W=N(Y-af,ak.minHeight,ak.maxHeight);X.css({top:Y-W-ac.top,height:W})}}Z.trigger(V)},dragend:function(Y){var X=this,W=X.owner,Z=W.wrapper;Z.find(j).remove().end().find(m).not(Y.currentTarget).show();s(I).css(A,"");if(W.touchScroller){W.touchScroller.reset()}if(Y.keyCode==27){Z.css(X.initialCursorPosition).css(X.initialSize)}return false},destroy:function(){this._draggable.destroy()}};function n(X){var W=this;W.owner=X;W._draggable=new h(X.wrapper,{filter:t,group:X.wrapper.id+"-moving",dragstart:M(W.dragstart,W),drag:M(W.drag,W),dragend:M(W.dragend,W),dragcancel:M(W.dragcancel,W)})}n.prototype={dragstart:function(Z){var Y=this.owner,W=Y.element,aa=W.find(".k-window-actions"),X=Y.appendTo.offset();Y.trigger(F);Y.initialWindowPosition=Y.wrapper.position();Y.startPosition={left:Z.x.client-Y.initialWindowPosition.left,top:Z.y.client-Y.initialWindowPosition.top};if(aa.length>0){Y.minLeftPosition=aa.outerWidth()+parseInt(aa.css("right"),10)-W.outerWidth()}else{Y.minLeftPosition=20-W.outerWidth()}Y.minLeftPosition-=X.left;Y.minTopPosition=-X.top;Y.wrapper.append(a.overlay).find(m).hide();s(I).css(A,Z.currentTarget.css(A))},drag:function(X){var W=this.owner,Y={left:Math.max(X.x.client-W.startPosition.left,W.minLeftPosition),top:Math.max(X.y.client-W.startPosition.top,W.minTopPosition)};s(W.wrapper).css(Y)},_finishDrag:function(){var W=this.owner;W.wrapper.find(m).toggle(!W.options.isMinimized).end().find(j).remove();s(I).css(A,"")},dragcancel:function(W){this._finishDrag();W.currentTarget.closest(r).css(this.owner.initialWindowPosition)},dragend:function(W){this._finishDrag();this.owner.trigger(z);return false},destroy:function(){this._draggable.destroy()}};v.ui.plugin(i)})(window.kendo.jQuery);